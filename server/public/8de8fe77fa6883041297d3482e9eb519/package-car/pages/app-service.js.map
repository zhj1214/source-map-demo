{"version":3,"file":"","sourceRoot":"","sources":["../../../../../../src/package-car/pages/preview/back-setting.ts","../../../../../../src/package-car/pages/preview/wish.ts","../../../../../../src/package-car/pages/purchase/purchase.ts","../../../../../../src/package-car/pages/purchase/util.ts","../../../../../../src/package-car/pages/vehicle-setting/flag.ts","../../../../../../src/package-car/pages/vehicle-setting/get-skus.ts","../../../../../../src/package-car/pages/vehicle-setting/optional-data.ts","../../../../../../src/package-car/pages/vehicle-setting/package-data.ts","../../../../../../src/package-car/pages/vehicle-setting/select.ts","../../../../../../src/package-car/pages/vehicle-setting/setting.ts","../../../../../../src/package-car/pages/preview/config-info.vue","../../../../../../uniComponent:/L1VzZXJzL3N1cGF1ci9EZXNrdG9wL2dpdFByb2plY3QvYWxwaGEvZmUtbWFsbC1oNS9zcmMvcGFja2FnZS1jYXIvcGFnZXMvcHJldmlldy9jb25maWctaW5mby52dWU","../../../../../../src/package-car/pages/purchase/buyer-info.vue","../../../../../../uniComponent:/L1VzZXJzL3N1cGF1ci9EZXNrdG9wL2dpdFByb2plY3QvYWxwaGEvZmUtbWFsbC1oNS9zcmMvcGFja2FnZS1jYXIvcGFnZXMvcHVyY2hhc2UvYnV5ZXItaW5mby52dWU","../../../../../../src/package-car/pages/purchase/price-info.vue","../../../../../../uniComponent:/L1VzZXJzL3N1cGF1ci9EZXNrdG9wL2dpdFByb2plY3QvYWxwaGEvZmUtbWFsbC1oNS9zcmMvcGFja2FnZS1jYXIvcGFnZXMvcHVyY2hhc2UvcHJpY2UtaW5mby52dWU","../../../../../../src/package-car/pages/test-drive/test-drive-form.vue","../../../../../../uniComponent:/L1VzZXJzL3N1cGF1ci9EZXNrdG9wL2dpdFByb2plY3QvYWxwaGEvZmUtbWFsbC1oNS9zcmMvcGFja2FnZS1jYXIvcGFnZXMvdGVzdC1kcml2ZS90ZXN0LWRyaXZlLWZvcm0udnVl","../../../../../../src/package-car/pages/vehicle-setting/exterior-rim-img.vue","../../../../../../uniComponent:/L1VzZXJzL3N1cGF1ci9EZXNrdG9wL2dpdFByb2plY3QvYWxwaGEvZmUtbWFsbC1oNS9zcmMvcGFja2FnZS1jYXIvcGFnZXMvdmVoaWNsZS1zZXR0aW5nL2V4dGVyaW9yLXJpbS1pbWcudnVl","../../../../../../src/package-car/pages/vehicle-setting/exterior-setting.vue","../../../../../../uniComponent:/L1VzZXJzL3N1cGF1ci9EZXNrdG9wL2dpdFByb2plY3QvYWxwaGEvZmUtbWFsbC1oNS9zcmMvcGFja2FnZS1jYXIvcGFnZXMvdmVoaWNsZS1zZXR0aW5nL2V4dGVyaW9yLXNldHRpbmcudnVl","../../../../../../src/package-car/pages/vehicle-setting/inner-setting.vue","../../../../../../uniComponent:/L1VzZXJzL3N1cGF1ci9EZXNrdG9wL2dpdFByb2plY3QvYWxwaGEvZmUtbWFsbC1oNS9zcmMvcGFja2FnZS1jYXIvcGFnZXMvdmVoaWNsZS1zZXR0aW5nL2lubmVyLXNldHRpbmcudnVl","../../../../../../src/package-car/pages/vehicle-setting/packages-setting.vue","../../../../../../uniComponent:/L1VzZXJzL3N1cGF1ci9EZXNrdG9wL2dpdFByb2plY3QvYWxwaGEvZmUtbWFsbC1oNS9zcmMvcGFja2FnZS1jYXIvcGFnZXMvdmVoaWNsZS1zZXR0aW5nL3BhY2thZ2VzLXNldHRpbmcudnVl","../../../../../../src/package-car/pages/vehicle-setting/rim-setting.vue","../../../../../../uniComponent:/L1VzZXJzL3N1cGF1ci9EZXNrdG9wL2dpdFByb2plY3QvYWxwaGEvZmUtbWFsbC1oNS9zcmMvcGFja2FnZS1jYXIvcGFnZXMvdmVoaWNsZS1zZXR0aW5nL3JpbS1zZXR0aW5nLnZ1ZQ","../../../../../../src/package-car/pages/dealer-list/index.vue","../../../../../../uniPage:/cGFja2FnZS1jYXIvcGFnZXMvZGVhbGVyLWxpc3QvaW5kZXgudnVl","../../../../../../src/package-car/pages/test-drive/index.vue","../../../../../../uniPage:/cGFja2FnZS1jYXIvcGFnZXMvdGVzdC1kcml2ZS9pbmRleC52dWU","../../../../../../src/package-car/pages/choice-stores/index.vue","../../../../../../uniPage:/cGFja2FnZS1jYXIvcGFnZXMvY2hvaWNlLXN0b3Jlcy9pbmRleC52dWU","../../../../../../src/package-car/pages/privacy-agreement/privacy-agreement.vue","../../../../../../uniPage:/cGFja2FnZS1jYXIvcGFnZXMvcHJpdmFjeS1hZ3JlZW1lbnQvcHJpdmFjeS1hZ3JlZW1lbnQudnVl","../../../../../../src/package-car/pages/appointment-complete/index.vue","../../../../../../uniPage:/cGFja2FnZS1jYXIvcGFnZXMvYXBwb2ludG1lbnQtY29tcGxldGUvaW5kZXgudnVl","../../../../../../src/package-car/pages/select-vehicle/index.vue","../../../../../../uniPage:/cGFja2FnZS1jYXIvcGFnZXMvc2VsZWN0LXZlaGljbGUvaW5kZXgudnVl","../../../../../../src/package-car/pages/series-detail/index.vue","../../../../../../uniPage:/cGFja2FnZS1jYXIvcGFnZXMvc2VyaWVzLWRldGFpbC9pbmRleC52dWU","../../../../../../src/package-car/pages/vehicle-setting/index.vue","../../../../../../uniPage:/cGFja2FnZS1jYXIvcGFnZXMvdmVoaWNsZS1zZXR0aW5nL2luZGV4LnZ1ZQ","../../../../../../src/package-car/pages/packages-detail/index.vue","../../../../../../uniPage:/cGFja2FnZS1jYXIvcGFnZXMvcGFja2FnZXMtZGV0YWlsL2luZGV4LnZ1ZQ","../../../../../../uniPage:/cGFja2FnZS1jYXIvcGFnZXMvcHJldmlldy9pbmRleC52dWU","../../../../../../src/package-car/pages/purchase/index.vue","../../../../../../uniPage:/cGFja2FnZS1jYXIvcGFnZXMvcHVyY2hhc2UvaW5kZXgudnVl","../../../../../../src/package-car/pages/select-provider/index.vue","../../../../../../uniPage:/cGFja2FnZS1jYXIvcGFnZXMvc2VsZWN0LXByb3ZpZGVyL2luZGV4LnZ1ZQ","../../../../../../uniPage:/cGFja2FnZS1jYXIvcGFnZXMvYWdyZWVtZW50cy9pbnRlbnQtYW5kLWNvbmRpdGlvbnMudnVl","../../../../../../uniPage:/cGFja2FnZS1jYXIvcGFnZXMvYWdyZWVtZW50cy9wdXJjaGFzZS1hZ3JlZW1lbnQudnVl","../../../../../../src/package-car/pages/switch-tenants/index.vue","../../../../../../uniPage:/cGFja2FnZS1jYXIvcGFnZXMvc3dpdGNoLXRlbmFudHMvaW5kZXgudnVl"],"names":["carStore","useCarStore","index","hideWish","model","cartWishId","setConfigActive","pages","getCurrentPages","length","uni","navigateTo","url","itemId","navigateBack","delta","getWishData","async","optionalPackIds","skuId","list","getCartWishList","wish","map","item","id","extra","find","sort","console","log","join","error","Error","deleteWish","Promise","resolve","reject","showModal","title","content","success","res","confirm","showLoading","deleteCartWish","hideLoading","addWish","vehicle","packages","cancelText","confirmText","pk","data","placeOrderFlag","skuData","itemPreSaleVO","preSaleFlag","showPriceFlag","itemName","attrs","modelName","carPoster","totalPrice","saleAttrs","outColor","name","outPainting","rim","innerColor","innerMaterial","addCartWish","showToast","duration","computed","computed$1","value","provider","buyer","ref","phone","idNum","carOwner","idTypeArr","label","idType","reactive","isLogin","useAppStore","getReserveTypes","reserveTypes","depositPrice","skuPriceVO","price","intentionPrice","types","payMode","includes","push","text","desc","toShowToastAndScroll","selector","pageScrollTo","icon","handletoBuy","options","toBuy","loading","reserveType","judgeFlag","checked","validFlag","validArr","msg","validFn","checkName","checkPhone","checkIdCard","relogin","handleToValid","businessId","getBusinessId","vmId","vehiclePayType","orderChannel","itemToOrderList","quantity","purchaser","mobile","dealerId","Object","assign","certificateType","certificateNumber","orderId","addOrder","redirectTo","toSelectProvider","initBuyerInfo","selectorVisible","toInit","parms","Number","pkIds","split","getSkuDetail","_b","_a","immediate","outText","innerText","reservePrice","type","getReservePrice","idCard","test","idCardWi","idCardY","idCardWiSum","i","substring","idCardMod","idCardLast","String","toSkuOutPaintingFlag","sku","carFacadeVO","toSkuRimFlag","carRimVo","toSkuInnerColorFlag","carInteriorVO","toSkuOutColorFlag","toSkuInnerMaterialFlag","getSkus","resData","getCarSkus","terminal","handleAfterCarSkus","configActive","useSkuFlag","skus","initSkus","useSkus","outPrice","rimPrice","innerPrice","active","series","innerImgList","outColorList","forEach","disabled","filter","keys","key","getOutColorList","matchSkus","getSkuData","outPaintingList","getOutPaintingList","rimList","getRimLst","innerColorList","getInnerColorList","innerMaterialList","getInnerMaterial","setData","outCarData","inject","packagesList","gdp","iconHelp","iconNoChecked","iconChecked","carAssemblerMaterialVO","singleImageInfo","path","getImgSrc","findIndex","toSelectPackages","splice","setVehicle","goPackagesDetail","setTempData","handleSelectColor","paraObj","handleSetVehicle","getOuterPrice","handleGetOuterPrice","toSelectOutPainting","handleSelectPainting","toSelectOutColor","it","_a2","toSelectRim","handleSelectRim","_c","toSelectInnerColor","handleSelectInnerColor","_d","getInnerPrice","handleGetInnerPrice","toSelectInnerMaterial","handleSelectInnerMaterial","bannerImgs","useSelect","useExteriorSetting","initData","setNavigationBarTitle","getVehicleDeatil","pamrs2","setPackagesList","optionalPackageVOS","getDetail","getOutCar","toRequireCheck","toShowToastFn","flag","getRequireCheck","handleEdit","val","emit","wx","createComponent","Component","usePurchase","bottomIcon","choiceCarSerise","iconArrowRight","date","Date","year","getFullYear","month","getMonth","day","getDate","startDate","endDate","instance","getCurrentInstance","addressStore","useAddressStore","selectedDealer","getVerificationCode","isDisabledCodeBtn","mobileNumObj","props","formDataList","rules","rule","mobileNum","getCode","codeTimer","countDown","clearInterval","setInterval","getCountDown","getCarInfoName","getValue","carSeriseName","carModelName","code","watch","dealer","verificationCodeValue","toBindDateChange","e","changeDate","detail","reservationTime","getTime","currentInfoObj","refs","openPopup","JSON","stringify","car360Img","touching","clientX","clientY","rotatable","disabledPull","startIndex","imgIndex","car360","setImgData","newVal","Math","floor","deep","showImg360","slice","oldValue","nextTick","toDealShowImg","unit","num","gtH","abs","timeOut","toRotate","setTimeout","imgIndexTemp","touchstart","touches","touchStep","touchmove","clientXTemp","clientYTemp","step","onMounted","common_vendor","usePackageData","isRefresh","pageNo","pageSize","isLastPage","isLoading","isEmpty","dealerList","onShow","onPullDownRefresh","onReachBottom","onRefresh","getList","stopPullDownRefresh","onScrolltolower","dealerData","getDealerList","total","dealers","address","details","image","createPage","MiniProgramPage","TestDriveForm","userStore","useUserStore","testDriveMainImg","isChecked","isDisabled","placeholder","maxlength","rightContentType","every","getUserInfo","goToAgreement","submitInfo","throttle","dataArr","toFormValidate","params","driverName","smsCaptcha","modelCode","dealerCode","source","setReservation","trailing","onLoad","getStorageSync","onUnload","pinia_address","$patch","selectedCity","Option","parse","locationStore","getLocation","currentLatitude","latitude","currentLongitude","longitude","getCityCode","scope","useLocationStore","location","cityInfo","cityValue","cityCode","province","city","currentCityText","iconArrowDown","iconRadioChecked","iconRadioNoChecked","cityPickerVisible","markers","distance","radLat1","toRadData","radLat2","gpsLatitude","a","b","gpsLongitude","asin","sqrt","pow","sin","cos","round","toFixed","formatDistance","scale","handlePickerChange","cityData","getGps","getInstitution","d","PI","toEmitSelectedDealer","openCityPicker","_sfc_main","completeImg","dataList","toBackIndex","switchTab","goSetting","isShowInfo","carSeries","carModel","modelActive","activeTab","handleTabChange","menuVal","setModelActive","seriesList","modelList","toSelectSeries","seriesObj","getModelList","toClearModel","toSelectModel","modelObj","vehicles","groupedCustomAttributes","attr","attrKey","attrVal","handleData","tabs","getCarSeries","tempData","carDetail","richText","parseHtml","backCategoryId","checkSeries","setVehicleInfo","vehicleData","scrollTop","productAssessList","onloadMore","ExteriorRimImg","PriceBtnBottom","ExteriorSetting","RimSetting","InnerSetting","PackagesSetting","getSku","provide","useSetting","tabList","nextBtnText","setOutData","imageList","img","touchend","priceBtnBottom","toNext","urlStr","cancelBtn","BuyerInfo","PriceInfo","setProvider","onBackPress","toIdChange","goPreview","goToPurchaseAgreement","goToIntent","appStore","itemCheckImg","locationImg","getProvider","toCityChange","refresh","telephone","handleCityPicker","currentTenant","selectedTenantName","tenantName","selectedTenant","tenantId","tenantList","toTpmTenantList","getTpmTenantList","changeTenant","removeStorageSync","setStorageSync","setLoginStatus","tenant"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","sourcesContent":["import { useCarStore } from '@src/pinia/car'\n\nconst carStore = useCarStore()\n/**\n *\n * @param index  修改的不同模块 0:外饰, 1:轮圈, 2:内饰, 3:选装\n * @param hideWish 是否隐藏心愿单按钮\n * @param model 车型信息\n * @param cartWishId 心愿单id\n */\nexport default function useGoBackSetting(index: number, hideWish: boolean, model: { itemId: number }, cartWishId: string) {\n  carStore.setConfigActive(index)\n  const pages = getCurrentPages()\n  if (hideWish || pages.length === 1) {\n    uni.navigateTo({\n      url: `/package-car/pages/vehicle-setting/index?itemId=${model.itemId}&hideWish=true&cartWishId=${cartWishId}`\n    })\n  } else {\n    uni.navigateBack({\n      delta: 1\n    })\n  }\n}\n","import { getCartWishList, addCartWish, deleteCartWish } from '@src/api/cart-wish'\nimport { useCarStore } from '@src/pinia/car'\n\ninterface WishInfo {\n  id: string\n  skuId: string\n  optionalPackIds: string[]\n}\n\ninterface WishId {\n  id: string\n}\n\nconst carStore = useCarStore()\n\n/**\n *\n *获取心愿单\n * @return {wish}\n */\nconst getWishData = async (optionalPackIds: string[], skuId: string): Promise<WishId> => {\n  try {\n    const list: Array<{ id: string; skuId: string; extra: { optionalPackIds: string[] } }> = (await getCartWishList()) as Array<{\n      id: string\n      skuId: string\n      extra: { optionalPackIds: string[] }\n    }>\n    const wishList: WishInfo[] = list.map((item) => {\n      return {\n        id: item.id,\n        skuId: item.skuId,\n        optionalPackIds: item.extra.optionalPackIds\n      }\n    })\n    const wish = wishList.find((item) => {\n      item.optionalPackIds.sort()\n      optionalPackIds.sort()\n      console.log(item.optionalPackIds.join(','), '2323', optionalPackIds.join(','), 'hehhehhe')\n      return item.skuId === skuId && item.optionalPackIds.join(',') === optionalPackIds.join(',')\n    })\n    return {\n      id: wish ? wish.id : ''\n    }\n  } catch (error) {\n    throw new Error('获取心愿单失败')\n  }\n}\n\n/**\n * 删除心愿单\n */\nconst deleteWish = (cartWishId: string) => {\n  return new Promise((resolve, reject) => {\n    uni.showModal({\n      title: '提示',\n      content: '确认删除心愿单吗？',\n      success: async (res) => {\n        if (res.confirm) {\n          try {\n            uni.showLoading({\n              title: '正在删除心愿单'\n            })\n            await deleteCartWish(cartWishId)\n            uni.hideLoading()\n            resolve('心愿单已删除')\n          } catch (error) {\n            uni.hideLoading()\n          }\n        }\n      }\n    })\n  })\n}\n\n/**\n * 添加心愿\n */\nconst addWish = (vehicle: AnyObject, model: AnyObject, packages: Car.Packages[]) => {\n  return new Promise((resolve, reject) => {\n    uni.showModal({\n      title: '提示',\n      cancelText: '不保存',\n      confirmText: '保存',\n      content: '是否将配置存入心愿单？',\n      success: async (res) => {\n        if (res.confirm) {\n          const optionalPackIds = packages.map((pk) => pk.id)\n          const data = {\n            placeOrderFlag: vehicle.skuData.itemPreSaleVO.placeOrderFlag,\n            preSaleFlag: vehicle.preSaleFlag,\n            showPriceFlag: vehicle.skuData.itemPreSaleVO.showPriceFlag,\n            itemId: vehicle.skuData.itemId,\n            itemName: model.attrs.title,\n            skuId: vehicle.skuData.id,\n            extra: {\n              modelName: model.attrs.title,\n              optionalPackIds,\n              carPoster: vehicle.carPoster,\n              totalPrice: carStore.totalPrice(vehicle), // 现为前端传入，待与后端沟通\n              saleAttrs: [\n                `${vehicle.outColor.name} + ${vehicle.outPainting.name} `,\n                vehicle.rim.name,\n                `${vehicle.innerColor.name} + ${vehicle.innerMaterial.name} `,\n                ...[...packages.map((pk) => pk.name)]\n              ]\n            }\n          }\n          try {\n            uni.showLoading({\n              title: '正在添加心愿单'\n            })\n            await addCartWish(data)\n            uni.hideLoading()\n            uni.showToast({\n              title: '添加心愿单成功',\n              duration: 1000\n            })\n            resolve('添加心愿单成功')\n          } catch (error) {\n            uni.hideLoading()\n            reject()\n          }\n        }\n      }\n    })\n  })\n}\n\nexport default function useWish() {\n  return {\n    getWishData,\n    deleteWish,\n    addWish\n  }\n}\n","import { useCarStore } from '@src/pinia/car'\nimport { computed, reactive, ref, ComputedRef, watch, Ref } from 'vue'\nimport { ReserveType, IdType, checkName, checkPhone, checkIdCard } from './util'\nimport { relogin } from '@src/api/request'\nimport { getBusinessId } from '@api/pay'\nimport { addOrder } from '@src/api/order'\nimport { useAppStore } from '@src/pinia/app'\nconst carStore = useCarStore()\n/**\n * 订单车辆信息\n */\nconst vehicle = computed(() => carStore.vehicle)\n/**\n * 车型\n */\nconst model = computed(() => vehicle.value.model || {})\n\nconst totalPrice: ComputedRef<string> = computed(() => carStore.totalPrice(vehicle.value))\n\nconst provider: ComputedRef<Dealer.Iteminfo> = computed(() => carStore.provider)\n\nconst buyer = ref('')\nconst phone = ref('')\nconst idNum = ref('')\nconst carOwner = ref('')\n\nconst idTypeArr = [\n  {\n    value: 0,\n    label: '居民身份证'\n  }\n]\nconst idType = reactive({\n  value: 0,\n  label: '居民身份证'\n})\n\nconst isLogin = computed(() => useAppStore().isLogin)\n\n/**\n * 组合外饰配置信息\n */\nfunction getOutText() {\n  const outText = computed(() => {\n    return `${(vehicle.value.outColor && vehicle.value.outColor.name) || ''}${\n      vehicle.value.outColor && vehicle.value.outColor.name && vehicle.value.outPainting && vehicle.value.outPainting.name ? '+' : ''\n    }${(vehicle.value.outPainting && vehicle.value.outPainting.name) || ''}`\n  })\n\n  return {\n    outText\n  }\n}\n\n/**\n *\n * 组合内饰配置信息\n * @returns\n */\nfunction getInnerText() {\n  const innerText = computed(() => {\n    return `${(vehicle.value.innerColor && vehicle.value.innerColor.name) || ''}${\n      vehicle.value.innerColor && vehicle.value.innerColor.name && vehicle.value.innerMaterial && vehicle.value.innerMaterial.name ? '+' : ''\n    }${(vehicle.value.innerMaterial && vehicle.value.innerMaterial.name) || ''}`\n  })\n\n  return {\n    innerText\n  }\n}\n\n/**\n * 预定方式\n * @returns {reserveTypes}\n */\nfunction getReserveTypes() {\n  const reserveTypes: ComputedRef<ReserveType[]> = computed(() => {\n    if (vehicle.value.skuData) {\n      const depositPrice = vehicle.value.skuData.skuPriceVO.depositPrice[0].price || 0\n      const intentionPrice = vehicle.value.skuData.skuPriceVO.intentionPrice[0].price || 0\n      const types = []\n      const payMode = vehicle.value.skuData.payMode\n      if ([1, 3].includes(payMode) && intentionPrice) {\n        types.push({\n          value: 0,\n          text: '意向金',\n          desc: '可退',\n          price: intentionPrice / 100\n        })\n      }\n      if ([2, 3].includes(payMode) && depositPrice) {\n        types.push({\n          value: 1,\n          text: '定金',\n          desc: '不可退',\n          price: depositPrice / 100\n        })\n      }\n      return types\n    }\n    return []\n  })\n\n  return {\n    reserveTypes\n  }\n}\n\n/**\n * 根据预定方式获取意向金或定金\n * @param reserveType\n * @returns {reservePrice}\n */\nfunction getReservePrice(reserveType: AnyObject) {\n  const { reserveTypes } = getReserveTypes()\n  const reservePrice = computed(() => {\n    const item = reserveTypes.value.find((type) => type.value === reserveType.value)\n    return item?.price || 0\n  })\n  return {\n    reservePrice\n  }\n}\n\n/**\n * 根据hash滚动到页面相应位置\n * @param content\n * @param selector\n */\nfunction toShowToastAndScroll(content: string, selector?: string) {\n  if (selector) {\n    uni.pageScrollTo({\n      selector\n    })\n  }\n  uni.showToast({\n    title: content,\n    duration: 1500,\n    icon: 'none'\n  })\n}\n\n// 验证购买和车主信息表单信息\nfunction handleToValid(options: AnyObject) {\n  const { reserveType, checked } = options\n  let validFlag = true\n  const validArr = [\n    { id: '#buyer', msg: '请填写购买人姓名', value: buyer, validFn: checkName },\n    { id: '#phone', msg: '请填写手机号码', value: phone, validFn: checkPhone },\n    { id: '#idNum', msg: '请填写证件号码', value: idNum, validFn: checkIdCard },\n    { id: '#provider', msg: '请选择服务商', value: provider, validFn: () => true }\n  ]\n  if (!isLogin.value) {\n    relogin()\n    validFlag = false\n    return\n  }\n\n  if (reserveType.value === 1) {\n    if (carOwner.value === '') {\n      toShowToastAndScroll('请填写车主姓名', '#carOwner')\n      validFlag = false\n      return\n    } else if (!checkName(carOwner.value)) {\n      carOwner.value = ''\n      uni.pageScrollTo({ selector: '#carOwner' })\n      validFlag = false\n    }\n  }\n\n  for (const item of validArr) {\n    if (item.value.value && item.validFn(item.value.value)) {\n      continue\n    }\n\n    if (item.value.value === '') {\n      toShowToastAndScroll(item.msg, item.id)\n      validFlag = false\n      break\n    } else if (!item.validFn(item.value.value)) {\n      item.value.value = ''\n      uni.pageScrollTo({ selector: item.id })\n      validFlag = false\n      break\n    } else if (!provider.value.name) {\n      toShowToastAndScroll('请选择服务商', '#provider')\n      validFlag = false\n      break\n    } else if (!checked.value) {\n      toShowToastAndScroll('请阅读并同意相关协议')\n      validFlag = false\n      break\n    }\n  }\n\n  return validFlag\n}\n\n/**\n * 支付操作\n * @param options\n * @returns { toBuy, buyer, phone, idNum, carOwner }\n */\nfunction handletoBuy(options: AnyObject) {\n  const toBuy = async () => {\n    const { loading, reserveType, cartWishId, skuId, optionalPackIds } = options\n    const judgeFlag = handleToValid({ ...options, buyer, phone, idNum, carOwner })\n    if (!judgeFlag) {\n      return\n    }\n    // console.log('handleToValid({ ...options, buyer, phone, idNum, carOwner })', handleToValid({ ...options, buyer, phone, idNum, carOwner }))\n    loading.value = true\n    try {\n      const businessId = (await getBusinessId()) as string\n      const data = {\n        businessId,\n        vmId: 1,\n        vehiclePayType: reserveType.value,\n        orderChannel: cartWishId.value ? 1 : 0,\n        cartWishId: cartWishId.value || null,\n        itemToOrderList: [{ skuId: skuId.value, optionalPackIds, itemId: vehicle.value.skuData.itemId, quantity: 1 }],\n        purchaser: { name: buyer.value, mobile: phone.value, dealerId: provider.value.id }\n      }\n      if (reserveType.value === 0) {\n        Object.assign(data.purchaser, {\n          certificateType: idType.value,\n          certificateNumber: idNum.value\n        })\n      } else if (reserveType.value === 1) {\n        Object.assign(data, {\n          carOwner: {\n            name: carOwner.value,\n            certificateType: idType.value,\n            certificateNumber: idNum.value\n          }\n        })\n      }\n      const orderId = await addOrder(data)\n      loading.value = false\n      const url = `/package-life/pages/payment/index?orderId=${orderId}&type=0&isRedirect=${!cartWishId.value ? 'true' : 'false'}`\n      uni.redirectTo({ url })\n    } catch (error) {\n      loading.value = false\n    }\n  }\n\n  return { toBuy, buyer, phone, idNum, carOwner }\n}\n\n/**\n * 初始化预览配置页面跳转进入携带数据\n * @param parms\n * @returns\n */\nfunction handleInit(parms: { skuId: any; hideWish: any; cartWishId: any; optionalPackIds: any }) {\n  const toInit = (options: { skuId: any; hideWish: any; cartWishId: any; pkIds: any }) => {\n    const { skuId, hideWish, cartWishId, optionalPackIds } = parms\n    skuId.value = Number(options.skuId)\n    hideWish.value = options.hideWish === 'true'\n    cartWishId.value = Number(options.cartWishId)\n    if (skuId.value) {\n      options.pkIds && optionalPackIds.push(...options.pkIds.split(','))\n      carStore.getSkuDetail(skuId.value, optionalPackIds)\n    } else {\n      skuId.value = vehicle.value?.skuData?.id\n      optionalPackIds.push(...(vehicle.value.packages || []).map((pk: { id: string }) => pk.id))\n    }\n  }\n  return {\n    toInit\n  }\n}\n\n/**\n * 跳转到选择服务商选择页面\n */\nfunction toSelectProvider() {\n  uni.navigateTo({ url: `/package-car/pages/select-provider/index` })\n}\n\n/**\n * 初始化表单信息\n */\nfunction initBuyerInfo() {\n  buyer.value = ''\n  phone.value = ''\n  idNum.value = ''\n  carOwner.value = ''\n}\n\nexport default function usePurchase() {\n  /**\n   * 页面参数\n   * @var skuId skuid\n   * @var hideWish 隐藏加入心愿单\n   * @var cartWishId 心愿单id\n   * @var optionalPackIds\n   */\n  const hideWish = ref(false)\n  const cartWishId = ref(0)\n  const skuId = ref(0)\n  const selectorVisible = ref(false)\n  const optionalPackIds: string[] = reactive([])\n  const { toInit } = handleInit({ skuId, hideWish, cartWishId, optionalPackIds })\n  // 预订方式处理逻辑\n  const reserveType: Ref<null | number> = ref(null)\n  const { reserveTypes } = getReserveTypes()\n  watch(\n    reserveTypes,\n    (types: string | any[]) => {\n      reserveType.value = types.length ? types[0].value : null\n    },\n    {\n      immediate: true\n    }\n  )\n\n  const loading = ref(false)\n  const checked = ref(false)\n  const { outText } = getOutText()\n  const { innerText } = getInnerText()\n  const { reservePrice } = getReservePrice(reserveType)\n  const { toBuy } = handletoBuy({ loading, reserveType, cartWishId, skuId, optionalPackIds, idType, checked })\n  return {\n    outText,\n    innerText,\n    reservePrice,\n    reserveTypes,\n    reserveType,\n    idTypeArr,\n    idType,\n    totalPrice,\n    model,\n    vehicle,\n    buyer,\n    phone,\n    idNum,\n    carOwner,\n    provider,\n    checked,\n    selectorVisible,\n    toSelectProvider,\n    toInit,\n    initBuyerInfo,\n    toBuy\n  }\n}\n","export interface ReserveType {\n  value: number\n  text: string\n  desc: string\n  price: number\n}\n\nexport interface IdType {\n  label: string\n  value: number | null\n}\n\n/**\n * 校验购买人姓名\n * @param name\n * @returns\n */\nexport function checkName(name: string) {\n  if (name === '') {\n    return false\n  }\n  if (!/^[a-zA-Z\\u4E00-\\u9FA5\\uf900-\\ufa2d·s]{2,20}$/.test(name)) {\n    uni.showToast({ title: '姓名填写错误', duration: 1500, icon: 'none' })\n    return false\n  }\n  return true\n}\n/**\n * 校验购买人手机号\n * @param phone\n * @returns\n */\nexport function checkPhone(phone: string) {\n  if (phone === '') {\n    return false\n  }\n  if (!/^1[3456789]\\d{9}$/.test(phone)) {\n    uni.showToast({\n      title: '手机号格式错误',\n      duration: 1500,\n      icon: 'none'\n    })\n    return false\n  }\n  return true\n}\n/**\n * 校验身份证号\n * @param idCard\n * @returns\n */\nexport function checkIdCard(idCard: string) {\n  if (idCard === '') {\n    return false\n  }\n  // 15位和18位身份证号码的正则表达式\n  const regIdCard = /^(^[1-9]\\d{7}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d{3}$)|(^[1-9]\\d{5}[1-9]\\d{3}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])((\\d{4})|\\d{3}[Xx])$)$/\n  // 如果通过该验证，说明身份证格式正确，但准确性还需计算\n  if (regIdCard.test(idCard)) {\n    if (idCard.length === 18) {\n      const idCardWi = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2] // 将前17位加权因子保存在数组里\n      const idCardY = [1, 0, 10, 9, 8, 7, 6, 5, 4, 3, 2] // 这是除以11后，可能产生的11位余数、验证码，也保存成数组\n      let idCardWiSum = 0 // 用来保存前17位各自乖以加权因子后的总和\n      for (let i = 0; i < 17; i++) {\n        idCardWiSum += Number(idCard.substring(i, i + 1)) * idCardWi[i]\n      }\n      const idCardMod = idCardWiSum % 11 // 计算出校验码所在数组的位置\n      const idCardLast = idCard.substring(17) // 得到最后一位身份证号码\n      // 如果等于2，则说明校验码是10，身份证号码最后一位应该是X\n      if (idCardMod === 2) {\n        if (idCardLast === 'X' || idCardLast === 'x') {\n          // 恭喜通过验证啦\n          return true\n        } else {\n          // 身份证号码错误\n          uni.showToast({\n            title: '身份证号码错误',\n            duration: 1000,\n            icon: 'none'\n          })\n          return false\n        }\n      } else {\n        // 用计算出的验证码与最后一位身份证号码匹配，如果一致，说明通过，否则是无效的身份证号码\n        if (String(idCardLast) === String(idCardY[idCardMod])) {\n          // 恭喜通过验证啦\n          return true\n        } else {\n          // 身份证号码错误\n          uni.showToast({\n            title: '身份证号码错误',\n            duration: 1000,\n            icon: 'none'\n          })\n          return false\n        }\n      }\n    }\n  } else {\n    // 身份证格式不正确\n    uni.showToast({\n      title: '身份证格式不正确',\n      duration: 1000,\n      icon: 'none'\n    })\n    return false\n  }\n}\n","export default function useSkuFlag() {\n  interface Attributes {\n    data: {\n      name: string\n    }\n  }\n  /**\n   * 判断pinia中喷漆是否存在以及sku中的喷漆是否和pinia中的喷漆是否一致\n   * @param sku\n   * @param outPainting\n   * @returns\n   */\n  const toSkuOutPaintingFlag = (sku: Car.CarSku, outPainting: Attributes) => {\n    return !outPainting.data?.name || sku.carFacadeVO?.outPainting.name === outPainting.data.name\n  }\n\n  /**\n   * 判断pinia中轮毂是否存在以及sku中的轮毂是否和pinia中的轮毂是否一致\n   * @param sku\n   * @param rim\n   * @returns\n   */\n  const toSkuRimFlag = (sku: Car.CarSku, rim: Attributes) => {\n    return !rim.data?.name || sku.carRimVo.rim.name === rim.data.name\n  }\n\n  /**\n   * 判断pinia中内饰颜色是否存在以及sku中的内饰颜色是否和pinia中的内饰颜色是否一致\n   * @param sku\n   * @param innerColor\n   * @returns\n   */\n  const toSkuInnerColorFlag = (sku: Car.CarSku, innerColor: Attributes) => {\n    return !innerColor.data?.name || sku.carInteriorVO.innerColor.name === innerColor.data.name\n  }\n  /**\n   * 判断pinia中内饰材质是否存在以及sku中的内饰材质是否和pinia中的内饰材质是否一致\n   * @param sku\n   * @param innerMaterial\n   * @returns\n   */\n  const toSkuInnerMaterialFlag = (sku: Car.CarSku, innerMaterial: Attributes) => {\n    return !innerMaterial.data?.name || sku.carInteriorVO.innerMaterial.name === innerMaterial.data.name\n  }\n  /**\n   *  判断pinia中外饰颜色是否存在以及sku中的外饰颜色是否和pinia中的外饰颜色是否一致\n   * @param sku\n   * @param outColor\n   * @returns\n   */\n  const toSkuOutColorFlag = (sku: Car.CarSku, outColor: Attributes) => {\n    return !outColor.data?.name || sku.carFacadeVO?.outColor.name === outColor.data.name\n  }\n\n  return {\n    toSkuOutPaintingFlag,\n    toSkuRimFlag,\n    toSkuInnerColorFlag,\n    toSkuOutColorFlag,\n    toSkuInnerMaterialFlag\n  }\n}\n","import { computed, reactive } from 'vue'\nimport { getCarSkus } from '@api/car'\nimport { useCarStore } from '@src/pinia/car'\n\nconst carStore = useCarStore()\nconst model = reactive({\n  data: {} as Car.Model\n})\ninterface ItemId {\n  value: string\n}\n/**\n * 获取skus数据以及个性化配置 获取整车sku后的数据处理\n * @param itemId\n * @returns\n */\nexport default function useSkus(itemId: ItemId) {\n  const vehicle = computed(() => carStore.vehicle)\n  const getSkus = async () => {\n    model.data = vehicle.value.model\n    const resData = await getCarSkus({ itemId: itemId.value || model.data?.itemId, terminal: '' })\n    const finalData = carStore.handleAfterCarSkus(resData) as Car.CarSku[]\n    return finalData\n  }\n\n  return {\n    getSkus\n  }\n}\n","import { computed, reactive, ref } from 'vue'\nimport { useCarStore } from '@src/pinia/car'\nimport useSkus from './get-skus'\nimport useSkuFlag from './flag'\ninterface SkuParms {\n  [key: string]: {\n    data: Car.Option\n  }\n}\n\nconst carStore = useCarStore()\nconst vehicle = computed(() => carStore.vehicle)\nconst configActive = computed(() => carStore.configActive)\n\nconst { toSkuOutPaintingFlag, toSkuRimFlag, toSkuInnerColorFlag, toSkuOutColorFlag, toSkuInnerMaterialFlag } = useSkuFlag()\n/**\n * 定义skus\n */\nconst skus = reactive({\n  data: [] as Car.CarSku[]\n})\nconst initSkus = async (itemId: { value: any }) => {\n  const { getSkus } = useSkus(itemId)\n  skus.data = await getSkus()\n}\n\n/**\n * 初始化数据\n * @returns\n */\nfunction initData() {\n  // 外观配置\n  const outColor = reactive({\n    data: {} as Car.Option\n  })\n  // 喷漆配置\n  const outPainting = reactive({\n    data: {} as Car.Option\n  })\n  // 外饰价格\n  const outPrice = ref(0)\n  // 轮圈配置\n  const rim = reactive({\n    data: {} as Car.Option\n  })\n  // 轮圈价格\n  const rimPrice = ref(0)\n  // 内饰颜色\n  const innerColor = reactive({\n    data: {} as Car.Option\n  })\n  // 内饰材质\n  const innerMaterial = reactive({\n    data: {} as Car.Option\n  })\n  // 内饰价格\n  const innerPrice = ref(0)\n\n  // 选中的tab\n  const active = ref(configActive.value)\n  const series = reactive({\n    data: {} as Car.Series\n  })\n  const model = reactive({\n    data: {} as Car.Model\n  })\n  // 选装包\n  const packages = reactive({\n    data: [] as Car.Option[]\n  })\n\n  /**\n   * 内饰配置\n   */\n  const innerImgList = reactive({\n    data: []\n  })\n\n  return {\n    outColor,\n    outPainting,\n    outPrice,\n    rim,\n    rimPrice,\n    innerColor,\n    innerMaterial,\n    innerPrice,\n    active,\n    series,\n    model,\n    packages,\n    innerImgList\n  }\n}\n\n/**\n * 获取sku\n * @param { outColor, outPainting, rim, innerColor, innerMaterial }\n * @returns\n */\nfunction getSkuData({ outColor, outPainting, rim, innerColor, innerMaterial }: SkuParms) {\n  const matchSkus = computed(() => {\n    return skus.data.filter((sku: Car.CarSku) => {\n      return (\n        toSkuOutColorFlag(sku, outColor) &&\n        toSkuOutPaintingFlag(sku, outPainting) &&\n        toSkuRimFlag(sku, rim) &&\n        toSkuInnerColorFlag(sku, innerColor) &&\n        toSkuInnerMaterialFlag(sku, innerMaterial)\n      )\n    })\n  })\n  const skuData = computed(() => {\n    return matchSkus.value[0]\n  })\n\n  return {\n    skuData\n  }\n}\n\n/**\n * 外饰颜色列表\n * @param param0\n * @returns\n */\nfunction getOutColorList({ rim, outPainting, innerColor, innerMaterial }: SkuParms) {\n  const outColorList = computed(() => {\n    const list: any = {}\n    skus.data.forEach((sku: Car.CarSku) => {\n      list[sku.carFacadeVO?.outColor.name] = { ...sku.carFacadeVO?.outColor, disabled: true }\n    })\n    skus.data\n      .filter((sku: Car.CarSku) => {\n        return toSkuOutPaintingFlag(sku, outPainting) && toSkuRimFlag(sku, rim) && toSkuInnerColorFlag(sku, innerColor) && toSkuInnerMaterialFlag(sku, innerMaterial)\n      })\n      .forEach((sku: { carFacadeVO: { outColor: { name: string | number } } }) => {\n        if (list[sku.carFacadeVO?.outColor.name]) {\n          list[sku.carFacadeVO?.outColor.name].disabled = false\n        }\n      })\n    return Object.keys(list).map((key) => {\n      return list[key]\n    })\n  })\n\n  return {\n    outColorList\n  }\n}\n\n/**\n * 外饰喷漆列表\n * @param { outColor, rim, innerColor, innerMaterial }\n * @returns\n */\nfunction getOutPaintingList({ outColor, rim, innerColor, innerMaterial }: SkuParms) {\n  const outPaintingList = computed(() => {\n    const list: any = {}\n    skus.data.forEach((sku: { carFacadeVO: { outPainting: { name: string | number } } }) => {\n      list[sku.carFacadeVO?.outPainting.name] = { ...sku.carFacadeVO?.outPainting, disabled: true }\n    })\n    skus.data\n      .filter((sku: Car.CarSku) => {\n        return toSkuOutColorFlag(sku, outColor) && toSkuRimFlag(sku, rim) && toSkuInnerColorFlag(sku, innerColor) && toSkuInnerMaterialFlag(sku, innerMaterial)\n      })\n      .forEach((sku: { carFacadeVO: { outPainting: { name: string | number } } }) => {\n        if (list[sku.carFacadeVO?.outPainting.name]) {\n          list[sku.carFacadeVO?.outPainting.name].disabled = false\n        }\n      })\n\n    return Object.keys(list).map((key) => {\n      return list[key]\n    })\n  })\n\n  return { outPaintingList }\n}\n\n/**\n * 轮圈列表\n * @param { outColor, outPainting, innerColor, innerMaterial }\n * @returns\n */\nfunction getRimLst({ outColor, outPainting, innerColor, innerMaterial }: SkuParms) {\n  const rimList = computed(() => {\n    const list: any = {}\n    skus.data.forEach((sku: { carRimVo: { rim: { name: string | number } } }) => {\n      list[sku.carRimVo?.rim.name] = { ...sku.carRimVo?.rim, disabled: true }\n    })\n    skus.data\n      .filter((sku: Car.CarSku) => {\n        return toSkuOutColorFlag(sku, outColor) && toSkuOutPaintingFlag(sku, outPainting) && toSkuInnerColorFlag(sku, innerColor) && toSkuInnerMaterialFlag(sku, innerMaterial)\n      })\n      .forEach((sku: { carRimVo: { rim: { name: string | number } } }) => {\n        list[sku.carRimVo?.rim.name] && (list[sku.carRimVo?.rim.name].disabled = false)\n      })\n    return Object.keys(list).map((key) => {\n      return list[key]\n    })\n  })\n\n  return {\n    rimList\n  }\n}\n\n/**\n * 内饰颜色列表\n * @param { outColor, outPainting, rim, innerMaterial }\n * @returns\n */\nfunction getInnerColorList({ outColor, outPainting, rim, innerMaterial }: SkuParms) {\n  const innerColorList = computed(() => {\n    const list: any = {}\n    skus.data.forEach((sku: { carInteriorVO: { innerColor: { name: string | number } } }) => {\n      list[sku.carInteriorVO?.innerColor.name] = { ...sku.carInteriorVO?.innerColor, disabled: true }\n    })\n    skus.data\n      .filter((sku: Car.CarSku) => {\n        return toSkuOutColorFlag(sku, outColor) && toSkuOutPaintingFlag(sku, outPainting) && toSkuRimFlag(sku, rim) && toSkuInnerMaterialFlag(sku, innerMaterial)\n      })\n      .forEach((sku: { carInteriorVO: { innerColor: { name: string | number } } }) => {\n        list[sku.carInteriorVO?.innerColor.name] && (list[sku.carInteriorVO?.innerColor.name].disabled = false)\n      })\n    return Object.keys(list).map((key) => {\n      return list[key]\n    })\n  })\n\n  return {\n    innerColorList\n  }\n}\n\n/**\n * 内饰材质列表\n * @param { outColor, outPainting, rim, innerColor }\n * @returns\n */\nfunction getInnerMaterial({ outColor, outPainting, rim, innerColor }: SkuParms) {\n  const innerMaterialList = computed(() => {\n    const list: any = {}\n    skus.data.forEach((sku: { carInteriorVO: { innerMaterial: { name: string | number } } }) => {\n      list[sku.carInteriorVO?.innerMaterial.name] = { ...sku.carInteriorVO?.innerMaterial, disabled: true }\n    })\n    skus.data\n      .filter((sku: Car.CarSku) => {\n        return toSkuOutColorFlag(sku, outColor) && toSkuOutPaintingFlag(sku, outPainting) && toSkuRimFlag(sku, rim) && toSkuInnerColorFlag(sku, innerColor)\n      })\n      .forEach((sku: { carInteriorVO: { innerMaterial: { name: string | number } } }) => {\n        list[sku.carInteriorVO?.innerMaterial.name] && (list[sku.carInteriorVO?.innerMaterial.name].disabled = false)\n      })\n    return Object.keys(list).map((key) => {\n      return list[key]\n    })\n  })\n\n  return {\n    innerMaterialList\n  }\n}\n\nexport default function useOptionalData() {\n  const { outColor, outPainting, outPrice, rim, rimPrice, innerColor, innerMaterial, innerPrice, active, series, model, packages, innerImgList } = initData()\n  /**\n   * 初始化数据\n   */\n  const setData = () => {\n    active.value = vehicle.value.model?.id === model.data?.id ? configActive.value : 0\n    series.data = vehicle.value.series\n    model.data = vehicle.value.model\n    if (vehicle.value.skuData) {\n      outColor.data = vehicle.value.outColor\n      outPainting.data = vehicle.value.outPainting\n      outPrice.value = vehicle.value.outPrice\n      rim.data = vehicle.value.rim\n      rimPrice.value = vehicle.value.rimPrice\n      innerColor.data = vehicle.value.innerColor\n      innerPrice.value = vehicle.value.innerPrice\n      packages.data = vehicle.value.packages\n      innerMaterial.data = vehicle.value.innerMaterial\n    }\n  }\n  const { outColorList } = getOutColorList({ rim, outPainting, innerColor, innerMaterial })\n\n  const { skuData } = getSkuData({ outColor, outPainting, rim, innerColor, innerMaterial })\n\n  const { outPaintingList } = getOutPaintingList({ outColor, rim, innerColor, innerMaterial })\n\n  const { rimList } = getRimLst({ outColor, outPainting, innerColor, innerMaterial })\n\n  const { innerColorList } = getInnerColorList({ outColor, outPainting, rim, innerMaterial })\n\n  const { innerMaterialList } = getInnerMaterial({ outColor, outPainting, rim, innerColor })\n\n  return {\n    setData,\n    initSkus,\n    skus,\n    skuData,\n    outColorList,\n    outPaintingList,\n    rimList,\n    innerColorList,\n    innerMaterialList,\n    innerImgList,\n    active,\n    series,\n    model,\n    outColor,\n    outPainting,\n    outPrice,\n    rim,\n    rimPrice,\n    innerColor,\n    innerPrice,\n    packages,\n    innerMaterial\n  }\n}\n","import { computed, reactive, inject } from 'vue'\nimport { useCarStore } from '@src/pinia/car'\n\nexport default function usePackageData() {\n  const { showPriceFlag, skuData, outCarData } = inject<any>('useSetting')\n\n  // 选装包\n  const packagesList = reactive({\n    data: [] as Car.Option[]\n  })\n  const packages = reactive({\n    data: [] as Car.Option[]\n  })\n\n  const gdp = inject('$gdp') as GeneratorDynamicPicFunc<string | string[]>\n  /**\n   * 页面主图片\n   */\n  const [iconHelp, iconNoChecked, iconChecked] = gdp(['icon-help.png', 'icon-checkBox-no-checked.png', 'icon-checkBox-checked.png'])\n  const carStore = useCarStore()\n  const goPackagesDetail = (item: any) => {\n    carStore.setTempData(item)\n    uni.navigateTo({\n      url: `/package-car/pages/packages-detail/index?id=${item.id}`\n    })\n  }\n\n  const setVehicle = () => {\n    carStore.setVehicle({\n      packages: packages.data,\n      carPoster: carPoster.value,\n      skuData: skuData.value\n    })\n    console.log(carStore.vehicle.packages, 111)\n  }\n\n  const carPoster = computed(() => {\n    return outCarData.value ? outCarData.value.carAssemblerMaterialVO.singleImageInfo.path : ''\n  })\n\n  /**\n   * 获取选装包的状态icon\n   * @param item\n   * @returns\n   */\n  const getImgSrc = (item: Car.Option) => {\n    return packages.data.findIndex((pk: { id: string }) => pk.id === item.id) > -1 ? iconChecked : iconNoChecked\n  }\n\n  const toSelectPackages = (item: Car.Option) => {\n    if (packages.data.length) {\n      const index = packages.data.findIndex((pk: { id: string }) => pk.id === item.id)\n      index > -1 && packages.data.splice(index, 1)\n      index === -1 && packages.data.push(item)\n    } else {\n      packages.data.push(item)\n    }\n    setVehicle()\n  }\n\n  return {\n    iconHelp,\n    packagesList,\n    showPriceFlag,\n    getImgSrc,\n    toSelectPackages,\n    goPackagesDetail\n  }\n}\n","import { useCarStore } from '@src/pinia/car'\nconst carStore = useCarStore()\n\nfunction handleSelectColor(paraObj: any) {\n  const { setVehicle } = handleSetVehicle(paraObj)\n  const { getOuterPrice } = handleGetOuterPrice(paraObj)\n  const { toSelectOutPainting } = handleSelectPainting(paraObj)\n  const { outPrice, outColor, rim, innerColor, innerMaterial, outPaintingList, outPainting } = paraObj\n  /**\n   * 选择外饰颜色\n   * @param item\n   * @param disabled\n   * @returns\n   */\n  const toSelectOutColor = (item: Car.Option, disabled?: boolean) => {\n    if (disabled) {\n      return\n    }\n    outPrice.value = 0\n    // disabled可能是undefined\n    if (outColor.data?.name === item.name && disabled === false) {\n      outColor.data = rim.data = innerColor.data = innerMaterial.data = {} as Car.Option\n      setVehicle()\n      return\n    } else {\n      outColor.data = item\n    }\n    getOuterPrice()\n    if (outPaintingList.value.findIndex((it: { name: string; disabled: boolean }) => it.name === outPainting.data?.name && !it.disabled) >= 0) {\n      toSelectOutPainting(outPainting.data)\n    } else {\n      toSelectOutPainting(outPaintingList.value?.find((it: { disabled: boolean }) => !it.disabled))\n    }\n  }\n\n  return {\n    toSelectOutColor\n  }\n}\n\n/**\n * 选择外饰喷漆\n * @param paraObj\n * @returns\n */\nfunction handleSelectPainting(paraObj: any) {\n  const { setVehicle } = handleSetVehicle(paraObj)\n  const { getOuterPrice } = handleGetOuterPrice(paraObj)\n  const { toSelectRim } = handleSelectRim(paraObj)\n  const { outPrice, outPainting, innerColor, rim, innerMaterial, rimList } = paraObj\n  const toSelectOutPainting = (item: Car.Option, disabled?: boolean) => {\n    if (disabled) {\n      return\n    }\n    outPrice.value = 0\n    if (outPainting.data?.name === item.name && disabled === false) {\n      innerColor.data = rim.data = outPainting.data = innerMaterial.data = {} as Car.Option\n      setVehicle()\n      return\n    } else {\n      outPainting.data = item\n    }\n    getOuterPrice()\n    if (rim.data?.name && rimList.value.findIndex((it: { name: string; disabled: boolean }) => it.name === rim.data?.name && !it.disabled) >= 0) {\n      toSelectRim(rim.data)\n    } else {\n      toSelectRim(rimList.value?.find((it: { disabled: boolean }) => !it.disabled))\n    }\n  }\n  return {\n    toSelectOutPainting\n  }\n}\n\n/**\n * 选择轮圈\n * @param paraObj\n * @returns\n */\nfunction handleSelectRim(paraObj: any) {\n  const { setVehicle } = handleSetVehicle(paraObj)\n  const { toSelectInnerColor } = handleSelectInnerColor(paraObj)\n  const { rimPrice, rim, innerColor, innerMaterial, skuData, innerColorList } = paraObj\n  const toSelectRim = (item: Car.Option, disabled?: boolean) => {\n    if (disabled) {\n      return\n    }\n    rimPrice.value = 0\n    if (rim.data?.name === item.name && disabled === false) {\n      innerColor.data = rim.data = innerMaterial.data = {} as Car.Option\n      setVehicle()\n      return\n    } else {\n      rim.data = item\n    }\n    rimPrice.value = skuData.value?.carRimVo?.price\n    setVehicle()\n    if (innerColor.data?.name && innerColorList.value.findIndex((it: { name: string; disabled: boolean }) => it.name === innerColor.data.name && !it.disabled) >= 0) {\n      toSelectInnerColor(innerColor.data)\n    } else {\n      toSelectInnerColor(innerColorList.value.find((it: { disabled: boolean }) => !it.disabled))\n    }\n  }\n  return {\n    toSelectRim\n  }\n}\n\n/**\n * 选择内饰颜色\n * @param paraObj\n * @returns\n */\nfunction handleSelectInnerColor(paraObj: any) {\n  const { setVehicle } = handleSetVehicle(paraObj)\n  const { getInnerPrice } = handleGetInnerPrice(paraObj)\n  const { toSelectInnerMaterial } = handleSelectInnerMaterial(paraObj)\n  const { innerPrice, innerColor, innerMaterial, innerMaterialList } = paraObj\n  const toSelectInnerColor = (item: Car.Option, disabled?: boolean) => {\n    if (disabled) {\n      return\n    }\n    innerPrice.value = 0\n    if (innerColor.data?.name === item.name && disabled === false) {\n      innerColor.data = {} as Car.Option\n      setVehicle()\n      return\n    } else {\n      innerColor.data = item\n    }\n    getInnerPrice()\n\n    if (innerMaterial.data?.name && innerMaterialList.value.findIndex((it: { name: string; disabled: boolean }) => it.name === innerMaterial.data.name && !it.disabled) >= 0) {\n      toSelectInnerMaterial(innerMaterial.data)\n    } else {\n      toSelectInnerMaterial(innerMaterialList.value.find((it: { disabled: boolean }) => !it.disabled))\n    }\n  }\n\n  return {\n    toSelectInnerColor\n  }\n}\n\n/**\n * 选择内饰材质\n * @param paraObj\n * @returns\n */\nfunction handleSelectInnerMaterial(paraObj: any) {\n  const { getInnerPrice } = handleGetInnerPrice(paraObj)\n  const { setVehicle } = handleSetVehicle(paraObj as any)\n  const { innerPrice, innerMaterial } = paraObj\n  const toSelectInnerMaterial = (item: Car.Option, disabled?: boolean) => {\n    if (disabled) {\n      return\n    }\n\n    innerPrice.value = 0\n    if (innerMaterial.data?.name && innerMaterial.data?.name === item.name && disabled === false) {\n      innerMaterial.data = {} as Car.Option\n      setVehicle()\n      return\n    } else {\n      innerMaterial.data = item\n    }\n\n    getInnerPrice()\n  }\n\n  return {\n    toSelectInnerMaterial\n  }\n}\n\n/**\n * 设置pinia数据\n * @param param0\n * @returns\n */\nfunction handleSetVehicle({ outColor, outPainting, outPrice, rim, rimPrice, innerColor, innerMaterial, innerPrice, packages, skuData }: any) {\n  const setVehicle = () => {\n    carStore.setVehicle({\n      outColor: outColor?.data,\n      outPainting: outPainting?.data,\n      outPrice: outPrice?.value,\n      rim: rim?.data,\n      rimPrice: rimPrice?.value,\n      innerColor: innerColor?.data,\n      innerMaterial: innerMaterial?.data,\n      innerPrice: innerPrice?.value,\n      packages: packages?.data,\n      skuData: skuData?.value\n    })\n  }\n\n  return {\n    setVehicle\n  }\n}\n\n/**\n * 获取外饰配置价格\n * @param paraObj\n * @returns\n */\nfunction handleGetOuterPrice(paraObj: any) {\n  const { setVehicle } = handleSetVehicle(paraObj)\n  const { outColor, outPainting, outPrice, skuData } = paraObj\n  const getOuterPrice = () => {\n    if (outColor.data?.name && outPainting.data?.name) {\n      outPrice.value = skuData.value?.carFacadeVO.price\n    }\n    setVehicle()\n  }\n\n  return {\n    getOuterPrice\n  }\n}\n\n/**\n * 获取内饰配置价格\n * @param paraObj\n * @returns\n */\nfunction handleGetInnerPrice(paraObj: any) {\n  const { setVehicle } = handleSetVehicle(paraObj)\n  const { innerColor, innerMaterial, innerPrice, skuData, innerImgList } = paraObj\n  const getInnerPrice = () => {\n    if (innerColor.data?.name && innerMaterial.data?.name) {\n      innerPrice.value = skuData.value?.carInteriorVO.price\n      innerImgList.data = skuData.value?.carInteriorVO.bannerImgs\n    }\n    setVehicle()\n  }\n  return {\n    getInnerPrice\n  }\n}\n\nexport default function useSelect() {\n  return {\n    handleSelectColor,\n    handleSelectPainting,\n    handleSelectRim,\n    handleSelectInnerColor,\n    handleSelectInnerMaterial,\n    handleSetVehicle,\n    handleGetOuterPrice,\n    handleGetInnerPrice\n  }\n}\n","import { computed, reactive } from 'vue'\nimport { useCarStore } from '@src/pinia/car'\nimport useExteriorSetting from './optional-data'\nimport useSelect from './select'\n\nconst carStore = useCarStore()\nconst configActive = computed(() => carStore.configActive)\nconst vehicle = computed(() => carStore.vehicle)\nconst { handleSelectColor, handleSelectPainting, handleSelectRim, handleSelectInnerColor, handleSelectInnerMaterial, handleGetInnerPrice } = useSelect()\n\n/**\n * 初始化数据\n * @param parms\n * @returns\n */\nfunction setInitData(parms: any) {\n  const initData = () => {\n    const { active, series, model } = parms\n\n    uni.setNavigationBarTitle({\n      title: `${vehicle.value.model?.attrs.title}车辆配置器`\n    })\n    active.value = vehicle.value.model?.id === model.data?.id ? configActive.value : 0\n    series.data = vehicle.value.series\n    model.data = vehicle.value.model\n  }\n\n  return { initData }\n}\n\n/**\n * 选装包数据\n * @param parms\n * @returns\n */\nfunction getDetail(parms: any, pamrs2: { toSelectOutColor: (arg0: any) => void }) {\n  const packagesList = reactive({\n    data: [] as Car.Option[]\n  })\n\n  const { outColor, outColorList, skus } = parms\n  const { toSelectOutColor } = pamrs2\n  /**\n   * 获取配置详情\n   */\n  const getVehicleDeatil = () => {\n    if (outColor.data && outColorList.value.findIndex((it: { name: string; disabled: boolean }) => it.name === outColor.data.name && !it.disabled) >= 0) {\n      toSelectOutColor(outColor.data)\n    } else {\n      const data = outColorList.value.find((it: { disabled: boolean; image: string; name: string }) => !it.disabled)\n      toSelectOutColor(data)\n    }\n    setPackagesList()\n  }\n\n  /**\n   * 选装包\n   */\n  const setPackagesList = () => {\n    packagesList.data = (skus.data[0].optionalPackageVOS || []).map((pk: { packages: any }) => {\n      return pk.packages\n    })\n  }\n\n  return {\n    getVehicleDeatil,\n    packagesList\n  }\n}\n\n/**\n * 获取车辆外饰数据\n * @param parms\n * @returns\n */\nfunction getOutCar(parms: any) {\n  const { skus, outColor, outPainting } = parms\n  const outCarData = computed(() => {\n    const data = skus.data.find((sku: Car.CarSku) => {\n      return outColor.data && sku.carFacadeVO?.outColor.name === outColor.data.name && outPainting.data && sku.carFacadeVO?.outPainting.name === outPainting.data.name\n    })\n    return data\n  })\n\n  return {\n    outCarData\n  }\n}\n\n/**\n * 是否选择了各项配置\n * @returns\n */\nfunction getRequireCheck() {\n  const toShowToastFn = (data: string, msg: string) => {\n    if (!data) {\n      uni.showToast({\n        title: `请选择${msg}`,\n        duration: 1000,\n        icon: 'none'\n      })\n      return false\n    }\n    return true\n  }\n  const toRequireCheck = (index: number) => {\n    let flag = true\n    if (index === 1) {\n      flag = toShowToastFn(vehicle.value.outColor.name, '外饰颜色') && toShowToastFn(vehicle.value.outPainting.name, '外饰喷漆')\n    } else if (index === 2) {\n      flag = toShowToastFn(vehicle.value.rim.name, '轮圈')\n    } else if (index === 3) {\n      flag = toShowToastFn(vehicle.value.innerColor.name, '内饰颜色') && toShowToastFn(vehicle.value.innerMaterial.name, '内饰材质')\n    }\n    return flag\n  }\n\n  return {\n    toRequireCheck\n  }\n}\n\nexport default function useSetting() {\n  const options = useExteriorSetting()\n  const { toSelectOutColor } = handleSelectColor(options)\n  const { toSelectOutPainting } = handleSelectPainting(options)\n  const { toSelectRim } = handleSelectRim(options)\n  const { toSelectInnerColor } = handleSelectInnerColor(options)\n  const { toSelectInnerMaterial } = handleSelectInnerMaterial(options)\n  const { getInnerPrice } = handleGetInnerPrice(options)\n  const { initData } = setInitData(options)\n  const { getVehicleDeatil, packagesList } = getDetail(options, { toSelectOutColor })\n  const { outCarData } = getOutCar(options)\n  const { toRequireCheck } = getRequireCheck()\n\n  const packages = reactive({\n    data: [] as Car.Packages[]\n  })\n\n  /**\n   * 是否展示售价 falae:否；true:是\n   */\n  const showPriceFlag = computed(() => {\n    return vehicle.value.skuData.itemPreSaleVO.showPriceFlag\n  })\n\n  return {\n    ...options,\n    showPriceFlag,\n    outCarData,\n    packagesList,\n    packages,\n    vehicle,\n    configActive,\n    toRequireCheck,\n    getInnerPrice,\n    initData,\n    getVehicleDeatil,\n    toSelectInnerMaterial,\n    toSelectOutPainting,\n    toSelectOutColor,\n    toSelectRim,\n    toSelectInnerColor\n  }\n}\n","<template>\n  <view class=\"packages\">\n    <!-- 外饰 -->\n    <view class=\"package items-center justify-between\">\n      <view class=\"package-image flex-col items-center justify-center\">\n        <image class=\"image\" mode=\"aspectFit\" :src=\"vehicle.outColor.image\" />\n        <image class=\"image\" mode=\"aspectFit\" :src=\"vehicle.outPainting.image\" />\n      </view>\n      <view class=\"package-info flex-col\">\n        <view class=\"package-name\">外饰</view>\n        <view class=\"package-content ellipsis-2\">\n          {{ `${vehicle.outColor.name || ''}${vehicle.outColor.name && vehicle.outPainting.name ? '+' : ''}${vehicle.outPainting.name || ''}` }}\n        </view>\n        <view class=\"package-price\">\n          <template v-if=\"model.showPriceFlag\">\n            <text v-if=\"vehicle.outPrice\">￥{{ formatMoney(vehicle.outPrice, 0, 0) }}</text>\n            <text v-else>价格已包含</text>\n          </template>\n          <text v-else>价格待定</text>\n        </view>\n      </view>\n      <view v-if=\"!readOnly\" class=\"action items-center justify-center\" @click=\"handleEdit(0)\">更改</view>\n    </view>\n    <!-- 轮圈 -->\n    <view class=\"package items-center justify-between\">\n      <view class=\"package-image flex-col items-center justify-center\">\n        <image class=\"image\" mode=\"aspectFit\" :src=\"vehicle.rim.image\" />\n      </view>\n      <view class=\"package-info flex-col\">\n        <view class=\"package-name\">轮圈</view>\n        <view class=\"package-content ellipsis-2\">{{ vehicle.rim.name || '' }}</view>\n        <view class=\"package-price\">\n          <template v-if=\"vehicle.skuData.itemPreSaleVO.showPriceFlag\">\n            <text v-if=\"vehicle.rimPrice\">￥{{ formatMoney(vehicle.rimPrice, 0, 0) }}</text>\n            <text v-else>价格已包含</text>\n          </template>\n          <text v-else>价格待定</text>\n        </view>\n      </view>\n      <view v-if=\"!readOnly\" class=\"action items-center justify-center\" @click=\"handleEdit(1)\">更改</view>\n    </view>\n    <!-- 内饰 -->\n    <view class=\"package items-center justify-between\">\n      <view class=\"package-image flex-col items-center justify-center\">\n        <image class=\"image\" mode=\"aspectFit\" :src=\"vehicle.innerColor.image\" />\n        <image class=\"image\" mode=\"aspectFit\" :src=\"vehicle.innerMaterial.image\" />\n      </view>\n      <view class=\"package-info flex-col\">\n        <view class=\"package-name\">内饰</view>\n        <view class=\"package-content ellipsis-2\">\n          {{ `${vehicle.innerColor.name || ''}${vehicle.innerColor.name && vehicle.innerMaterial.name ? '+' : ''}${vehicle.innerMaterial.name || ''}` }}\n        </view>\n        <view class=\"package-price\">\n          <template v-if=\"vehicle.skuData.itemPreSaleVO.showPriceFlag\">\n            <text v-if=\"vehicle.innerPrice\">￥{{ formatMoney(vehicle.innerPrice, 0, 0) }}</text>\n            <text v-else>价格已包含</text>\n          </template>\n          <text v-else>价格待定</text>\n        </view>\n      </view>\n      <view v-if=\"!readOnly\" class=\"action items-center justify-center\" @click=\"handleEdit(2)\">更改</view>\n    </view>\n    <!-- 选装 -->\n    <view v-for=\"pk in packages\" :key=\"pk.id\" class=\"package items-center justify-between\">\n      <view class=\"package-image flex-col items-center justify-center\">\n        <image class=\"image\" mode=\"aspectFit\" :src=\"pk.image\" />\n      </view>\n      <view class=\"package-info flex-col\">\n        <view class=\"package-name\">选装</view>\n        <view class=\"package-content ellipsis-2\">{{ pk.name || '' }}</view>\n        <view class=\"package-price\">\n          <template v-if=\"vehicle.skuData.itemPreSaleVO.showPriceFlag\">\n            <text v-if=\"pk.price\">￥{{ formatMoney(pk.price, 0, 0) }}</text>\n            <text v-else>价格已包含</text>\n          </template>\n          <text v-else>价格待定</text>\n        </view>\n      </view>\n      <view v-if=\"!readOnly\" class=\"action items-center justify-center\" @click=\"handleEdit(3)\">更改</view>\n    </view>\n  </view>\n</template>\n\n<script lang=\"ts\" setup name=\"ConfigInfo\">\nimport { formatMoney } from '@util/money'\nimport { PropType } from 'vue'\n\ndefineProps({\n  vehicle: {\n    type: Object,\n    default: () => ({})\n  },\n  model: {\n    type: Object,\n    default: () => ({})\n  },\n  readOnly: {\n    type: Boolean,\n    default: false\n  },\n  packages: {\n    type: Array as PropType<Array<Car.Packages>>,\n    default: () => []\n  }\n})\nconst emit = defineEmits(['btnEdit'])\n\nconst handleEdit = (val: number) => {\n  emit('btnEdit', val)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.packages {\n  width: 100%;\n  padding: 0 40rpx;\n\n  .package {\n    width: 100%;\n    height: 234rpx;\n    border-bottom: 1rpx solid #e4e7ea;\n  }\n\n  .package-image {\n    flex-basis: 76rpx;\n    height: 100%;\n\n    .image:first-of-type {\n      border-radius: 50%;\n      width: 76rpx;\n      height: 76rpx;\n      margin-bottom: 8rpx;\n    }\n\n    .image:last-of-type {\n      border-radius: 4rpx;\n      width: 70rpx;\n      height: 70rpx;\n      margin-bottom: 0;\n    }\n  }\n\n  .package-info {\n    flex: 1;\n    padding: 0 40rpx;\n    font-size: 30rpx;\n    line-height: 45rpx;\n\n    .package-name {\n      color: #909ca8;\n    }\n\n    .package-content {\n      color: #292c2e;\n      margin-bottom: 19rpx;\n    }\n\n    .package-price {\n      color: #92969a;\n    }\n  }\n\n  .action {\n    flex-basis: 70rpx;\n    height: 100%;\n    font-size: 30rpx;\n    color: #4e6175;\n  }\n}\n</style>\n","import Component from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-car/pages/preview/config-info.vue'\nwx.createComponent(Component)","<template>\n  <view class=\"group\">\n    <view class=\"group-title\">购买信息</view>\n    <view id=\"buyer\" class=\"form-item items-center\">\n      <view class=\"label\">购买人姓名</view>\n      <view class=\"form-item-content\">\n        <input v-model.trim=\"buyer\" class=\"form-item-input\" maxlength=\"20\" placeholder=\"输入收货人姓名\" placeholder-class=\"placeholder\" @blur=\"checkName(buyer)\" />\n      </view>\n    </view>\n    <view id=\"phone\" class=\"form-item items-center\">\n      <view class=\"label\">手机号码</view>\n      <view class=\"form-item-content\">\n        <input v-model.trim=\"phone\" type=\"number\" class=\"form-item-input\" maxlength=\"11\" placeholder=\"输入手机号码\" placeholder-class=\"placeholder\" @blur=\"checkPhone(phone)\" />\n      </view>\n    </view>\n    <template v-if=\"reserveType === 0\">\n      <view class=\"form-item items-center\">\n        <view class=\"label\">证件类型</view>\n        <view class=\"form-item-content items-center justify-between\" @click=\"selectorVisible = true\">\n          <view class=\"select-content ellipsis\" :class=\"{ 'has-value': idType.label }\">{{ idType.label || '选择证件类型' }}</view>\n          <image class=\"icon\" :src=\"bottomIcon\" />\n        </view>\n      </view>\n      <view id=\"idNum\" class=\"form-item items-center\">\n        <view class=\"label\">证件号码</view>\n        <view class=\"form-item-content\">\n          <input v-model.trim=\"idNum\" class=\"form-item-input\" placeholder=\"输入证件号码\" placeholder-class=\"placeholder\" @blur=\"checkIdCard(idNum)\" />\n        </view>\n      </view>\n    </template>\n    <view id=\"provider\" class=\"form-item items-center\">\n      <view class=\"label\">选择服务商</view>\n      <view class=\"form-item-content items-center justify-between\" @click=\"toSelectProvider\">\n        <view class=\"select-content ellipsis\" :class=\"{ 'has-value': provider.name }\">{{ provider.name || '选择服务商' }}</view>\n        <image class=\"icon\" :src=\"bottomIcon\" />\n      </view>\n    </view>\n  </view>\n</template>\n\n<script lang=\"ts\" setup name=\"BuyerInfo\">\nimport { inject, ref } from 'vue'\nimport usePurchase from './purchase'\nimport { checkName, checkPhone, checkIdCard } from './util'\n\nconst { provider, buyer, phone, idNum, reserveType, idType, toSelectProvider } = usePurchase()\n\n// 图片资源\nconst gdp = inject('$gdp') as GeneratorDynamicPicFunc<string[]>\nconst [bottomIcon] = gdp(['icon-bottom.png'])\n\nconst selectorVisible = ref(false)\n</script>\n\n<style lang=\"scss\" scoped>\n.group {\n  padding: 72rpx 40rpx 56rpx;\n\n  .group-title {\n    font-size: 36rpx;\n    font-weight: bold;\n    color: #292c2e;\n    margin-bottom: 40rpx;\n  }\n}\n\n.form-item {\n  height: 112rpx;\n\n  .label {\n    width: 200rpx;\n    font-size: 28rpx;\n    color: #909ca8;\n  }\n\n  .form-item-content {\n    flex: 1;\n    height: 100%;\n    border-bottom: 1rpx solid #e4e7ea;\n\n    .form-item-input {\n      height: 100%;\n      color: #1a1a1a;\n      font-size: 28rpx;\n    }\n\n    .placeholder,\n    .select-content {\n      color: #92969a;\n      font-size: 28rpx;\n    }\n\n    .select-content {\n      flex: 1;\n\n      &.has-value {\n        color: #1a1a1a;\n      }\n    }\n\n    .icon {\n      width: 32rpx;\n      height: 32rpx;\n    }\n  }\n}\n</style>\n","import Component from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-car/pages/purchase/buyer-info.vue'\nwx.createComponent(Component)","<template>\n  <view class=\"group\">\n    <view class=\"group-title\">价格明细</view>\n    <!-- 车系价格 -->\n    <view class=\"price-item items-center justify-between\">\n      <view class=\"label ellipsis\">{{ model.attrs.title }}</view>\n      <view class=\"price items-center justify-end\">\n        <template v-if=\"vehicle.skuData.itemPreSaleVO.showPriceFlag\">\n          <view v-if=\"model.attrs.price\">\n            <text class=\"symbal\">￥</text>\n            {{ formatMoney(model.attrs.price, 0, 0) }}\n          </view>\n          <text v-else>价格已包含</text>\n        </template>\n        <text v-else>价格待定</text>\n      </view>\n    </view>\n    <!-- 外饰颜色和喷漆价格 -->\n    <view v-if=\"vehicle.outColor || vehicle.outPainting\" class=\"price-item items-center justify-between\">\n      <view class=\"label ellipsis\">{{ outText }}</view>\n      <view class=\"price items-center justify-end\">\n        <template v-if=\"vehicle.skuData.itemPreSaleVO.showPriceFlag\">\n          <view v-if=\"vehicle.outPrice\">\n            <text class=\"symbal\">￥</text>\n            {{ formatMoney(vehicle.outPrice, 0, 0) }}\n          </view>\n          <text v-else>价格已包含</text>\n        </template>\n        <text v-else>价格待定</text>\n      </view>\n    </view>\n    <!-- 轮毂价格 -->\n    <view v-if=\"vehicle.rim\" class=\"price-item items-center justify-between\">\n      <view class=\"label ellipsis\">{{ vehicle.rim.name || '' }}</view>\n      <view class=\"price items-center justify-end\">\n        <template v-if=\"vehicle.skuData.itemPreSaleVO.showPriceFlag\">\n          <view v-if=\"vehicle.rimPrice\">\n            <text class=\"symbal\">￥</text>\n            {{ formatMoney(vehicle.rimPrice, 0, 0) }}\n          </view>\n          <text v-else>价格已包含</text>\n        </template>\n        <text v-else>价格待定</text>\n      </view>\n    </view>\n    <!-- 内饰颜色和内饰材质价格 -->\n    <view v-if=\"vehicle.rim\" class=\"price-item items-center justify-between\">\n      <view class=\"label ellipsis\">{{ innerText }}</view>\n      <view class=\"price items-center justify-end\">\n        <template v-if=\"vehicle.skuData.itemPreSaleVO.showPriceFlag\">\n          <view v-if=\"vehicle.innerPrice\">\n            <text class=\"symbal\">￥</text>\n            {{ formatMoney(vehicle.innerPrice, 0, 0) }}\n          </view>\n          <text v-else>价格已包含</text>\n        </template>\n        <text v-else>价格待定</text>\n      </view>\n    </view>\n    <!-- 选装价格 -->\n    <view v-for=\"pk in vehicle.packages\" :key=\"pk.id\" class=\"price-item items-center justify-between\">\n      <view class=\"label ellipsis\">{{ pk.name || '' }}</view>\n      <view class=\"price items-center justify-end\">\n        <template v-if=\"vehicle.skuData.itemPreSaleVO.showPriceFlag\">\n          <view v-if=\"pk.price\">\n            <text class=\"symbal\">￥</text>\n            {{ formatMoney(pk.price, 0, 0) }}\n          </view>\n          <text v-else>价格已包含</text>\n        </template>\n        <text v-else>价格待定</text>\n      </view>\n    </view>\n    <!-- 总计 -->\n    <view class=\"price-item price-item-total items-center justify-between\">\n      <text class=\"label\">总计</text>\n      <view class=\"price items-center justify-end\">\n        <view v-if=\"vehicle.skuData.itemPreSaleVO.showPriceFlag\">\n          <text class=\"symbal\">￥</text>\n          {{ formatMoney(totalPrice, 0, 0) }}\n        </view>\n        <text v-else>价格待定</text>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script lang=\"ts\" name=\"PriceInfo\" setup>\nimport usePurchase from './purchase'\nimport { formatMoney } from '@util/money'\n\nconst { model, vehicle, outText, innerText, totalPrice } = usePurchase()\n</script>\n\n<style lang=\"scss\" scoped>\n.group {\n  padding: 72rpx 40rpx 56rpx;\n\n  .group-title {\n    font-size: 36rpx;\n    font-weight: bold;\n    color: #292c2e;\n    margin-bottom: 40rpx;\n  }\n}\n\n.price-item {\n  height: 64rpx;\n  overflow: hidden;\n\n  .label {\n    font-size: 28rpx;\n    color: #909ca8;\n    flex: 1;\n  }\n\n  .price {\n    flex-basis: 220rpx;\n    font-size: 30rpx;\n    color: #292c2e;\n\n    .symbal {\n      font-size: 24rpx;\n    }\n  }\n\n  &-total {\n    height: 93rpx;\n\n    .price {\n      font-size: 36rpx;\n      color: #4e6175;\n    }\n  }\n}\n</style>\n","import Component from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-car/pages/purchase/price-info.vue'\nwx.createComponent(Component)","<template>\n  <view class=\"item-box\">\n    <view v-for=\"(item, index) in formDataList\" :key=\"index\" class=\"item\">\n      <view class=\"label\">{{ item.label }}</view>\n      <view class=\"value-box\" @click=\"doSth(item)\">\n        <input\n          v-if=\"item.type === 'text'\"\n          v-model=\"item.value\"\n          class=\"input-box\"\n          type=\"text\"\n          :disabled=\"item.disabled\"\n          :maxlength=\"item.maxlength\"\n          :placeholder=\"item.placeholder\"\n          placeholder-class=\"input-placeholder\"\n        />\n        <input\n          v-else-if=\"item.type === 'number'\"\n          v-model=\"item.value\"\n          class=\"input-box\"\n          type=\"number\"\n          :disabled=\"item.disabled\"\n          :maxlength=\"item.maxlength\"\n          :placeholder=\"item.placeholder\"\n          placeholder-class=\"input-placeholder\"\n        />\n        <template v-else-if=\"item.type === 'datePicker'\">\n          <picker mode=\"date\" :start=\"startDate\" :end=\"endDate\" :class=\"['picker-box', item.value ? '' : 'input-placeholder']\" @change=\"toBindDateChange\">\n            {{ item.value ? item.value : item.placeholder }}\n          </picker>\n        </template>\n        <template v-if=\"item.rightContentType\">\n          <view v-if=\"item.rightContentType === 'btn'\" :class=\"['verification-code-btn', isDisabledCodeBtn ? '' : 'disabled-code-btn']\" @click=\"getVerificationCode\">\n            {{ verificationCodeValue }}\n          </view>\n          <image v-else class=\"icon-arrow-right\" :src=\"iconArrowRight\" mode=\"aspectFit\" />\n        </template>\n      </view>\n    </view>\n  </view>\n  <choice-car-serise ref=\"choiceCarSerise\" @car-info-name=\"getCarInfoName\" />\n</template>\n\n<script lang=\"ts\" setup name=\"TestDriveForm\">\nimport { Ref, ref, getCurrentInstance, PropType, computed, inject, watch } from 'vue'\nimport { getCode } from '@api/car'\nimport choiceCarSerise from '../../components/choice-car-serise/choice-car-serise.vue'\nimport { useAddressStore } from '@src/pinia/address'\n\n/**\n *表单信息\n */\ninterface FormItem {\n  id: string\n  label: string\n  placeholder: string\n  type: string\n  maxlength?: number\n  disabled: boolean\n  rules?: Rules\n  value: string\n  rightContentType?: string\n  code?: string\n}\n\n/**\n * 表单信息中验证规则\n */\ninterface Rules {\n  rule: RegExp\n  msg: string\n}\n\nconst gdp = inject('$gdp') as GeneratorDynamicPicFunc<string | string[]>\nconst iconArrowRight = gdp('icon-arrow-right.png')\n\nconst date = new Date()\nlet year = ref(date.getFullYear())\nlet month: Ref<number | string> = ref(date.getMonth() + 1)\nlet day: Ref<number | string> = ref(date.getDate())\nlet currentdate = ref(`${year.value}-${month.value}-${day.value}`)\nconst startDate = currentdate.value\nconst endDate = ref(`${year.value + 1}-12-31`)\n\nconst instance = getCurrentInstance() // 获取主组件的实例\n\nconst props = defineProps({\n  formDataList: {\n    type: Array as PropType<FormItem[]>,\n    default: () => []\n  }\n})\n\nconst emit = defineEmits(['reservationTime'])\nconst addressStore = useAddressStore()\n/**\n *  已选中的门店`\n * 选中的经销商对象\n */\nlet selectedDealer = computed(() => addressStore.selectedDealer)\n\nwatch(\n  () => selectedDealer.value,\n  (dealer) => {\n    dealer && getValue(dealer.name, 4, dealer.code)\n  }\n)\n\n/**\n * 获取验证码\n */\nasync function getVerificationCode() {\n  if (!isDisabledCodeBtn.value) {\n    return false\n  } // 正在倒计时\n  const mobileNumObj = props.formDataList[1] // 取手机号那个对象\n  if (!mobileNumObj.value) {\n    return false\n  } // 无手机号不处理\n  if (mobileNumObj.rules && !mobileNumObj.rules.rule.test(mobileNumObj.value)) {\n    uni.showToast({\n      icon: 'none',\n      title: mobileNumObj.rules.msg\n    })\n    return\n  }\n  const mobileNum = Number(mobileNumObj.value)\n  const resData = await getCode({ mobile: mobileNum })\n  resData && getCountDown()\n}\n\n/**\n * 获取试驾车型\n */\nfunction getCarInfoName(data: Car.Model) {\n  getValue(`${data.carSeriseName}/${data.carModelName}`, 3, data.code)\n}\n\n/**\n * 倒计时时间\n */\nlet countDown = ref(0)\nconst verificationCodeValue = computed(() => {\n  return countDown.value === 0 ? '获取验证码' : countDown.value + 's'\n})\n/**\n * 发送验证码按钮是否可点击的标识\n */\nconst isDisabledCodeBtn = computed(() => {\n  return verificationCodeValue.value === '获取验证码'\n})\n/**\n * 倒计时\n */\nfunction getCountDown() {\n  countDown.value = 60\n  let codeTimer: NodeJS.Timeout | string | number | undefined\n  clearInterval(codeTimer)\n  codeTimer = setInterval(() => {\n    countDown.value--\n    if (countDown.value <= 0) {\n      clearInterval(codeTimer)\n    }\n  }, 1000)\n}\n\n/**\n * 获取日期\n */\nconst toBindDateChange = (e: AnyObject) => {\n  const changeDate = e.detail.value.split('-')\n  const reservationTime = new Date(`${changeDate[0]}/${changeDate[1]}/${changeDate[2]}`).getTime()\n  emit('reservationTime', reservationTime)\n  getValue(`${changeDate[0]}年${changeDate[1]}月${changeDate[2]}日`, 5)\n}\n\nfunction getValue(data: string, index: number, code?: string) {\n  const currentInfoObj = props.formDataList[index]\n  currentInfoObj.value = data\n  code && (currentInfoObj.code = code)\n}\n\nfunction doSth(item: FormItem) {\n  if (item.id === 'carInfo') {\n    const toChoiceCarSerise = instance?.refs.choiceCarSerise as { openPopup: () => void }\n    toChoiceCarSerise.openPopup()\n  } else if (item.id === 'chooseDate') {\n    // instance.refs.pickerDate.openPopup()\n  } else if (item.id === 'storeInfo') {\n    const data = selectedDealer.value ? `?selectedDealer=${JSON.stringify(selectedDealer.value)}` : ''\n    uni.navigateTo({\n      url: `/package-car/pages/choice-stores/index${data}`\n    })\n  }\n}\n</script>\n\n<style lang=\"scss\" scope>\n.item-box {\n  font-size: 32rpx;\n\n  .item {\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    height: 124rpx;\n    border-bottom: 1px solid #e5e5e5;\n\n    .label {\n      width: 168rpx;\n      text-align: left;\n      color: #909ca8;\n    }\n\n    .value-box {\n      width: calc(100% - 168rpx);\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n\n      .input-box,\n      .picker-box {\n        width: 86%;\n        height: 60rpx;\n        line-height: 60rpx;\n\n        ::v-deep .uni-input-input {\n          overflow: hidden;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n        }\n      }\n\n      ::v-deep .input-placeholder {\n        color: #bababa;\n      }\n\n      .verification-code-btn {\n        width: 152rpx;\n        height: 60rpx;\n        line-height: 60rpx;\n        text-align: center;\n        font-size: 24rpx;\n        border: 2rpx solid #292c2e;\n      }\n\n      .disabled-code-btn {\n        color: #bababa;\n        border-color: #bababa;\n      }\n\n      .icon-arrow-right {\n        width: 32rpx;\n        height: 32rpx;\n      }\n    }\n  }\n}\n</style>\n","import Component from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-car/pages/test-drive/test-drive-form.vue'\nwx.createComponent(Component)","<template>\n  <!-- 外观、轮圈图片 -->\n  <view class=\"view-img\" @touchstart=\"touchstart\" @touchmove=\"touchmove\">\n    <image\n      v-for=\"(img, index) in showImg360\"\n      :key=\"index\"\n      class=\"img-item\"\n      :class=\"{ active: index === 3, 'no-rotatable': !rotatable && index === 3 }\"\n      :src=\"img\"\n      mode=\"scaleToFill\"\n    />\n    <image v-if=\"rotatable\" class=\"icon\" :src=\"car360Img\" mode=\"aspectFit\" />\n  </view>\n</template>\n\n<script lang=\"ts\" setup name=\"ExteriorRimImg.vue\">\nimport { ref, computed, inject, watch, nextTick } from 'vue'\n\nconst gdp = inject('$gdp') as GeneratorDynamicPicFunc<string | string[]>\n// 页面主图片\nconst car360Img = gdp('car360-Img.png')\n// 触摸标识\nlet touching = ref(false)\n// 触摸开始的位置\nlet clientX = ref(0)\nlet clientY = ref(0)\n// 可切换图片360标识\nconst rotatable = ref(true)\n// 是否是下拉的标识\nlet disabledPull = ref(false)\n\nconst props = defineProps({\n  active: {\n    type: Number,\n    default: 0\n  },\n  setImgData: {\n    type: Object,\n    default: () => ({\n      value: []\n    })\n  }\n})\n\nlet startIndex = ref(0)\nlet imgIndex = ref(0)\n\n/**\n * 360度图片数据\n */\nconst car360 = computed(() => {\n  return props.setImgData.value\n})\n/**\n * 获取开始位置，图片位置\n */\nwatch(\n  () => car360.value,\n  (newVal) => {\n    if (!newVal.length) return\n    startIndex.value = Math.floor((28 / 36) * newVal.length) - 1\n    imgIndex.value = startIndex.value\n  },\n  {\n    deep: true,\n    immediate: true\n  }\n)\n\n/**\n * 页面渲染图片数据\n */\nconst showImg360 = computed(() => {\n  if (!car360.value.length) return []\n  const moreImg = [...car360.value.slice(-4), ...car360.value, ...car360.value.slice(0, 8)]\n  return moreImg.slice(imgIndex.value, imgIndex.value + 8)\n})\n\nwatch(\n  () => props.active,\n  (newVal, oldValue?: number) => {\n    if (newVal === 0) {\n      rotatable.value = true\n    } else if (newVal === 1) {\n      nextTick(() => {\n        toDealShowImg(oldValue)\n      })\n    }\n  },\n  {\n    deep: true,\n    immediate: true\n  }\n)\n\nlet unit = ref(1)\nconst toDealShowImg = (oldValue?: number) => {\n  const num = imgIndex.value - startIndex.value\n  let gtH = Math.abs(num) > car360.value.length / 2\n  if (oldValue === 0 && num !== 0) {\n    unit.value = 1\n    if (num > 0) {\n      unit.value = gtH ? 1 : -1\n    } else if (num < 0) {\n      unit.value = gtH ? -1 : 1\n    }\n    toRotate()\n  } else {\n    rotatable.value = false\n  }\n}\n\nlet timeOut: any = ref(null)\nconst setTimeoutFn = () => {\n  timeOut.value = setTimeout(() => {\n    let imgIndexTemp = imgIndex.value\n    imgIndexTemp += unit.value\n    if (imgIndexTemp > car360.value.length - 1) {\n      imgIndexTemp = 0\n    } else if (imgIndexTemp < 0) {\n      imgIndexTemp = car360.value.length - 1\n    }\n    if (imgIndexTemp === startIndex.value) {\n      imgIndexTemp = startIndex.value\n      rotatable.value = false\n      timeOut = null\n    } else {\n      imgIndex.value = imgIndexTemp\n      toRotate()\n    }\n  }, 50)\n}\n\nconst toRotate = () => {\n  timeOut?.value && (timeOut.value = null)\n  setTimeoutFn()\n}\n\n/**\n *  360 触摸开始\n */\nconst touchstart = (e: AnyObject) => {\n  touching.value = true\n  const touches = e.touches[0]\n  clientX.value = touches.clientX\n  clientY.value = touches.clientY\n}\n\n/**\n * 360 触摸滑动\n */\nlet touchStep = ref(0)\nconst touchmove = (e: AnyObject) => {\n  if (!touching.value || !rotatable.value) {\n    return\n  }\n  touchStep.value++\n  if (touchStep.value % 4 !== 0) {\n    return\n  }\n  const touches = e.touches[0]\n  const clientXTemp = touches.clientX\n  const clientYTemp = touches.clientY\n  disabledPull.value = Math.abs(clientXTemp - clientX.value) > Math.abs(clientYTemp - clientY.value)\n  if (!disabledPull.value) {\n    return\n  }\n  let step = clientXTemp - clientX.value > 0 ? 1 : -1\n  imgIndex.value += step\n  if (imgIndex.value > car360.value.length - 1) {\n    imgIndex.value = 0\n  }\n  if (imgIndex.value < 0) {\n    imgIndex.value = car360.value.length - 1\n  }\n  clientX.value = clientXTemp\n  clientY.value = clientYTemp\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.view-img {\n  width: 100%;\n  height: 420rpx;\n  // background: #fff;\n  position: relative;\n  overflow: hidden;\n\n  image.img-item {\n    width: 100%;\n    height: 100%;\n    background: #fff;\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: -1;\n    transition: transform 0.6s;\n\n    &.active {\n      z-index: 9;\n    }\n\n    &.no-rotatable {\n      transform: translate(65%, -18%) scale(3);\n    }\n  }\n\n  .icon {\n    width: 100%;\n    height: 240rpx;\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    z-index: 10;\n  }\n}\n</style>\n","import Component from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-car/pages/vehicle-setting/exterior-rim-img.vue'\nwx.createComponent(Component)","<template>\n  <!-- 外观配置 -->\n  <view v-if=\"active === 0\" class=\"out-setting\">\n    <view class=\"attr\">\n      <text class=\"text1\">{{ outColor.data.name }}</text>\n      <text class=\"line\" />\n      <text>{{ outPainting.data.name }}</text>\n    </view>\n    <view v-if=\"showPriceFlag\" class=\"price\">\n      <view v-if=\"outPrice\">\n        <text class=\"text1\">￥</text>\n        <text class=\"text2\">{{ formatMoney(outPrice, 0, 0) }}</text>\n      </view>\n      <view v-else>\n        <text class=\"text1\">价格已包含</text>\n      </view>\n    </view>\n    <!-- 价格不展示 -->\n    <view v-else class=\"price\">\n      <view>\n        <text class=\"text3\">价格待定</text>\n      </view>\n    </view>\n    <!-- 颜色选择 -->\n    <view class=\"out-color\">\n      <view class=\"title\">颜色</view>\n      <scroll-view scroll-x class=\"color-list border-bottom-1\">\n        <view\n          v-for=\"(item, index) in outColorList\"\n          :key=\"index\"\n          class=\"color-item\"\n          :class=\"{ active: outColor.data.name === item.name, disabled: item.disabled }\"\n          @click=\"toSelectOutColor(item, item.disabled)\"\n        >\n          <view>\n            <image :src=\"item.image\" mode=\"asceptFit\" />\n          </view>\n        </view>\n      </scroll-view>\n    </view>\n    <!-- 喷漆选择 -->\n    <view class=\"out-painting\">\n      <view class=\"title\">喷漆</view>\n      <scroll-view scroll-x class=\"painting-list\">\n        <view\n          v-for=\"(item, index) in outPaintingList\"\n          :key=\"index\"\n          class=\"painting-item\"\n          :class=\"{ active: outPainting.data.name === item.name, disabled: item.disabled }\"\n          @click=\"toSelectOutPainting(item, item.disabled)\"\n        >\n          <view>\n            <image :src=\"item.image\" mode=\"asceptFit\" />\n          </view>\n        </view>\n      </scroll-view>\n    </view>\n  </view>\n</template>\n\n<script lang=\"ts\" setup name=\"ExteriorSetting\">\nimport { inject, onMounted, watch } from 'vue'\nimport { formatMoney } from '@util/money'\ndefineProps({\n  active: {\n    type: Number,\n    default: 0\n  }\n})\n\nconst { getVehicleDeatil, outColor, outPainting, outPaintingList, outColorList, showPriceFlag, outPrice, outCarData, toSelectOutPainting, toSelectOutColor } =\n  inject<any>('useSetting')\nconst emit = defineEmits(['setOutData'])\nonMounted(getVehicleDeatil)\nwatch(\n  () => outCarData.value,\n  () => {\n    emit('setOutData', outCarData.value)\n  },\n  {\n    immediate: true\n  }\n)\n\nwatch(\n  () => outColor,\n  () => {\n    if (!outColor.data.name) {\n      emit('setOutData', null)\n    }\n  },\n  {\n    deep: true,\n    immediate: true\n  }\n)\n</script>\n\n<style lang=\"scss\" scoped>\n.out-setting {\n  padding: 32rpx 40rpx;\n\n  .attr {\n    height: 54rpx;\n\n    text {\n      display: inline-block;\n      vertical-align: middle;\n      font-size: 36rpx;\n      width: calc(50vw - 58rpx);\n      line-height: 54rpx;\n      font-family: SourceHanSansSC-Regular, SourceHanSansSC;\n      font-weight: 400;\n      color: #292c2e;\n\n      &.text1 {\n        text-align: right;\n      }\n    }\n\n    .line {\n      display: inline-block;\n      vertical-align: middle;\n      width: 1rpx;\n      height: 30rpx;\n      margin: 12rpx 16rpx;\n      background: #92969a;\n    }\n  }\n\n  .price {\n    margin-top: 12rpx;\n    text-align: center;\n\n    view {\n      display: inline-block;\n      height: 40rpx;\n      background: #f2f3f3;\n      border-radius: 20rpx;\n      padding: 0 18rpx;\n      line-height: 40rpx;\n\n      text {\n        line-height: 40rpx;\n        font-family: SourceHanSansSC-Regular, SourceHanSansSC;\n        font-weight: 400;\n      }\n\n      .text1 {\n        font-size: 20rpx;\n        color: #696b6c;\n      }\n\n      .text2 {\n        font-size: 24rpx;\n        color: #696b6c;\n      }\n\n      .text3 {\n        font-size: 24rpx;\n        color: #bababa;\n        line-height: 36rpx;\n      }\n    }\n  }\n\n  .out-color {\n    width: 100%;\n    padding: 17rpx 0 0;\n\n    .title {\n      font-size: 30rpx;\n      font-family: SourceHanSansSC-Medium, SourceHanSansSC;\n      font-weight: 600;\n      color: #292c2e;\n    }\n\n    .color-list {\n      white-space: nowrap;\n      padding: 20rpx 0 44rpx;\n      height: 168rpx;\n      position: relative;\n\n      .color-item {\n        display: inline-block;\n        width: 104rpx;\n        height: 104rpx;\n        margin-right: 28rpx;\n        border-radius: 50%;\n        background: transparent;\n\n        &.active {\n          background: #e8ebed;\n        }\n\n        &.disabled {\n          opacity: 0.2;\n        }\n\n        > view {\n          width: 76rpx;\n          height: 76rpx;\n          margin: 14rpx;\n          border-radius: 50%;\n          box-shadow: 0 8rpx 12rpx #dadada;\n\n          > image {\n            border-radius: 50%;\n            width: 100%;\n            height: 100%;\n          }\n        }\n      }\n    }\n  }\n\n  .out-painting {\n    padding: 44rpx 0;\n\n    .title {\n      font-size: 30rpx;\n      font-family: SourceHanSansSC-Medium, SourceHanSansSC;\n      font-weight: 600;\n      color: #292c2e;\n    }\n\n    .painting-list {\n      padding: 24rpx 0 44rpx;\n      white-space: nowrap;\n\n      .painting-item {\n        display: inline-block;\n        width: 164rpx;\n        height: 116rpx;\n        border-radius: 13rpx;\n        margin-right: 44rpx;\n        background: transparent;\n\n        &.active {\n          background: #e8ebed;\n        }\n\n        &.disabled {\n          opacity: 0.2;\n        }\n\n        > view {\n          margin: 10rpx;\n          width: 144rpx;\n          height: 96rpx;\n          line-height: 96rpx;\n          border-radius: 13rpx;\n          text-align: center;\n          color: #fff;\n          box-shadow: 0 8rpx 12rpx #dadada;\n\n          > image {\n            border-radius: 13rpx;\n            width: 100%;\n            height: 100%;\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n","import Component from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-car/pages/vehicle-setting/exterior-setting.vue'\nwx.createComponent(Component)","<template>\n  <view v-if=\"active === 2\">\n    <view class=\"swiper-box\">\n      <sp-swiper :img-list=\"innerImgList.data\" />\n    </view>\n    <view class=\"inner-setting\">\n      <view class=\"attr\">\n        <text class=\"text1\">{{ innerColor.data.name }}</text>\n        <text class=\"line\" />\n        <text>{{ innerMaterial.data.name }}</text>\n      </view>\n      <view v-if=\"showPriceFlag\" class=\"price\">\n        <view v-if=\"innerPrice\">\n          <text class=\"text1\">￥</text>\n          <text class=\"text2\">{{ formatMoney(innerPrice, 0, 0) }}</text>\n        </view>\n        <view v-else>\n          <text class=\"text1\">价格已包含</text>\n        </view>\n      </view>\n      <!-- 价格待定 -->\n      <view v-else class=\"price\">\n        <view>\n          <text class=\"text3\">价格待定</text>\n        </view>\n      </view>\n      <!-- 颜色选择 -->\n      <view class=\"inner-color\">\n        <view class=\"title\">颜色</view>\n        <scroll-view scroll-x class=\"color-list border-bottom-1\">\n          <view\n            v-for=\"(item, index) in innerColorList\"\n            :key=\"index\"\n            class=\"color-item\"\n            :class=\"{ active: innerColor.data.name === item.name, disabled: item.disabled }\"\n            @click=\"toSelectInnerColor(item, item.disabled)\"\n          >\n            <view>\n              <image :src=\"item.image\" mode=\"asceptFit\" />\n            </view>\n          </view>\n        </scroll-view>\n      </view>\n      <!-- 材质选择 -->\n      <view class=\"inner-material\">\n        <view class=\"title\">材质</view>\n        <scroll-view scroll-x class=\"material-list\">\n          <view\n            v-for=\"(item, index) in innerMaterialList\"\n            :key=\"index\"\n            class=\"material-item\"\n            :class=\"{ active: innerMaterial.data.name === item.name, disabled: item.disabled }\"\n            @click=\"toSelectInnerMaterial(item, item.disabled)\"\n          >\n            <view>\n              <image :src=\"item.image\" mode=\"asceptFit\" />\n            </view>\n          </view>\n        </scroll-view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script lang=\"ts\" setup name=\"InnerSetting\">\nimport { formatMoney } from '@util/money'\nimport { inject, onMounted } from 'vue'\ndefineProps({\n  active: {\n    type: Number,\n    default: 0\n  }\n})\n\nconst { getVehicleDeatil, innerImgList, innerColor, innerMaterial, showPriceFlag, innerPrice, innerColorList, innerMaterialList, toSelectInnerMaterial, toSelectInnerColor } =\n  inject<any>('useSetting')\nonMounted(getVehicleDeatil)\n</script>\n\n<style lang=\"scss\" scoped>\n.swiper-box {\n  height: 420rpx;\n}\n\n.inner-setting {\n  padding: 32rpx 40rpx;\n\n  .attr {\n    height: 54rpx;\n\n    text {\n      display: inline-block;\n      vertical-align: middle;\n      font-size: 36rpx;\n      width: calc(50vw - 58rpx);\n      line-height: 54rpx;\n      font-family: SourceHanSansSC-Regular, SourceHanSansSC;\n      font-weight: 400;\n      color: #292c2e;\n\n      &.text1 {\n        text-align: right;\n      }\n    }\n\n    .line {\n      display: inline-block;\n      vertical-align: middle;\n      width: 1rpx;\n      height: 30rpx;\n      margin: 12rpx 16rpx;\n      background: #92969a;\n    }\n  }\n\n  .price {\n    margin-top: 12rpx;\n    text-align: center;\n\n    view {\n      display: inline-block;\n      height: 40rpx;\n      background: #f2f3f3;\n      border-radius: 20rpx;\n      padding: 0 18rpx;\n      line-height: 40rpx;\n\n      text {\n        line-height: 40rpx;\n        font-family: SourceHanSansSC-Regular, SourceHanSansSC;\n        font-weight: 400;\n      }\n\n      .text1 {\n        font-size: 20rpx;\n        color: #696b6c;\n      }\n\n      .text2 {\n        font-size: 24rpx;\n        color: #696b6c;\n      }\n\n      .text3 {\n        font-size: 24rpx;\n        color: #bababa;\n      }\n    }\n  }\n\n  .inner-color {\n    width: 100%;\n    padding: 17rpx 0 0;\n\n    .title {\n      font-size: 30rpx;\n      font-family: SourceHanSansSC-Medium, SourceHanSansSC;\n      font-weight: 600;\n      color: #292c2e;\n    }\n\n    .color-list {\n      white-space: nowrap;\n      padding: 20rpx 0 44rpx;\n      height: 168rpx;\n      position: relative;\n\n      .color-item {\n        display: inline-block;\n        width: 104rpx;\n        height: 104rpx;\n        margin-right: 28rpx;\n        border-radius: 50%;\n        background: transparent;\n\n        &.active {\n          background: #e8ebed;\n        }\n\n        &.disabled {\n          opacity: 0.2;\n        }\n\n        > view {\n          width: 76rpx;\n          height: 76rpx;\n          margin: 14rpx;\n          border-radius: 50%;\n          box-shadow: 0 8rpx 12rpx #dadada;\n\n          > image {\n            border-radius: 50%;\n            width: 100%;\n            height: 100%;\n          }\n        }\n      }\n    }\n  }\n\n  .inner-material {\n    padding: 44rpx 0;\n\n    .title {\n      font-size: 30rpx;\n      font-family: SourceHanSansSC-Medium, SourceHanSansSC;\n      font-weight: 600;\n      color: #292c2e;\n    }\n\n    .material-list {\n      padding: 24rpx 0 44rpx;\n      white-space: nowrap;\n\n      .material-item {\n        display: inline-block;\n        width: 164rpx;\n        height: 116rpx;\n        border-radius: 13rpx;\n        margin-right: 44rpx;\n        background: transparent;\n\n        &.active {\n          background: #e8ebed;\n        }\n\n        &.disabled {\n          opacity: 0.2;\n        }\n\n        > view {\n          margin: 10rpx;\n          width: 144rpx;\n          height: 96rpx;\n          line-height: 96rpx;\n          border-radius: 13rpx;\n          text-align: center;\n          color: #fff;\n          box-shadow: 0 8rpx 12rpx #dadada;\n\n          > image {\n            border-radius: 13rpx;\n            width: 100%;\n            height: 100%;\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n","import Component from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-car/pages/vehicle-setting/inner-setting.vue'\nwx.createComponent(Component)","<template>\n  <view v-if=\"active === 3\" class=\"packages-setting\">\n    <view v-for=\"(item, index) in packagesList.data\" :key=\"index\" class=\"packages-item\">\n      <view class=\"img\"><image :src=\"item.image\" mode=\"aspectFill\" /></view>\n      <view class=\"info\">\n        <view class=\"text\">\n          <view class=\"title\">\n            <text>{{ item.name }}</text>\n            <image mode=\"aspectFill\" :src=\"iconHelp\" @click.stop=\"goPackagesDetail(item)\" />\n          </view>\n          <view v-if=\"item.price && showPriceFlag\" class=\"price\">￥{{ formatMoney(item.price, 0, 0) }}</view>\n          <view v-if=\"!item.price && showPriceFlag\" class=\"price\">价格已包含</view>\n          <!-- 价格待定 -->\n          <view v-if=\"!showPriceFlag\" class=\"price\">价格待定</view>\n        </view>\n        <view class=\"select\" @click=\"toSelectPackages(item)\">\n          <image :src=\"getImgSrc(item)\" mode=\"aspectFill\" />\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script lang=\"ts\" setup name=\"PackagesSetting\">\nimport { formatMoney } from '@util/money'\nimport usePackageData from './package-data'\n\ndefineProps({\n  active: {\n    type: Number,\n    default: 0\n  },\n  packagesList: {\n    type: Object,\n    default: () => ({})\n  }\n})\n\nconst { goPackagesDetail, toSelectPackages, getImgSrc, showPriceFlag, iconHelp } = usePackageData()\n</script>\n\n<style lang=\"scss\" scoped>\n.packages-setting {\n  padding: 0 40rpx;\n\n  .packages-item {\n    margin-bottom: 40rpx;\n    box-shadow: 0 5rpx 10rpx #ececec;\n\n    view.img {\n      width: 100%;\n      height: 375rpx;\n\n      image {\n        width: 100%;\n        height: 100%;\n      }\n    }\n\n    .info {\n      height: 143rpx;\n      padding: 26rpx 40rpx 32rpx;\n      display: flex;\n      justify-content: space-between;\n\n      > view.text {\n        .title {\n          line-height: 40rpx;\n\n          text {\n            vertical-align: middle;\n            font-size: 32rpx;\n            font-family: SourceHanSansSC-Medium, SourceHanSansSC;\n            font-weight: 600;\n            color: #292c2e;\n            line-height: 40rpx;\n          }\n\n          image {\n            vertical-align: middle;\n            margin-left: 20rpx;\n            width: 34rpx;\n            height: 34rpx;\n          }\n        }\n\n        .price {\n          font-size: 24rpx;\n          font-family: SourceHanSansSC-Regular, SourceHanSansSC;\n          font-weight: 400;\n          color: #92969a;\n        }\n      }\n\n      > view.select {\n        width: 40rpx;\n        display: flex;\n        align-items: center;\n\n        image {\n          width: 40rpx;\n          height: 40rpx;\n        }\n      }\n    }\n  }\n}\n</style>\n","import Component from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-car/pages/vehicle-setting/packages-setting.vue'\nwx.createComponent(Component)","<template>\n  <!-- 轮圈配置 -->\n  <view v-if=\"active === 1\" class=\"rim-setting\">\n    <view class=\"attr\">{{ rim.data.name }}</view>\n    <view v-if=\"showPriceFlag\" class=\"price\">\n      <view v-if=\"rimPrice\">\n        <text class=\"text1\">￥</text>\n        <text class=\"text2\">{{ formatMoney(rimPrice, 0, 0) }}</text>\n      </view>\n      <view v-else>\n        <text class=\"text1\">价格已包含</text>\n      </view>\n    </view>\n    <!-- 价格待定 -->\n    <view v-else class=\"price\">\n      <view>\n        <text class=\"text3\">价格待定</text>\n      </view>\n    </view>\n    <!-- 轮圈选择 -->\n    <view class=\"rim\">\n      <view class=\"title\">轮圈</view>\n      <scroll-view scroll-x class=\"rim-list\">\n        <view\n          v-for=\"(item, index) in rimList\"\n          :key=\"index\"\n          class=\"rim-item\"\n          :class=\"{ active: rim.data.name === item.name, disabled: item.disabled }\"\n          @click=\"toSelectRim(item, item.disabled)\"\n        >\n          <view>\n            <image :src=\"item.image\" mode=\"asceptFit\" />\n          </view>\n        </view>\n      </scroll-view>\n    </view>\n  </view>\n</template>\n\n<script lang=\"ts\" setup name=\"RimSetting\">\nimport { formatMoney } from '@util/money'\nimport { inject, onMounted } from 'vue'\n\ndefineProps({\n  active: {\n    type: Number,\n    default: 0\n  }\n})\n\nconst { getVehicleDeatil, rim, rimList, rimPrice, showPriceFlag, toSelectRim } = inject<any>('useSetting')\nonMounted(getVehicleDeatil)\n</script>\n\n<style lang=\"scss\" scoped>\n.rim-setting {\n  padding: 32rpx 40rpx;\n\n  .attr {\n    height: 54rpx;\n    text-align: center;\n    font-size: 36rpx;\n    line-height: 54rpx;\n    font-family: SourceHanSansSC-Regular, SourceHanSansSC;\n    font-weight: 400;\n    color: #292c2e;\n  }\n\n  .price {\n    margin-top: 12rpx;\n    text-align: center;\n\n    view {\n      display: inline-block;\n      height: 40rpx;\n      background: #f2f3f3;\n      border-radius: 20rpx;\n      padding: 0 18rpx;\n      line-height: 40rpx;\n\n      text {\n        line-height: 40rpx;\n        font-family: SourceHanSansSC-Regular, SourceHanSansSC;\n        font-weight: 400;\n        color: #696b6c;\n        font-size: 24rpx;\n      }\n\n      .text1 {\n        font-size: 20rpx;\n      }\n\n      .text2 {\n        font-size: 24rpx;\n      }\n\n      .text3 {\n        font-size: 24rpx;\n        color: #bababa;\n      }\n    }\n  }\n\n  .rim {\n    padding: 17rpx 0 0;\n\n    .title {\n      font-size: 30rpx;\n      font-family: SourceHanSansSC-Medium, SourceHanSansSC;\n      font-weight: 600;\n      color: #292c2e;\n    }\n\n    .rim-list {\n      padding: 32rpx 0;\n      white-space: nowrap;\n\n      .rim-item {\n        display: inline-block;\n        width: 128rpx;\n        height: 128rpx;\n        border-radius: 50%;\n        background: transparent;\n        margin-right: 32rpx;\n\n        &.active {\n          background: #e8ebed;\n        }\n\n        &.disabled {\n          opacity: 0.2;\n        }\n\n        > view {\n          margin: 12rpx;\n          width: 104rpx;\n          height: 104rpx;\n          line-height: 96rpx;\n          border-radius: 50%;\n          text-align: center;\n          color: #fff;\n          box-shadow: 0 8rpx 12rpx #dadada;\n\n          > image {\n            border-radius: 50%;\n            width: 100%;\n            height: 100%;\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n","import Component from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-car/pages/vehicle-setting/rim-setting.vue'\nwx.createComponent(Component)","<template>\n  <view class=\"dealer-list\">\n    <view>\n      <sp-dealer-card v-for=\"dealer in dealerList\" :key=\"dealer.code\" class=\"item\" :dealer=\"dealer\" />\n    </view>\n    <view v-if=\"isEmpty\" class=\"no-data\">附近暂无经销商</view>\n    <view v-if=\"dealerList.length && isLastPage\" class=\"no-more\">-没有更多了-</view>\n  </view>\n</template>\n\n<script lang=\"ts\" setup name=\"DealerList\">\nimport { ref, reactive } from 'vue'\nimport { getDealerList } from '@api/car'\nimport { onShow, onPullDownRefresh, onReachBottom } from '@dcloudio/uni-app'\n\nconst isRefresh = ref(false)\nconst pageNo = ref(1)\nconst pageSize = ref(10)\nconst isLastPage = ref(false)\nconst isLoading = ref(false)\nconst isEmpty = ref(false)\n\nconst dealerList: Dealer.Iteminfo[] = reactive([])\n\nonShow(() => {\n  getList()\n})\nonPullDownRefresh(() => {\n  onRefresh()\n})\nonReachBottom(() => {\n  onScrolltolower()\n})\n\nconst onRefresh = async () => {\n  pageNo.value = 1\n  isRefresh.value = true\n  isLastPage.value = false\n  await getList()\n  isRefresh.value = false\n  uni.stopPullDownRefresh()\n}\n\nconst onScrolltolower = () => {\n  if (isLoading.value || isLastPage.value) {\n    return\n  }\n  pageNo.value++\n  getList()\n}\nasync function getList() {\n  isLoading.value = true\n  try {\n    const dealerData = await getDealerList({\n      pageNo: pageNo.value,\n      pageSize: pageSize.value\n    })\n    const { total, data } = dealerData\n    if (!data || !data.length) {\n      return\n    }\n    isEmpty.value = !total\n    const dealers = dealerData.data.map((dealer: Dealer.BizItem) => {\n      return {\n        name: dealer.name,\n        address: dealer.details,\n        image: dealer.image\n      }\n    })\n\n    /**\n     * 下拉刷新先清空数据\n     */\n    if (isRefresh.value) {\n      dealerList.splice(0, dealerList.length)\n    }\n\n    /**\n     * 添加数据\n     */\n    dealerList.push(...dealers)\n\n    /**\n     * 判断数据是否已全部加载完成\n     */\n    if (total <= pageNo.value * pageSize.value || data.length < pageSize.value) {\n      isLastPage.value = true\n    }\n  } catch (error) {}\n  isLoading.value = false\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dealer-list {\n  padding: 24rpx 0;\n\n  .item:last-of-type {\n    margin-bottom: 0;\n  }\n\n  .no-data {\n    padding: 75rpx 40rpx 124rpx;\n    text-align: center;\n    font-size: 26rpx;\n    color: #909ca8;\n  }\n\n  .no-more {\n    text-align: center;\n    font-size: 26rpx;\n    color: #909ca8;\n    padding: 20rpx 20rpx calc(20rpx + env(safe-area-inset-bottom));\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-car/pages/dealer-list/index.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"test-drive\">\n    <!-- 图片 -->\n    <view class=\"image-box\">\n      <image class=\"test-drive-main-img\" :src=\"testDriveMainImg\" mode=\"aspectFit\" />\n    </view>\n    <view class=\"form-box\">\n      <view class=\"title\">预约试驾</view>\n      <test-drive-form :form-data-list=\"formDataList\" @reservation-time=\"getTime\" />\n      <view class=\"footer-box\">\n        <view class=\"clause-box\">\n          <view class=\"label-box\" @click=\"isChecked = !isChecked\">\n            <image class=\"icon-checkbox\" :src=\"isChecked ? iconChecked : iconNoChecked\" mode=\"aspectFit\" />\n            已阅读并同意\n          </view>\n          <view class=\"link-view\" @click=\"goToAgreement\">《隐私条款》</view>\n        </view>\n        <view :class=\"['submit-btn', isDisabled && isChecked ? '' : 'disabled-btn']\" @click=\"submitInfo\">立即预约</view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script lang=\"ts\" setup name=\"TestDrive\">\nimport { inject, ref, reactive, watch } from 'vue'\nimport { setReservation } from '@api/car'\nimport { throttle } from '@src/lib/lodash'\nimport { onLoad, onUnload } from '@dcloudio/uni-app'\nimport TestDriveForm from './test-drive-form.vue'\nimport { useUserStore } from '@src/pinia/user'\nimport { useAddressStore } from '@src/pinia/address'\n\nconst userStore = useUserStore()\nconst gdp = inject('$gdp') as GeneratorDynamicPicFunc<string | string[]>\n/**\n * 页面主图片\n */\nconst testDriveMainImg = gdp('test-drive-main-img.png')\nconst iconChecked = gdp('icon-checked.png')\nconst iconNoChecked = gdp('icon-no-checked.png')\n\nlet isChecked = ref(false) // 复选框是否选中\nlet isDisabled = ref(false) // 判断“立即预约”按钮是否可点击\nlet reservationTime = ref('')\n\n// 表单信息\nconst formDataList = reactive([\n  {\n    id: 'name',\n    label: '真实姓名',\n    placeholder: '请输入您的名字',\n    type: 'text',\n    maxlength: 20,\n    disabled: false,\n    rules: {\n      rule: /^[a-zA-Z\\u4e00-\\u9fa5]+$/,\n      msg: '姓名格式错误，请重新输入'\n    },\n    value: ''\n  },\n  {\n    id: 'mobileNum',\n    label: '手机号码',\n    placeholder: '请输入手机号码',\n    type: 'number',\n    maxlength: 11,\n    disabled: false,\n    rules: {\n      rule: /^[1]([3-9])[\\d]{9}$/,\n      msg: '请输入正确的手机号码'\n    },\n    value: ''\n  },\n  {\n    id: 'verificationCode',\n    label: '验证码',\n    placeholder: '请输入验证码',\n    type: 'number',\n    maxlength: 6,\n    rules: {\n      rule: /^\\d{6}$/,\n      msg: '验证码应由6位数字组成'\n    },\n    rightContentType: 'btn',\n    disabled: false,\n    value: ''\n  },\n  {\n    id: 'carInfo',\n    label: '试驾车型',\n    code: '',\n    placeholder: '请选择试驾车型',\n    type: 'text',\n    rightContentType: 'icon',\n    disabled: true,\n    value: ''\n  },\n  {\n    id: 'storeInfo',\n    label: '试驾门店',\n    code: '',\n    placeholder: '请选择试驾门店',\n    type: 'text',\n    rightContentType: 'icon',\n    disabled: true,\n    value: ''\n  },\n  {\n    id: 'chooseDate',\n    label: '选择日期',\n    placeholder: '请选择日期',\n    type: 'datePicker',\n    rightContentType: 'icon',\n    disabled: true,\n    value: ''\n  }\n])\n\n/**\n * 判断“立即预约”按钮是否可点击\n */\nwatch(\n  () => formDataList,\n  async (value) => {\n    isDisabled.value = value.every((item) => {\n      return !!item.value\n    })\n  },\n  {\n    deep: true\n  }\n)\n\nconst getTime = (val: string) => {\n  reservationTime.value = val\n}\n\n/**\n * 获取用户信息\n */\nconst getUserInfo = async () => {\n  try {\n    let resData = await userStore.getUserInfo()\n    getValue(resData.mobile, 1)\n  } catch {}\n}\n\nfunction getValue(data: string, index: number, code?: string) {\n  const currentInfoObj = formDataList[index]\n  currentInfoObj.value = data\n  code && (currentInfoObj.code = code)\n}\nfunction goToAgreement() {\n  uni.navigateTo({\n    url: '/package-car/pages/privacy-agreement/privacy-agreement'\n  })\n}\n/**\n * 校验输入框内容\n */\nfunction toFormValidate(): boolean {\n  let dataArr = formDataList.slice(0, 3)\n  let flag = true\n  for (let item of dataArr) {\n    if (!item.rules?.rule.test(item.value)) {\n      uni.showToast({\n        icon: 'none',\n        title: item.rules?.msg\n      })\n      flag = false\n      break\n    }\n  }\n  return flag\n}\n/**\n * 表单提交\n */\nconst submitInfo = throttle(\n  async () => {\n    if (!isDisabled.value || !isChecked.value || !toFormValidate()) {\n      return false\n    }\n    const params = {\n      driverName: formDataList[0].value,\n      mobile: formDataList[1].value,\n      smsCaptcha: formDataList[2].value,\n      modelCode: formDataList[3].code,\n      dealerCode: formDataList[4].code,\n      reservationTime: reservationTime.value,\n      source: '1'\n    }\n    try {\n      const resData = await setReservation(params)\n      uni.redirectTo({\n        url: `/package-car/pages/appointment-complete/index?id=${resData}`\n      })\n    } catch (error) {}\n  },\n  300,\n  {\n    trailing: false\n  }\n)\nonLoad(() => {\n  /**\n   * 获取用户信息\n   */\n  uni.getStorageSync('token') && getUserInfo()\n})\nonUnload(() => {\n  useAddressStore().$patch({ selectedDealer: null, selectedCity: null })\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.test-drive {\n  .image-box {\n    width: 100%;\n    height: 725rpx;\n\n    .test-drive-main-img {\n      width: 100%;\n      height: 100%;\n    }\n  }\n\n  .form-box {\n    position: relative;\n    top: -100rpx;\n    margin: 0 32rpx;\n    padding: 56rpx 48rpx 64rpx;\n    background: #fff;\n    box-shadow: 0 15rpx 33rpx 0 rgb(111 111 111 / 17%);\n    border-radius: 2rpx;\n\n    .title {\n      font-size: 48rpx;\n      font-weight: 500;\n      color: #292c2e;\n    }\n\n    .footer-box {\n      margin-top: 64rpx;\n      font-size: 24rpx;\n      color: #fff;\n\n      .clause-box {\n        display: flex;\n        align-items: center;\n        color: #92969a;\n\n        .label-box {\n          display: flex;\n          align-items: center;\n\n          .icon-checkbox {\n            width: 32rpx;\n            height: 32rpx;\n            margin-right: 8rpx;\n          }\n        }\n\n        .link-view {\n          color: #292c2e;\n        }\n      }\n\n      .submit-btn {\n        width: 100%;\n        height: 92rpx;\n        line-height: 92rpx;\n        text-align: center;\n        font-size: 30rpx;\n        background: #1a1a1a;\n        margin-top: 32rpx;\n      }\n\n      .disabled-btn {\n        background: #92969a;\n      }\n    }\n  }\n}\n\n.picker-view {\n  width: 750rpx;\n  height: 600rpx;\n  margin-top: 20rpx;\n}\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-car/pages/test-drive/index.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"choice-stores\">\n    <view class=\"amap-container\">\n      <map id=\"map\" style=\"width: 100%; height: 100%\" :latitude=\"currentLatitude\" :longitude=\"currentLongitude\" :scale=\"scale\" show-location=\"true\" :markers=\"markers\" />\n    </view>\n    <view class=\"location\" @click=\"openCityPicker\">\n      <text v-if=\"!scope && !currentCityText\">请选择城市</text>\n      <text v-else>{{ currentCityText }}</text>\n      <image class=\"icon-arrow-down\" :src=\"iconArrowDown\" />\n    </view>\n    <!-- 经销商列表 -->\n    <view class=\"store\">\n      <view class=\"store-list\">\n        <view v-for=\"(item, index) in dealerList\" :key=\"index\" class=\"store-item border-bottom-1\" @click=\"toSelectItem(item)\">\n          <view class=\"information\">\n            <text class=\"row1\">{{ item.name }}</text>\n            <text class=\"row2\">{{ item.details || '' }}</text>\n            <text v-if=\"item.distance\" class=\"row3\">{{ item.distance }}km</text>\n          </view>\n          <view class=\"icon\">\n            <image :src=\"selectedDealer.id === item.id ? iconRadioChecked : iconRadioNoChecked\" class=\"icon-img\" />\n          </view>\n        </view>\n      </view>\n      <view v-if=\"!dealerList.length\" class=\"no-data\">该地区暂无经销商</view>\n    </view>\n    <view class=\"footer\">\n      <view class=\"btn\" @click=\"toEmitSelectedDealer\">确定</view>\n    </view>\n    <!-- 城市选择popup组件 -->\n    <sp-city-picker v-model=\"cityPickerVisible\" :value=\"cityValue\" :pick-level=\"2\" @change=\"handlePickerChange\" />\n  </view>\n</template>\n\n<script lang=\"ts\" setup name=\"ChoiceStores\">\nimport { inject, ref, reactive, computed } from 'vue'\nimport { getInstitution, getGps } from '@api/car'\nimport { useLocationStore } from '@src/pinia/location'\nimport { onLoad } from '@dcloudio/uni-app'\nimport { useAddressStore } from '@src/pinia/address'\n\ntype OnLoadOption<T> = Record<keyof T, string | undefined>\n\nonLoad((Option: OnLoadOption<{ selectedDealer: string }>) => {\n  if (Option.selectedDealer) {\n    const data = JSON.parse(Option.selectedDealer) as Dealer.BizItem\n    Object.assign(selectedDealer, data)\n  }\n  getLocation()\n})\n\nconst addressStore = useAddressStore()\nconst locationStore = useLocationStore()\nconst latitude = computed(() => locationStore.latitude || 30.129506)\nconst longitude = computed(() => locationStore.longitude || 120.08217)\nconst location = computed(() => locationStore.cityInfo)\ninterface Markers {\n  id: string\n  iconPath: string\n  width: number\n  height: number\n  longitude: number\n  latitude: number\n}\n/**\n *  选中的经销商对象\n */\nlet selectedDealer = reactive({}) as Dealer.BizItem\n\nconst cityValue = computed(() => addressStore.selectedCity || [])\nconst cityCode = computed(() => {\n  if (cityValue.value.length) {\n    const province = cityValue.value[0]\n    const city = cityValue.value[1]\n    if (!city || city.name === province.name) {\n      return province.code\n    }\n    return city.code\n  }\n  return location.value ? location.value.cityCode : ''\n})\n\n// 页面展示的地址\nlet currentCityText = computed(() => {\n  if (cityValue.value.length) {\n    const province = cityValue.value[0]\n    const city = cityValue.value[1]\n    if (!city || city.name === province.name) {\n      return province.name\n    }\n    return city.name !== '市辖区' ? city.name : province.name\n  }\n  return location.value.city || ''\n})\n\nconst gdp = inject('$gdp') as GeneratorDynamicPicFunc<string | string[]>\nconst [iconArrowDown, iconRadioChecked, iconRadioNoChecked] = gdp(['icon-arrow-down.png', 'icon-radio-checked.png', 'icon-radio-no-checked.png'])\nconst iconSignPath = `data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACS0lEQVRYR+2XPWgTYRjH/8/17k2U4KKRJjQXRUs+yKJDi6BSZxGk2KJDu+nSVRddXHTRtYtu7aC0UgRxtqgg7VCXkA+qaC6lKVYXCZq8d71HLiqU0vS+iiDknY57/8//+d3zvDwvR/C5qilxmRUUyMYpJgw74cRYYgXvyUYxU5fP/ViSV3ExD6E1xQIDF/eKIeClGZOjhRKkF29PAKtp9YxlK6+JoHoxZYalKvb5wZr1zk3vCaCiC3Yz2m0/a0hXf1dBJSUegHAzCAAYD7N1eculZd23q7o2waCZQMn/BBF4MmOYs9089qxANS2eMONqKADC00xNXgsEUNHFBwAnwgAA+Jg15EnfAJ/TBxMtttZDJu+ER0lNHqv9aOzm1bUF1QFtiBVa2g8Asnk4s2Yu+wNI4girYnNfACwZz6zjqy8AR1zRhdOCREiIRtaQSd9n4DdA5A3AZ8MB0Nus0T4XEEBcATAfDgBjWUM+CwTgBJX1yCMCXw8CwaDHOaN9I/AkdAJLx6NpZcteAHDaJ8SK3aeM5j+1aqEAnOBiHLG+A2KagEkvEAzMbP2UU4VNNN30rpfRdoOyLu4CuERdqsHACoAXOUM6Ok/LF8Bfx9V+xG1NG2OiaecdMU8ppjk/uAHfcyMQQOdwDqgjpCivnGe27Qu5NWvR0yfvEPUAehXoVaBXgf+3Aov5xL3+5rfbzmDbiB2+P1Jq3Plnk3Aunxda1Gynvn/p5KwfOgqzpUXGSyVPP6TbQQO3YG4oN8OMic5lRJgdXy57uqp3VukXEcj6IcphUYYAAAAASUVORK5CYII=`\nlet cityPickerVisible = ref(false)\n// 当前位置，默认中大银座\nlet currentLatitude = ref(30.129506)\nlet currentLongitude = ref(120.08217)\n\nlet dealerList: Dealer.BizItem[] = reactive([])\n\nconst markers = computed(() => {\n  return dealerList.map((it) => {\n    /**\n     * 不授权不展示距离\n     */\n    if (scope.value) {\n      it.distance = formatDistance(it)\n    }\n    let marker = {\n      id: it.id as string,\n      longitude: Number(it.gpsLongitude),\n      latitude: Number(it.gpsLatitude)\n    } as Markers\n    // #ifdef H5\n    /**\n     * 小程序有默认的图标\n     */\n    marker.width = 30\n\n    marker.height = 36\n\n    marker.iconPath = iconSignPath\n    // #endif\n    return marker\n  })\n})\n// 是否有定位权限\nlet scope = ref(false)\n// 地图缩放级别\nlet scale = ref(14)\n\nasync function getLocation() {\n  try {\n    let res = await locationStore.getLocation()\n    currentLatitude.value = res.latitude\n    currentLongitude.value = res.longitude\n    await locationStore.getCityCode()\n    scope.value = true\n    getDealerList()\n  } catch {\n    scope.value = false\n  }\n}\nfunction handlePickerChange(cityData: User.CityInfo[]) {\n  /**\n   * 切换地址后相当于授权失效\n   */\n  scope.value = false // 不展示km\n  addressStore.$patch({ selectedCity: cityData })\n  getGpsCity()\n}\n/**\n * 获取城市经纬度\n */\nasync function getGpsCity() {\n  const resData = await getGps({ cityCode: cityCode.value })\n  const { gpsLatitude, gpsLongitude } = resData\n  currentLatitude.value = gpsLatitude\n  currentLongitude.value = gpsLongitude\n  getDealerList()\n}\nfunction toSelectItem(item: Dealer.BizItem) {\n  Object.assign(selectedDealer, item)\n  item.gpsLatitude && (currentLatitude.value = Number(item.gpsLatitude))\n  item.gpsLongitude && (currentLongitude.value = Number(item.gpsLongitude))\n  scale.value = 12\n}\n/**\n * 根据cityCode获取门店列表\n */\nasync function getDealerList() {\n  let resData = await getInstitution({ cityCode: cityCode.value })\n  dealerList.length = 0\n  dealerList.push(...resData)\n  if (scope.value) {\n    dealerList.sort(function (a, b) {\n      return (a.distance as number) - (b.distance as number)\n    })\n  }\n}\n\nfunction toRadData(d: number) {\n  return (d * Math.PI) / 180.0\n}\n\n/**\n * 根据目标点经纬度和当前点经纬度计算距离（单位km）\n */\nfunction formatDistance(data: Dealer.BizItem) {\n  let radLat1 = toRadData(latitude.value)\n  let radLat2 = toRadData(data.gpsLatitude)\n  let a = radLat1 - radLat2\n  let b = toRadData(longitude.value) - toRadData(data.gpsLongitude)\n  let distance = 2 * Math.asin(Math.sqrt(Math.pow(Math.sin(a / 2), 2) + Math.cos(radLat1) * Math.cos(radLat2) * Math.pow(Math.sin(b / 2), 2)))\n  distance = distance * 6378.137\n  return (Math.round(distance * 10000) / 10000).toFixed(1)\n}\n\nfunction toEmitSelectedDealer() {\n  addressStore.$patch({ selectedDealer })\n  uni.navigateBack({\n    delta: 1\n  })\n}\nfunction openCityPicker() {\n  cityPickerVisible.value = true\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.choice-stores {\n  width: 100%;\n  height: 100%;\n  background: #fff;\n\n  .amap-container {\n    width: 100%;\n    height: 520rpx;\n  }\n\n  .location {\n    display: flex;\n    align-items: center;\n    height: 88rpx;\n    border-bottom: 1px solid #f2f2f2;\n    font-size: 32rpx;\n    color: #4e6175;\n    padding-left: 40rpx;\n\n    .icon-arrow-down {\n      width: 32rpx;\n      height: 32rpx;\n      margin-left: 7rpx;\n    }\n  }\n\n  .store {\n    width: 100%;\n    height: calc(100% - 520rpx - 88rpx);\n    padding-bottom: calc(128rpx + env(safe-area-inset-bottom));\n    overflow-y: scroll;\n    position: absolute;\n    bottom: 0;\n\n    .store-list {\n      padding: 0 36rpx 0 40rpx;\n\n      .store-item {\n        display: flex;\n        height: 218rpx;\n        align-items: center;\n        border-bottom: 1rpx solid rgb(111 111 111 / 17%);\n\n        .information {\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n\n          .row1 {\n            font-size: 36rpx;\n            color: #292c2e;\n            line-height: 54rpx;\n          }\n\n          .row2 {\n            font-size: 26rpx;\n            color: #92969a;\n            line-height: 36rpx;\n          }\n\n          .row3 {\n            font-size: 26rpx;\n            color: #909ca8;\n            line-height: 38rpx;\n          }\n        }\n\n        .icon {\n          width: 48rpx;\n          height: 48rpx;\n          display: flex;\n          align-items: center;\n\n          .icon-img {\n            width: 48rpx;\n            height: 48rpx;\n          }\n        }\n      }\n    }\n\n    .no-data {\n      width: 100%;\n      height: 100%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      font-size: 26rpx;\n      color: #909ca8;\n    }\n  }\n\n  .footer {\n    border-top: 1rpx solid #e4e7ea;\n    position: fixed;\n    padding: 18rpx 40rpx calc(18rpx + env(safe-area-inset-bottom));\n    bottom: 0;\n    width: 100%;\n    box-shadow: 0 1px 0 0 #e4e7ea;\n    background: #fff;\n\n    .btn {\n      line-height: 92rpx;\n      background: #1a1a1a;\n      color: #fff;\n      font-size: 28rpx;\n      text-align: center;\n    }\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-car/pages/choice-stores/index.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <div class=\"template\">\n    <p style=\"margin-top: 2.5pt; margin-bottom: 2.5pt; text-align: center; line-height: 26pt; widows: 0; orphans: 0\">\n      <span style=\"font-family: '微软雅黑'; font-size: 12pt; font-weight: bold\">数字销售隐私协议</span>\n    </p>\n    <p style=\"margin-top: 2.5pt; margin-bottom: 2.5pt; line-height: 20pt; widows: 0; orphans: 0\">\n      <span style=\"font-family: '微软雅黑'; font-size: 10.5pt; font-weight: bold\">版本更新日期： </span>\n    </p>\n    <p style=\"margin-top: 2.5pt; margin-bottom: 2.5pt; line-height: 26pt; widows: 0; orphans: 0\">\n      <span style=\"font-family: '微软雅黑'; font-size: 10.5pt; font-weight: bold\">版本生效日期： </span><span style=\"font-family: '宋体'; font-size: 12pt; font-weight: bold\">&#xa0;</span>\n    </p>\n    <p style=\"margin-top: 2.5pt; margin-bottom: 2.5pt; line-height: 20pt; widows: 0; orphans: 0\">\n      <span style=\"font-family: '宋体'; font-size: 12pt\">&#xa0;</span>\n    </p>\n    <p style=\"margin-top: 2.5pt; margin-bottom: 2.5pt; line-height: 20pt; widows: 0; orphans: 0\">\n      <span style=\"font-family: '微软雅黑'; font-size: 12pt; font-weight: bold\">一、服务条款的确认及接受</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">1、</span><span style=\"font-family: '微软雅黑'\">数字销售</span><span style=\"font-family: '微软雅黑'\">（指移动客户端软件、应用程序，以下称“本网站”）各项电子服务的所有权和运作权归属于“</span><span style=\"font-family: '微软雅黑'\">数字销售</span><span style=\"font-family: '微软雅黑'\">”所有，本网站提供的服务将完全按照其发布的服务条款和操作规则严格执行。您确认所有服务条款并完成注册程序时，本协议在您与本网站间成立并发生法律效力，同时您成为本网站正式用户。</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">2、根据国家法律法规变化及本网站运营需要，数字销售有权对本协议条款及相关规则不时地进行修改，修改后的内容一旦以任何形式公布在本网站上即生效，并取代此前相关内容，您应不时关注本网站公告、提示信息及协议、规则等相关内容的变动。您知悉并确认，如您不同意更新后的内容，应立即停止使用本网站；如您继续使用本网站，即视为知悉变动内容并同意接受。</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">3、本协议内容中以加粗方式显著标识的条款，请您着重阅读。您点击“同意”按钮即视为您完全接受本协议，在点击之前请您再次确认已知悉并完全理解本协议的全部内容。</span>\n    </p>\n    <p style=\"margin-top: 2.5pt; margin-bottom: 2.5pt; line-height: 20pt; widows: 0; orphans: 0\">\n      <span style=\"font-family: '宋体'; font-size: 12pt; font-weight: bold\">&#xa0;</span>\n    </p>\n    <p style=\"margin-top: 2.5pt; margin-bottom: 2.5pt; line-height: 20pt; widows: 0; orphans: 0\">\n      <span style=\"font-family: '微软雅黑'; font-size: 12pt; font-weight: bold\">二、服务须知</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">1、本网站运用自身开发的操作系统通过国际互联网络为用户提供购买商品等服务。使用本网站，您必须：</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">（1）自行配备上网的所需设备，包括个人手机、平板电脑、调制解调器、路由器等；</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">（2）自行负担个人上网所支付的与此服务有关的电话费用、网络费用等；</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">（3）选择与所安装终端设备相匹配的软件版本，包括但不限于iOS、Android、Windows等多个XX发布的应用版本。</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">2、基于本网站所提供的网络服务的重要性，您确认并同意：</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">（1）提供的注册资料真实、准确、完整、合法有效，注册资料如有变动的，应及时更新；</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">（2）如果您提供的注册资料不合法、不真实、不准确、不详尽的，您需承担因此引起的相应责任及后果，并且</span><span style=\"font-family: '微软雅黑'\">数字销售</span><span style=\"font-family: '微软雅黑'\">保留终止您使用本网站各项服务的权利。</span>\n    </p>\n    <p style=\"margin-top: 2.5pt; margin-bottom: 2.5pt; line-height: 20pt; widows: 0; orphans: 0\">\n      <span style=\"font-family: '微软雅黑'; font-size: 12pt; font-weight: bold\">三、订单</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">1、使用本网站下订单，您应具备购买相关商品的权利能力和行为能力，如果您在18周岁以下，您需要在监护人的监护参与下才能注册并使用本网站。在下订单的同时，即视为</span><span style=\"font-family: '微软雅黑'\">您满足</span><span style=\"font-family: '微软雅黑'\">上述条件，并对您在订单中提供的所有信息的真实性负责。</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">2、在您下订单时，请您仔细确认所购商品的名称、价格、数量、型号、规格、尺寸、联系地址、电话、收货人等信息。收货人与您本人不一致的，收货人的行为和意思表示视为您的行为和意思表示，您应对收货人的行为及意思表示的法律后果承担连带责任。</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">3、您理解并同意：本网站上销售商展示的商品和价格等信息仅仅是要约邀请，您下单时须填写您希望购买的商品数量、价款及支付方式、收货人、联系方式、收货地址（合同履行地点）、合同履行方式等内容；系统生成的订单信息是计算机信息系统根据您填写的内容自动生成的数据，仅是您向销售商发出的合同要约；销售商收到您的订单信息后，只有在销售商将您在订单中订购的商品从仓库实际直接向</span><span style=\"font-family: '微软雅黑'\">您发出</span><span style=\"font-family: '微软雅黑'\">时（以商品出库为标志），方视为您与销售商之间就实际直接向</span><span style=\"font-family: '微软雅黑'\">您发出</span><span style=\"font-family: '微软雅黑'\">的商品建立了合同关系；如果您在一份订单里订购了多种商品并且销售商只给您发出了部分商品时，您与销售商之间仅就实际直接向</span><span style=\"font-family: '微软雅黑'\">您发出</span><span style=\"font-family: '微软雅黑'\">的商品建立了合同关系，只有在销售</span><span style=\"font-family: '微软雅黑'\">商实际</span><span style=\"font-family: '微软雅黑'\">直接向</span><span style=\"font-family: '微软雅黑'\">您发出</span><span style=\"font-family: '微软雅黑'\">了订单中订购的其他商品时，您和销售商之</span><span style=\"font-family: '微软雅黑'\">间就订单中其他已实际直接向</span><span style=\"font-family: '微软雅黑'\">您发出</span><span style=\"font-family: '微软雅黑'\">的商品才成立合同关系；对于在线手机充值等数字化商品，您下单并支付货款后合同即成立。当您作为消费者为生活消费需要下单并支付货款的情况下，您货款支付成功后即视为您与销售商之间就已支付货款部分的订单建立了合同关系。</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">4、尽管销售商做出最大的努力，但由于市场变化及各种以合理商业努力难以控制因素的影响，本网站无法避免您提交的订单信息中的商品出现缺货、价格标示错误等情况；如您下单所购买的商品出现以上情况，您有权取消订单，销售商亦有权自行取消订单，若您已经付款，则为您办理退款。</span>\n    </p>\n    <p style=\"margin-top: 2.5pt; margin-bottom: 2.5pt; line-height: 20pt; widows: 0; orphans: 0\">\n      <span style=\"font-family: '微软雅黑'; font-size: 12pt; font-weight: bold\">四、配送和交付</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">1、您在本网站购买的商品将按照本网站上您所指定的送货地址进行配送。订单信息中列出的送货时间为参考时间，参考时间的计算是根据库存状况、正常的处理过程和送货时间、送货地点的基础上估计得出的。您应当清楚准确地填写您的送货地址、联系人及联系方式等配送信息，您知悉并确认，您所购买的商品应仅由您填写的联系人接受身份查验后接收商品，因您变更联系人或相关配送信息而造成的损失由您自行承担。</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">2、</span><span style=\"font-family: '微软雅黑'\">因如下</span><span style=\"font-family: '微软雅黑'\">情况造成订单延迟或无法配送等，本网站将无法承担迟延配送或无法配送的责任：</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">（1）客户提供错误信息和不详细的地址；</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">（2）货物送达无人签收或拒收，由此造成的重复配送所产生的费用及相关的后果。</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">（3）不可抗力，例如：自然灾害及恶劣天气、交通戒严等政府、司法机关的行为、决定或命令、意外交通事故、罢工、法规政策的修改、恐怖事件、抢劫、抢夺等暴力犯罪、突发战争等。</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">3、您在本网站购买的商品由数字销售的关联方或第三方配送公司（包括顺丰、圆通等，以下称“配送公司”）为您完成订单交付的，系统或单据记录的签收时间为交付时间；您</span><span style=\"font-family: '微软雅黑'\">购买的商品采用在线传输方式交付的，销售商向您指定系统发送的时间为交付时间；您购买服务的，生成的电子或者实物凭证中载明的时间为交付时间。</span>\n    </p>\n    <p style=\"margin-top: 2.5pt; margin-bottom: 2.5pt; line-height: 20pt; widows: 0; orphans: 0\">\n      <span style=\"font-family: '微软雅黑'; font-size: 12pt; font-weight: bold\">五、用户个人信息保护及授权</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">1、您知悉并同意，为方便您使用本网站相关服务，本网站将</span><span style=\"font-family: '微软雅黑'\">存储您</span><span style=\"font-family: '微软雅黑'\">在使用时的必要信息，包括但不限于您的真实姓名、性别、生日、配送地址、联系方式、通讯录、相册、日历、定位信息等。除法律法规规定的情形外，未经您的许可数字销售不会向第三方公开、透露您的个人信息。数字销售对相关信息采取专业加密存储与传输方式，利用合理措施保障用户个人信息的安全。</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">2、您知悉并确认，您在注册</span><span style=\"font-family: '微软雅黑'\">帐号</span><span style=\"font-family: '微软雅黑'\">或使用本网站的过程中，需要提供真实的身份信息，数字销售将根据国家法律法规相关要求，进行基于移动电话号码的真实身份信息认证。若您提供的信息不真实、不完整，则无法使用本网站或在使用过程中受到限制，同时，由此产生的不利后果，由您自行承担。</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">3、您在使用本</span><span style=\"font-family: '微软雅黑'\">网站某</span><span style=\"font-family: '微软雅黑'\">一特定服务时，该服务可能会另有单独的协议、相关业务规则等（以下统称为“单独协议”），您在使用该项服务前请阅读并同意相关的单独协议；您使用前述特定服务，即视为您已阅读并同意接受相关单独协议。</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">4、您充分理解并同意：</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">（1）接收通过邮件、短信、电话等形式，向在本网站注册、购物的用户、收货人发送的订单信息、促销活动等内容；</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">（2）为配合行政监管机关、司法机关执行工，在法律规定范围内</span><span style=\"font-family: '微软雅黑'\">数字销售</span><span style=\"font-family: '微软雅黑'\">有权向上述行政、司法机关提供您在使用本网站时所储存的相关信息，包括但不限于您的注册信息等，或使用相关信息进行证据保全，包括但不限于公证、见证等；</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">（3）</span><span style=\"font-family: '微软雅黑'\">数字销售</span><span style=\"font-family: '微软雅黑'\">依法保障您在安装或使用过程中的知情权和选择权，在您使用本网站服</span><span style=\"font-family: '微软雅黑'\">务过程中，涉及</span><span style=\"font-family: '微软雅黑'\">您设备自带功能</span><span style=\"font-family: '微软雅黑'\">的服务会提前征得您同意，您一经确认，XX有权开启包括但不限于收集地理位置、读取通讯录、使用摄像头、启用录音等提供服务必要的辅助功能。</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">（4）</span><span style=\"font-family: '微软雅黑'\">数字销售</span><span style=\"font-family: '微软雅黑'\">有权根据实际情况，在法律规定范围内自行决定单个用户在本网站及服务中数据的最长储存期限以及用户日志的储存期限，并在服务器上为其分配数据最大存储空间等。</span>\n    </p>\n    <p style=\"margin-top: 2.5pt; margin-bottom: 2.5pt; line-height: 20pt; widows: 0; orphans: 0\">\n      <span style=\"font-family: '微软雅黑'; font-size: 12pt; font-weight: bold\">六、用户行为规范</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">1、您同意严格遵守法律法规规章规定，依法遵守以下义务：</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">（1）不得制作、传输或发表以下违法信息资料：</span><span style=\"font-family: '微软雅黑'\">反对宪法所确定的基本原则，煽动抗拒、破坏宪法和法律法规实施的；危害国家安全，泄露国家秘密，颠覆国家政权，破坏国家统一的，煽动推翻社会主义制度的；损害国家荣誉和利益的；歪曲、丑化、亵渎、否定英雄烈士事迹和精神，侵害英雄烈士的姓名、肖像、名誉、荣誉的；宣扬或煽动实施恐怖主义、极端主义及其活动的；煽动民族仇恨、民族歧视、破坏民族团结的言论；破坏国家宗教政策，宣扬邪教和封建迷信的；散布谣言，扰乱经济秩序和社会秩序的；散布淫秽、色情、暴力或者教唆犯罪的；侮辱或者诽谤他人，侵害他人名誉、隐私和其他合法权益的；法律、行政法规禁止的其他内容。</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">（2）防范和抵制制作、复制、发布含有下列内容的不良信息资料：</span><span style=\"font-family: '微软雅黑'\">标题严重夸张，发表内容与标题严重不符的；不当评述自然灾害、重大事故等灾难的；煽动人群歧视、地域歧视等的；宣扬低俗、庸俗、媚俗内容的；违反社会公德行为的；侵犯未成年人合法权益的；其他对网络生态造成不良影响的内容。</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">2、本协议依据国家相关法律法规规章制定，您亦同意严格遵守以下义务：</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">（1）从中国大陆向境外传输资料信息时必须符合中国有关法规；</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">（2）不得利用本网站从事洗钱、窃取商业秘密、窃取个人信息等违法犯罪活动；（3</span><span style=\"font-family: '微软雅黑'\">）不得干扰本网站的正常运转，不得侵入本网站及国家计算机信息系统； </span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">（4）不得传输或发表任何违法犯罪的、骚扰性的、中伤他人的、辱骂性的、恐吓性的、伤害性的、庸俗的、不文明的等信息资料；</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">（5）不得教唆他人从事违法违规或本协议、平台规则所禁止的行为； </span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">（6）不得利用在本网站注册的账户进行牟利性经营活动；</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">（7）不得发布任何侵犯他人个人信息、著作权、商标权等知识产权或合法权利的内容；</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">3、您须对自己在网上的言论和行为承担法律责任，您若在本网站上散布和传播反动、色情或其它违反国家法律的信息，本网站的系统记录有可能作为您违反法律的证据。</span>\n    </p>\n    <p style=\"margin-top: 2.5pt; margin-bottom: 2.5pt; line-height: 20pt; widows: 0; orphans: 0\">\n      <span style=\"font-family: '微软雅黑'; font-size: 12pt; font-weight: bold\">七、本网站使用规范</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">1、关于移动客户端软件的获取与更新：</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">（1）您可以直接从</span><span style=\"font-family: '微软雅黑'\">数字销售</span><span style=\"font-family: '微软雅黑'\">网站上获取</span><span style=\"font-family: '微软雅黑'\">数字销售</span><span style=\"font-family: '微软雅黑'\">移动客户端软件，也可以从得到</span><span style=\"font-family: '微软雅黑'\">数字销售</span><span style=\"font-family: '微软雅黑'\">授权的第三方获取，如果您从未经</span><span style=\"font-family: '微软雅黑'\">数字销售</span><span style=\"font-family: '微软雅黑'\">授权的第三方获取软件或与</span><span style=\"font-family: '微软雅黑'\">数字销售</span><span style=\"font-family: '微软雅黑'\">移动客户端软件名称相同的安装程序，</span><span style=\"font-family: '微软雅黑'\">数字销售</span><span style=\"font-family: '微软雅黑'\">无法保证该软件能够正常使用，并对因此给您造成的损失不予负责；</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">（2）为了改善用户体验、完善服务内容，</span><span style=\"font-family: '微软雅黑'\">数字销售</span><span style=\"font-family: '微软雅黑'\">将不断努力开发新的服务，并为您不时提供软件更新，新版本发布后，旧版本的软件可能无法使用，</span><span style=\"font-family: '微软雅黑'\">数字销售</span><span style=\"font-family: '微软雅黑'\">不保证旧版本软件继续可用及相应的客户服务，请您随时核对并下载最新版本。</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">2、除非法律允许或数字销售书面许可，您使用本网站过程中不得从事下列行为：</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">（1）删除本网站及其副本上关于著作权的信息；</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">（2）对本网站进行反向工程、反向汇编、反向编译，或者以其他方式尝试发现本网站的源代码；</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">（3）对</span><span style=\"font-family: '微软雅黑'\">数字销售</span><span style=\"font-family: '微软雅黑'\">拥有知识产权的内容进行使用、出租、出借、复制、修改、链接、转载、汇编、发表、出版、建立镜像站点等；</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">（4）对本网站或者本网站运行过程中释放到任何终端内存中的数据、网站运行过程中客户端与服务器端的交互数据，以及本网站运行所必需的系统数据，进行复制、修改、增加、删除、挂接运行或创作任何衍生作品，形式包括但不限于使用插件、外挂或非</span><span style=\"font-family: '微软雅黑'\">经</span><span style=\"font-family: '微软雅黑'\">数字</span><span style=\"font-family: '微软雅黑'\">销售</span><span style=\"font-family: '微软雅黑'\">授权的第三方工具/服务接入本网站和相关系统；</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">（5）通过修改或伪造网站运行中的指令、数据，增加、删减、变动网站的功能或运行效果，或者将用于上述用途的软件、方法进行运营或向公众传播，无论这些行为是否为商业目的；</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">（6）通过非</span><span style=\"font-family: '微软雅黑'\">数字销售</span><span style=\"font-family: '微软雅黑'\">开发、授权的第三方软件、插件、外挂、系统，登录或使用本网站及服务，或制作、发布、传播上述工具；</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">（7）自行或者授权他人、第三方软件对本网站及其组件、模块、数据进行干扰。</span>\n    </p>\n    <p style=\"margin-top: 2.5pt; margin-bottom: 2.5pt; line-height: 20pt; widows: 0; orphans: 0\">\n      <span style=\"font-family: '微软雅黑'; font-size: 12pt; font-weight: bold\">八、违约责任</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">1、如果数字销售发现或收到他人举报</span><span style=\"font-family: '微软雅黑'\">投诉您</span><span style=\"font-family: '微软雅黑'\">违反本协议约定或存在任何恶意行为的，数字销售有权不经通知随时对相关内容进行删除、屏蔽，并</span><span style=\"font-family: '微软雅黑'\">视行为</span><span style=\"font-family: '微软雅黑'\">情节对违规</span><span style=\"font-family: '微软雅黑'\">帐号</span><span style=\"font-family: '微软雅黑'\">处以包括但不限于警告、限制或禁止使用部分或全部功能、</span><span style=\"font-family: '微软雅黑'\">帐号</span><span style=\"font-family: '微软雅黑'\">封禁、注销等处罚，并公告处理结果。</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">2、数字销售有权依据合理判断对违反有关法律法规或本协议规定的行为采取适当的法律行动，并依据法律法规保存有关信息向有关部门报告等，您应独自承担由此而产生的一切法律责任。</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">3、您理解并同意，因您违反本协议或相关服务条款的规定，导致或产生第三方主张的任何索赔、要求或损失，您应当独立承担责任；数字销售因此遭受损失的，您也应当一并赔</span><span style=\"font-family: '微软雅黑'\">偿。</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">4、除非另有明确的书面说明,\n        数字销售不对本网站的运营及其包含在本网站上的信息、内容、材料、产品（包括软件）或服务作任何形式的、明示或默示的声明或担保（根据中华人民共和国法律另有规定的以外）。</span>\n    </p>\n    <p style=\"margin-top: 2.5pt; margin-bottom: 2.5pt; line-height: 20pt; widows: 0; orphans: 0\">\n      <span style=\"font-family: '微软雅黑'; font-size: 12pt; font-weight: bold\">九、所有权及知识产权</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">1、</span><span style=\"font-family: '微软雅黑'\">您一旦接受本协议，对于您提供、上传、创作、发布在本网站的文字、评论、图片、照片、视频、音频等任何形式的信息内容（包括但不限于客户评价、客户咨询、各类话题文章等），您免费授予数字销售及其关联公司</span><span style=\"font-family: '微软雅黑'\">至保护</span><span style=\"font-family: '微软雅黑'\">期终止为止、不可撤销的、全球范围的、排他的许可使用著作权（包括并不限于：复制权、发行权、出租权、展览权、表演权、放映权、广播权、信息网络传播权、摄制权、改编权、翻译权、汇编权以及应当由著作权人享有的其他可许可使用的权利）、肖像权、用户ID名称等相关的全部合法权利权益，就XX</span><span style=\"font-family: '微软雅黑'\">具有诉讼主体资格的权利、权益，</span><span style=\"font-family: '微软雅黑'\">数字销售</span><span style=\"font-family: '微软雅黑'\">有权以自身名义对第三方侵权行为取证及提起诉讼。您同意</span><span style=\"font-family: '微软雅黑'\">数字销售</span><span style=\"font-family: '微软雅黑'\">及其关联公司有权存储、使用、复制、修订、编辑、发布、展示、翻译、分发、推广、出版、发行、信息网络</span><span style=\"font-family: '微软雅黑'\">传播您以上</span><span style=\"font-family: '微软雅黑'\">信息内容，有权改编制作派生作品，并以已知或日后开发的形式、媒体或技术将上述信息纳入其它作品内。</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">2</span><span style=\"font-family: '微软雅黑'\">、</span><span style=\"font-family: '微软雅黑'\">数字销售</span><span style=\"font-family: '微软雅黑'\">有权再许可给</span><span style=\"font-family: '微软雅黑'\">其他第三</span><span style=\"font-family: '微软雅黑'\">方第九条第一款的所有权利。</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">3</span><span style=\"font-family: '微软雅黑'\">、您应确保在</span><span style=\"font-family: '微软雅黑'\">数字销售</span><span style=\"font-family: '微软雅黑'\">网站上发表的第九条第一款各类信息内容均</span><span style=\"font-family: '微软雅黑'\">不涉及侵犯第三方肖像、隐私、知识产权或其他合法权益。否则</span><span style=\"font-family: '微软雅黑'\">数字销售</span><span style=\"font-family: '微软雅黑'\">有权随时采取包括但不限于删除、断开链接等措施。</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">4、本协议已经构成《中华人民共和国著作权法》第二十四条（条文序号依照2010年修订版《著作权法》确定）及相关法律规定的著作财产权等权利许可使用的书面协议，其效力</span><span style=\"font-family: '微软雅黑'\">及于您</span><span style=\"font-family: '微软雅黑'\">在本网站上发布的任何受著作权法保护的作品内容，无论该等内容形成于本协议订立</span><span style=\"font-family: '微软雅黑'\">前还是本协议订立后。</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">5、您同意并已充分了解本协议的条款，承诺不将已发表于本网站的信息，以任何形式发布或授权其它主体以任何方式使用（包括但不限于在各类网站、媒体上使用）。</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">6、除法律另有强制性规定外，未经</span><span style=\"font-family: '微软雅黑'\">数字销售</span><span style=\"font-family: '微软雅黑'\">明确的</span><span style=\"font-family: '微软雅黑'\">特别</span><span style=\"font-family: '微软雅黑'\">书面同意,任何单位或个人不得以任何方式非法地全部或部分复制、转载、引用、链接、抓取或以其他方式使用本网站的信息内容，否则，</span><span style=\"font-family: '微软雅黑'\">数字销售</span><span style=\"font-family: '微软雅黑'\">有权追究其法律责任。</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">7、本网站所刊登的资料信息（诸如文字、图表、标识、按钮图标、图像、声音文件片段、数字下载、数据编辑和软件），均是</span><span style=\"font-family: '微软雅黑'\">数字销售</span><span style=\"font-family: '微软雅黑'\">或其内容提供者的财产，受中国和国际版权法的保护。本网站上所有内容的汇编是</span><span style=\"font-family: '微软雅黑'\">数字销售</span><span style=\"font-family: '微软雅黑'\">的排他财产，受中国和国际版权法的保护。本网站上所有软件都是</span><span style=\"font-family: '微软雅黑'\">数字销售</span><span style=\"font-family: '微软雅黑'\">或其关联公司或其软件供应商的财产，受中国和国际版权法的保护。</span>\n    </p>\n    <p style=\"margin-top: 2.5pt; margin-bottom: 2.5pt; line-height: 20pt; widows: 0; orphans: 0\">\n      <span style=\"font-family: '微软雅黑'; font-size: 12pt; font-weight: bold\">十、法律管辖适用及其他</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">1、本协议的订立、执行和解释及争议的解决均应适用中国法律。如双方就本协议内容或其执行发生任何争议，双方应尽力友好协商解决；协商不成时，应向协议签订地有管辖权的人民法院提起诉讼。本协议签订地为杭州\n        。</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">2、如果本协议中任何一条被视为废止、无效或因任何理由不可执行，该条应视为可分的且并不影响任何其余条款的有效性和</span><span style=\"font-family: '微软雅黑'\">可</span><span style=\"font-family: '微软雅黑'\">执行性。</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'\">3、本协议未明示授权的其他权利仍由</span><span style=\"font-family: '微软雅黑'\">数字销售</span><span style=\"font-family: '微软雅黑'\">保留，您在行使这些权利时须另外取得</span><span style=\"font-family: '微软雅黑'\">数字销售</span><span style=\"font-family: '微软雅黑'\">的书面许可。</span><span style=\"font-family: '微软雅黑'\">数字销售</span><span style=\"font-family: '微软雅黑'\">如果未行使前述任何权利，并不构成对该权利的放弃。</span>\n    </p>\n    <p\n      style=\"margin-top: 0; margin-bottom: 0; text-indent: 21pt; text-align: justify; line-height: 20pt; widows: 0; orphans: 0;\n      font-size: 10.5pt\"\n    >\n      <span style=\"font-family: '微软雅黑'; font-weight: bold\">&#xa0;</span>\n    </p>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'PrivacyAgreement'\n}\n</script>\n\n<style scoped lang=\"scss\">\n.template {\n  padding: 50rpx 59rpx;\n}\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-car/pages/privacy-agreement/privacy-agreement.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"appointment-complete\">\n    <view class=\"top\">\n      <view class=\"complete-img\">\n        <image :src=\"completeImg\" class=\"img\" />\n      </view>\n      <view class=\"text1\">预约完成</view>\n      <view class=\"text2\">您的专属顾问会尽快跟您取得联系</view>\n    </view>\n    <view v-if=\"isShowInfo\" class=\"content\">\n      <view class=\"item\">\n        <text class=\"label\">真实姓名</text>\n        <text class=\"value\">{{ dataList.data.driverName }}</text>\n      </view>\n      <view class=\"item\">\n        <text class=\"label\">手机号码</text>\n        <text class=\"value\">{{ dataList.data.mobile }}</text>\n      </view>\n      <view class=\"item\">\n        <text class=\"label\">试驾车型</text>\n        <text class=\"value\">{{ dataList.data.modelName }}</text>\n      </view>\n      <view class=\"item\">\n        <text class=\"label\">试驾门店</text>\n        <text class=\"value\">{{ dataList.data.orgName }}</text>\n      </view>\n      <view class=\"item\">\n        <text class=\"label\">试驾时间</text>\n        <text class=\"value\">{{ formatDate(dataList.data.reservationTime, 'YYYY年MM月DD日') }}</text>\n      </view>\n    </view>\n    <view class=\"foot\">\n      <view class=\"btn-group\">\n        <view class=\"btn\" @click=\"goSetting\">配置爱车</view>\n        <view class=\"btn white\" @click=\"toBackIndex\">返回首页</view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script lang=\"ts\" setup name=\"AppointmentComplete\">\nimport { inject, Ref, ref, reactive } from 'vue'\nimport { getDetail } from '@api/car'\nimport { formatDate } from '@util/date-time'\nimport { onLoad, onShow } from '@dcloudio/uni-app'\n\nconst gdp = inject('$gdp') as GeneratorDynamicPicFunc<string | string[]>\n/**\n * 页面主图片\n */\nconst completeImg = gdp('completeImg.png')\nconst id: Ref<number | string | undefined> = ref(-1)\nconst dataList = reactive({\n  data: {} as TestDrive.TestDriveDetail\n})\n\nonLoad((Option) => {\n  id.value = Option && Option.id\n})\nonShow(() => {\n  getDetailList()\n})\n\nfunction toBackIndex() {\n  uni.switchTab({\n    url: '/pages/car/car'\n  })\n}\nfunction goSetting() {\n  uni.redirectTo({\n    url: '/package-car/pages/select-vehicle/index'\n  })\n}\n/**\n * 判断是否需要展示详细信息的标识\n */\nconst isShowInfo = ref(true)\nasync function getDetailList() {\n  if (!uni.getStorageSync('token')) {\n    uni.navigateTo({\n      url: '/pages/login/index'\n    })\n    return\n  }\n  try {\n    const resData = await getDetail(id.value)\n    dataList.data = resData\n  } catch {\n    /**\n     * 无权访问时不展示详细信息\n     */\n    isShowInfo.value = false\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.appointment-complete {\n  padding: 0 93rpx;\n  text-align: center;\n  overflow: hidden;\n  font-family: SourceHanSansSC-Medium, SourceHanSansSC;\n\n  .top {\n    margin-top: 70rpx;\n\n    .complete-img {\n      .img {\n        width: 164rpx;\n        height: 164rpx;\n      }\n    }\n\n    .text1 {\n      margin-top: 38rpx;\n      color: #292c2e;\n      font-size: 56rpx;\n    }\n\n    .text2 {\n      margin-top: 8rpx;\n      font-size: 28rpx;\n      color: #999;\n    }\n  }\n\n  .content {\n    margin-top: 157rpx;\n    text-align: left;\n    margin-left: 58rpx;\n\n    .item {\n      line-height: 50rpx;\n      font-size: 28rpx;\n\n      .label {\n        color: #92969a;\n      }\n\n      .value {\n        margin-left: 22rpx;\n        color: #292c2e;\n      }\n    }\n  }\n\n  .foot {\n    margin-top: 104rpx;\n    margin-bottom: 230rpx;\n\n    .btn-group {\n      .btn {\n        height: 96rpx;\n        background: #1a1a1a;\n        color: #fff;\n        font-size: 30rpx;\n        text-align: center;\n        padding: 23rpx 0;\n        border: 1px solid #92969a;\n      }\n\n      .white {\n        margin-top: 36rpx;\n        background: #fff;\n        color: #292c2e;\n      }\n    }\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-car/pages/appointment-complete/index.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"select-vehicle\">\n    <view id=\"tab\" class=\"sp-header-tabs\">\n      <sp-tabs id=\"tab\" underline car-list-header fixed :menus=\"tabs\" :active-tab=\"activeTab\" @on-click=\"handleTabChange\" />\n    </view>\n    <!-- 占位元素 -->\n    <view class=\"placeholder-label\" />\n    <view :class=\"['inner-box', activeTab === 1 ? 'padding-bottom' : '']\">\n      <!-- 车系 -->\n      <template v-if=\"activeTab === 0\">\n        <car-series\n          v-for=\"(seriesItem, index) in seriesList.data\"\n          :key=\"seriesItem.id\"\n          :series-data=\"seriesItem\"\n          :index=\"index\"\n          :series-id=\"series.data.id\"\n          @select-series=\"toSelectSeries(seriesItem)\"\n        />\n      </template>\n\n      <!-- 车型 -->\n      <template v-if=\"activeTab === 1\">\n        <car-model\n          v-for=\"modelItem in modelList.data\"\n          :key=\"modelItem.id\"\n          :model-item=\"modelItem\"\n          :model-id=\"model.data.id\"\n          @select-model=\"toSelectModel(modelItem)\"\n          @clear-model=\"toClearModel\"\n        />\n      </template>\n    </view>\n    <view v-if=\"activeTab === 1\" class=\"btn-box\">\n      <view class=\"setting-btn\" :style=\"{ background: model.data?.id ? '#1a1a1a' : '#BABABA' }\" @click=\"goSetting\">前往个性化配置</view>\n    </view>\n  </view>\n</template>\n\n<script lang=\"ts\" setup name=\"SelectVehicle\">\nimport carSeries from '../../components/car-series/car-series.vue'\nimport carModel from '../../components/car-model/car-model.vue'\nimport { getCarSeries } from '@api/car'\nimport { computed, ref, reactive } from 'vue'\nimport { throttle } from '@src/lib/lodash'\nimport { useCarStore } from '@src/pinia/car'\nimport { onShow, onHide } from '@dcloudio/uni-app'\ninterface ResItem {\n  attrs: {\n    [key: string]: any\n  }\n  groupedCustomAttributes: any[]\n}\nconst carStore = useCarStore()\nconst vehicle = computed(() => carStore.vehicle)\nconst modelActive = computed(() => carStore.modelActive)\n/**\n * 选中的tab\n */\nlet activeTab = ref(-1)\nactiveTab.value = modelActive.value\nconst handleTabChange = (menuVal: number) => {\n  if (menuVal === 1) {\n    if (!series.data) {\n      uni.showToast({\n        title: '请选择车系',\n        icon: 'none',\n        duration: 1000\n      })\n      return\n    }\n  }\n  activeTab.value = menuVal\n  carStore.setModelActive(menuVal)\n}\nlet seriesList = reactive({\n  data: [] as Car.Series[]\n})\nlet modelList = reactive({\n  data: [] as Car.Model[]\n})\nlet series = reactive({\n  data: {} as Car.Series\n})\nlet model = reactive({\n  data: {} as Car.Model\n})\n\n/**\n * 获取车系列表\n */\nconst getCarSeriesList = async () => {\n  uni.showLoading({\n    title: '加载中'\n  })\n  const resData = await getCarSeries()\n  resData.forEach((item: ResItem) => {\n    item.attrs = {}\n    let groupedCustomAttributes = item.groupedCustomAttributes || []\n    groupedCustomAttributes.forEach((attr: any) => {\n      item.attrs[attr.attrKey] = carStore.handleData(attr)\n    })\n  })\n  seriesList.data = resData\n  if (series.data) {\n    getModelList(series.data.id)\n  } else {\n    toSelectSeries(resData[0])\n    toSelectModel(modelList.data[0])\n  }\n  uni.hideLoading()\n}\n/**\n * 选中车系\n */\nconst toSelectSeries = (seriesObj: Car.Series) => {\n  if (seriesObj && series.data?.id === seriesObj.id) {\n    activeTab.value = 1\n    carStore.setModelActive(1)\n    return\n  }\n  series.data = seriesObj\n  toClearModel()\n  setVehicle()\n  getModelList(series.data.id)\n  activeTab.value = 1\n  carStore.setModelActive(1)\n}\n/**\n * 清空model.data\n */\nconst toClearModel = () => {\n  model.data = {} as Car.Model\n}\n/**\n * 选中车型\n */\nconst toSelectModel = (modelObj: Car.Model) => {\n  if (modelObj && model.data?.id === modelObj.id) {\n    return\n  }\n  model.data = modelObj\n  setVehicle()\n}\n/**\n * 获取车型列表\n */\nconst getModelList = (id: string) => {\n  let dataList = seriesList.data.find((item: any) => item.id === id)?.vehicles\n  dataList?.forEach((i: any) => {\n    i.attrs = {}\n    const groupedCustomAttributes = i.groupedCustomAttributes || []\n    groupedCustomAttributes.forEach((attr: Car.GroupedCustomAttribute) => {\n      if (attr.attrKey === 'desc') {\n        i.attrs[attr.attrKey] = attr.attrVal.split('\\\\n')\n      } else {\n        i.attrs[attr.attrKey] = carStore.handleData(attr)\n      }\n    })\n  })\n  modelList.data = dataList || []\n}\nconst setVehicle = () => {\n  carStore.setVehicle({\n    series: series.data,\n    model: model.data,\n    outColor: null,\n    outPainting: null,\n    rim: null,\n    innerColor: null,\n    innerMaterial: null,\n    packages: [],\n    carPoster: '',\n    skuData: null\n  })\n}\nconst goSetting = () => {\n  if (!model.data.itemId) {\n    uni.showToast({\n      title: '请选择车型',\n      icon: 'none',\n      duration: 1000\n    })\n    return\n  }\n  uni.navigateTo({\n    url: `/package-car/pages/vehicle-setting/index?itemId=${vehicle.value.model.itemId}`\n  })\n}\n// #ifdef H5\nconst resize = throttle(\n  () => {\n    const $header = document.getElementsByClassName('uni-page-head')[0] as HTMLElement\n    const top = $header.offsetHeight + $header.offsetTop\n    ;(document.getElementById('tab') as HTMLElement).style.top = `${top}px`\n  },\n  300,\n  {\n    trailing: false\n  }\n)\n// #endif\nconst tabs = reactive([\n  { name: '车系', value: 0 },\n  { name: '车型', value: 1 }\n])\nonShow(() => {\n  // #ifdef H5\n  window.addEventListener('resize', resize, false)\n  // #endif\n  getCarSeriesList()\n  series.data = vehicle.value.series\n  if (!vehicle.value.model && series.data) {\n    getModelList(series.data.id)\n  } else {\n    model.data = vehicle.value.model\n  }\n  activeTab.value = modelActive.value\n})\n// #ifdef H5\nonHide(() => {\n  window.removeEventListener('resize', resize)\n})\n// #endif\n</script>\n\n<style lang=\"scss\" scoped>\n.select-vehicle {\n  width: 100%;\n\n  .sp-header-tabs {\n    position: fixed;\n    top: var(--window-top);\n    width: 100%;\n    background: #fff;\n    height: 110rpx;\n    font-size: 28rpx;\n    z-index: 999;\n  }\n\n  .placeholder-label {\n    width: 100%;\n    height: 110rpx;\n  }\n\n  .inner-box {\n    padding: 0 32rpx env(safe-area-inset-bottom);\n  }\n\n  .padding-bottom {\n    padding-bottom: calc(130rpx + env(safe-area-inset-bottom));\n  }\n\n  .btn-box {\n    width: 100%;\n    position: fixed;\n    bottom: 0;\n    border-top: 1rpx solid #e4e7ea;\n    padding: 18rpx 0 calc(18rpx + env(safe-area-inset-bottom));\n  }\n\n  .setting-btn {\n    width: 526rpx;\n    height: 84rpx;\n    line-height: 84rpx;\n    margin: 0 auto;\n    text-align: center;\n    color: #fff;\n    font-size: 28rpx;\n    border-radius: 1rpx;\n    background: #1a1a1a;\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-car/pages/select-vehicle/index.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"series-detail\" :style=\"activeTab === 1 ? 'background-color: #F2F3F3;height: 100vh;' : ''\">\n    <view id=\"tab\" class=\"sp-header-tabs\">\n      <sp-tabs underline :menus=\"tabs\" :active-tab=\"activeTab\" @on-click=\"handleTabChange\" />\n    </view>\n    <!-- 占位元素 -->\n    <view class=\"placeholder-label\" />\n    <view :class=\"['content', activeTab === 0 ? 'rich-text-content' : '']\">\n      <rich-text v-if=\"activeTab === 0\" class=\"rich-text-box\" :nodes=\"carDetail\" />\n      <sp-product-assess-list v-if=\"activeTab === 1\" ref=\"productAssessList\" :back-category-id=\"backCategoryId\" :is-car-evaluation=\"true\" />\n    </view>\n    <view class=\"footer-box\">\n      <view v-if=\"tempData.attrs.price\" class=\"price\">\n        <text class=\"text1\">￥</text>\n        <text class=\"text2\">{{ formatMoney(tempData.attrs.price, 0, 0) }}</text>\n        <text class=\"text3\">起</text>\n      </view>\n      <view v-else class=\"price price-none\">价格已包含</view>\n      <view class=\"btn\" @click=\"checkSeries\">立即订购</view>\n    </view>\n  </view>\n</template>\n\n<script lang=\"ts\" setup name=\"SeriesDetail\">\nimport { ref, getCurrentInstance, reactive, computed } from 'vue'\nimport { formatMoney } from '@util/money'\nimport { throttle } from '@src/lib/lodash'\nimport parseHtml from '@src/lib/html-parser'\nimport { onLoad, onShow, onHide, onReachBottom } from '@dcloudio/uni-app'\nimport { useCarStore } from '@src/pinia/car'\n\nconst carStore = useCarStore()\nconst instance = getCurrentInstance()\nconst vehicle = computed(() => carStore.vehicle)\nconst tempData = computed(() => carStore.tempData)\nconst carDetail = computed(() => {\n  /**\n   * 各个端的商品详情 （H5、PC、小程序）\n   */\n  let details = JSON.parse(tempData.value.attrs.detail)\n  /**\n   * 过滤出富文本内容\n   */\n  let richText = details?.filter((item: AnyObject) => item.type === 0) || {}\n  return parseHtml(richText?.[0]?.text || '')\n}).value\n/**\n * 评价列表所需参数\n */\nlet backCategoryId = ref('')\n/**\n * 选中的tab\n */\nlet activeTab = ref(0)\nconst handleTabChange = (menuVal: number) => {\n  activeTab.value = menuVal\n}\nconst checkSeries = () => {\n  setVehicleInfo()\n  uni.redirectTo({ url: `/package-car/pages/select-vehicle/index` })\n}\nconst setVehicleInfo = () => {\n  carStore.setModelActive(1)\n  if (!vehicle.value.series || tempData.value.id !== vehicle.value.series.id) {\n    const vehicleData = {\n      series: tempData,\n      model: null,\n      outColor: null,\n      outPainting: null,\n      outPrice: 0,\n      rim: null,\n      rimPrice: 0,\n      innerColor: null,\n      innerMaterial: null,\n      innerPrice: 0,\n      packages: [],\n      carPoster: '',\n      skuData: null\n    }\n    carStore.setVehicle(vehicleData)\n  }\n}\nconst getMoreData = () => {\n  const productAssessList = instance?.refs.productAssessList as { onloadMore: () => void }\n  productAssessList.onloadMore()\n}\n// #ifdef H5\nconst resize = throttle(\n  () => {\n    const $header = document.getElementsByClassName('uni-page-head')[0] as HTMLElement\n    const top = $header.offsetHeight + $header.offsetTop\n    ;(document.getElementById('tab') as HTMLElement).style.top = `${top}px`\n  },\n  300,\n  {\n    trailing: false\n  }\n)\n// #endif\n\nconst tabs = reactive([\n  { name: '详情', value: 0 },\n  { name: '评价', value: 1 }\n])\n\nonLoad((options: AnyObject) => {\n  backCategoryId = options && options.id\n  uni.pageScrollTo({\n    scrollTop: 0\n  })\n})\nonShow(() => {\n  // #ifdef H5\n  window.addEventListener('resize', resize, false)\n  // #endif\n}),\n  // #ifdef H5\n  onHide(() => {\n    window.removeEventListener('resize', resize)\n  }),\n  // #endif\n  onReachBottom(() => {\n    activeTab.value === 1 && getMoreData()\n  })\n</script>\n\n<style lang=\"scss\" scoped>\n.series-detail {\n  .sp-header-tabs {\n    position: fixed;\n    top: var(--window-top);\n    width: 100%;\n    background: #fff;\n    height: 110rpx;\n    font-size: 28rpx;\n    z-index: 999;\n  }\n\n  .placeholder-label {\n    width: 100%;\n    height: 110rpx;\n  }\n\n  .content {\n    padding-bottom: calc(120rpx + env(safe-area-inset-bottom));\n  }\n\n  .rich-text-content {\n    padding: 0 40rpx calc(120rpx + env(safe-area-inset-bottom));\n  }\n\n  .footer-box {\n    width: 100%;\n    position: fixed;\n    bottom: 0;\n    padding: 18rpx 40rpx calc(18rpx + env(safe-area-inset-bottom));\n    display: flex;\n    justify-content: space-between;\n    background: #fff;\n    z-index: 100;\n    border-top: 1rpx solid #e4e7ea;\n\n    .price {\n      height: 84rpx;\n      line-height: 84rpx;\n      font-size: 26rpx;\n\n      &.price-none {\n        color: #92969a;\n      }\n\n      text {\n        color: #4e6175;\n        line-height: 84rpx;\n        vertical-align: middle;\n      }\n\n      .text2 {\n        font-size: 40rpx;\n        font-weight: bolder;\n        margin-right: 4rpx;\n      }\n    }\n\n    .btn {\n      width: 232rpx;\n      height: 84rpx;\n      background: #1a1a1a;\n      border-radius: 1rpx;\n      color: #fff;\n      line-height: 84rpx;\n      text-align: center;\n    }\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-car/pages/series-detail/index.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"vehicle-setting\" @touchend=\"touchend\">\n    <view id=\"tab\" class=\"sp-header-tabs\">\n      <sp-tabs underline car-list-header :menus=\"tabs\" :active-tab=\"active\" @on-click=\"handleTabChange\" />\n    </view>\n    <!-- 占位元素 -->\n    <view class=\"placeholder-label\" />\n    <view class=\"setting-main\" :class=\"{ 'disabled-pull': disabledPull }\">\n      <!-- 外观、轮圈图片 -->\n      <exterior-rim-img v-if=\"active === 0 || active === 1\" :active=\"active\" :out-car-data=\"outCarData\" :set-img-data=\"setImgData\" />\n      <!-- 外饰配置 -->\n      <exterior-setting v-if=\"outColor.data.name\" :active=\"active\" @set-out-data=\"setOutData\" />\n      <!-- 轮圈配置 -->\n      <rim-setting v-if=\"rim.data.name\" :vehicle=\"vehicle\" :active=\"active\" @set-out-data=\"setOutData\" />\n      <!-- 内饰配置 -->\n      <inner-setting v-if=\"skus && innerImgList.data.length !== 0\" :active=\"active\" />\n      <!-- 选装包配置 -->\n      <packages-setting :packages-list=\"packagesList\" :active=\"active\" />\n    </view>\n    <price-btn-bottom ref=\"priceBtnBottom\" :vehicle=\"vehicle\" :btn-text=\"nextBtnText\" @btn-click=\"toNext\" />\n  </view>\n</template>\n<script lang=\"ts\" setup name=\"VehicleSetting\">\nimport { ref, reactive, computed, watch, provide } from 'vue'\nimport { useCarStore } from '@src/pinia/car'\nimport { onLoad, onShow } from '@dcloudio/uni-app'\nimport ExteriorRimImg from './exterior-rim-img.vue'\nimport PriceBtnBottom from '../../components/price-btn-bottom/price-btn-bottom.vue'\nimport ExteriorSetting from './exterior-setting.vue'\nimport RimSetting from './rim-setting.vue'\nimport InnerSetting from './inner-setting.vue'\nimport PackagesSetting from './packages-setting.vue'\nimport useSetting from './setting'\n\nconst carStore = useCarStore()\n// 上个页面传的参数\nconst itemId = ref('')\nconst hideWish = ref(false)\nconst cartWishId = ref('')\nonLoad((options) => {\n  itemId.value = options.itemId || ''\n  hideWish.value = options.hideWish ? JSON.parse(options.hideWish) : false\n  cartWishId.value = options.cartWishId || ''\n  getSku()\n})\n\nonShow(() => {\n  // 从选装包详情页面返回需要重新赋值\n  vehicle.value.skuData && (packages.data = vehicle.value.packages)\n})\n\n/**\n * 定义skus\n */\nconst skus = reactive({\n  data: [] as Car.CarSku[]\n})\n\n/**\n * 获取sku\n */\nconst getSku = async () => {\n  uni.showLoading({\n    title: '加载中'\n  })\n  await initSkus(itemId)\n  getVehicleDeatil()\n  initData()\n  setData()\n  uni.hideLoading()\n}\n\nprovide('useSetting', useSetting())\nconst { innerImgList, vehicle, configActive, active, packagesList, packages, outColor, outCarData, rim, toRequireCheck, setData, initSkus, initData, getVehicleDeatil } =\n  useSetting()\nconst tabList = [\n  { name: '外饰', value: 0 },\n  { name: '轮圈', value: 1 },\n  { name: '内饰', value: 2 },\n  { name: '选装', value: 3 }\n]\nconst nextBtnText = computed(() => (packagesList.data.length ? ['轮圈', '内饰', '选装包', '预览配置'][active.value] : ['轮圈', '内饰', '预览配置'][active.value]))\nconst tabs = computed(() => (packagesList.data.length ? tabList : tabList.slice(0, 3)))\n\nlet car360 = reactive({\n  value: {}\n})\nlet setImgData: { value: string[] } = reactive({\n  value: []\n})\nconst setOutData = (val: Car.CarSku) => {\n  setImgData.value = val ? val.carAssemblerMaterialVO?.imageList.map((img) => img.path) : []\n}\n\n/**\n * 触摸标识\n */\nlet touching = ref(false)\n// 是否是下拉的标识\nlet disabledPull = ref(false)\nconst touchend = () => {\n  touching.value = false\n  disabledPull.value = false\n}\n\nlet startIndex = ref(0)\nlet imgIndex = ref(0)\nwatch(\n  () => car360.value,\n  (newVal: any) => {\n    startIndex.value = Math.floor((28 / 36) * newVal.length) - 1\n    imgIndex.value = startIndex.value\n  },\n  {\n    deep: true,\n    immediate: true\n  }\n)\n\n/**\n * 可切换图片360标识\n */\nconst rotatable = ref(true)\n// 选中的tab\nwatch(\n  () => active.value,\n  (newVal, oldValue?: number) => {\n    if (newVal === 0) {\n      rotatable.value = true\n    }\n  },\n  {\n    deep: true,\n    immediate: true\n  }\n)\n\nwatch(\n  () => configActive.value,\n  (newVal) => {\n    active.value = newVal\n  }\n)\n\n/**\n * 切换tab\n */\nconst handleTabChange = (menuVal: number) => {\n  if (!toRequireCheck(menuVal)) {\n    return\n  }\n  active.value = menuVal\n}\n\n/**\n * 获取子组件\n */\nconst priceBtnBottom: AnyObject = ref(null)\n// 点击按钮进行下一步\nconst toNext = () => {\n  if (!toRequireCheck(active.value + 1)) {\n    return\n  }\n  if ((packagesList.data.length && active.value === 3) || (!packagesList.data.length && active.value === 2)) {\n    carStore.setConfigActive(active.value)\n    const urlStr = `/package-car/pages/preview/index?hideWish=${hideWish.value}&cartWishId=${cartWishId.value}`\n    hideWish.value ? uni.redirectTo({ url: urlStr }) : uni.navigateTo({ url: urlStr })\n    const toPriceBtnBottom = priceBtnBottom.value as { cancelBtn: VoidFn }\n    toPriceBtnBottom.cancelBtn() //调用子组件的方法\n  } else {\n    handleTabChange(active.value + 1)\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.vehicle-setting {\n  // 解决浏览器报错\n  touch-action: none;\n\n  .sp-header-tabs {\n    position: fixed;\n    top: var(--window-top);\n    width: 100%;\n    background: #fff;\n    height: 110rpx;\n    font-size: 28rpx;\n    z-index: 999;\n  }\n\n  .placeholder-label {\n    width: 100%;\n    height: 110rpx;\n  }\n\n  .setting-main {\n    padding-bottom: calc(120rpx + env(safe-area-inset-bottom));\n    overflow-y: scroll;\n\n    &.disabled-pull {\n      overflow: hidden;\n    }\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-car/pages/vehicle-setting/index.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view>\n    <scroll-view scroll-y class=\"content\">\n      <rich-text :nodes=\"detail\" />\n    </scroll-view>\n    <view class=\"bottom border-top-1\">\n      <view v-if=\"tempData.price\" class=\"price\">\n        <text class=\"text1\">￥</text>\n        <text class=\"text2\">{{ formatMoney(tempData.price, 0, 0) }}</text>\n      </view>\n      <view v-else class=\"price price-none\">价格已包含</view>\n      <view class=\"btn\" @click=\"checkSeries\">确认选择</view>\n    </view>\n  </view>\n</template>\n\n<script setup lang=\"ts\" name=\"PackagesDetail\">\nimport { computed } from 'vue'\nimport { formatMoney } from '@util/money'\nimport { useCarStore } from '@src/pinia/car'\nconst carStore = useCarStore()\n\nconst vehicle = computed(() => carStore.vehicle).value\nconst tempData = computed(() => carStore.tempData).value\nconst detail = computed(() => {\n  const details = tempData.detail && JSON.parse(tempData.detail)\n  const richText = details?.filter((item: AnyObject) => item.type === 0) || {}\n  return richText?.[0]?.text || ''\n}).value\nconst checkSeries = () => {\n  setVehicle()\n  setTimeout(() => {\n    uni.navigateBack({\n      delta: 1\n    })\n  })\n}\nconst setVehicle = () => {\n  const packages = JSON.parse(JSON.stringify(vehicle.packages))\n  if (packages.findIndex((pk: Car.Packages) => pk.id === tempData.id) < 0) {\n    packages.push(tempData)\n    carStore.setVehicle({ packages: packages })\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.content {\n  padding-bottom: calc(120rpx + env(safe-area-inset-bottom));\n}\n\n.bottom {\n  width: 100%;\n  position: fixed;\n  bottom: 0;\n  padding: 18rpx 40rpx calc(18rpx + env(safe-area-inset-bottom));\n  display: flex;\n  justify-content: space-between;\n  background: #fff;\n  z-index: 9999;\n\n  .price {\n    height: 84rpx;\n    line-height: 84rpx;\n\n    &.price-none {\n      color: #92969a;\n    }\n\n    text {\n      color: #4e6175;\n      line-height: 84rpx;\n      vertical-align: middle;\n    }\n\n    .text1 {\n      font-size: 26rpx;\n      font-weight: 400;\n    }\n\n    .text2 {\n      font-size: 40rpx;\n      font-weight: bold;\n    }\n  }\n\n  .btn {\n    width: 232rpx;\n    height: 84rpx;\n    background: #1a1a1a;\n    border-radius: 1px;\n    color: #fff;\n    line-height: 84rpx;\n    text-align: center;\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-car/pages/packages-detail/index.vue'\nwx.createPage(MiniProgramPage)","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-car/pages/preview/index.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"car-purchase\">\n    <!-- 提示语 -->\n    <view v-if=\"vehicle.skuData.itemPreSaleVO.salePriceType === 0\" class=\"tip\">注：汽车售价、车型配置、图片等信息可能会与最终量产车型存在差异，请以最终交车信息为准</view>\n    <!-- 基础信息 -->\n    <view class=\"base-info\" @click=\"goPreview\">\n      <image class=\"car-image\" mode=\"aspectFit\" :src=\"vehicle.carPoster\" />\n      <view class=\"car-info\">\n        <view class=\"items-center\">\n          <view class=\"name ellipsis-2\">{{ model.attrs.title }}</view>\n          <image class=\"icon\" mode=\"aspectFit\" />\n        </view>\n        <view class=\"package-item intercept\">\n          {{ outText }}\n        </view>\n        <view class=\"package-item intercept\">{{ vehicle.rim.name || '' }}</view>\n        <view class=\"package-item ellipsis\">...</view>\n      </view>\n    </view>\n    <!-- 预订方式 -->\n    <view class=\"group\">\n      <view class=\"group-title\">预订方式</view>\n      <view\n        v-for=\"type in reserveTypes\"\n        :key=\"type.value\"\n        class=\"reserve-type items-center justify-between\"\n        :class=\"{ active: type.value === reserveType }\"\n        @click=\"toReserveChange(type)\"\n      >\n        <view class=\"reserve-name\">\n          <text>{{ type.text }}</text>\n          <text class=\"desc\">（{{ type.desc }}）</text>\n        </view>\n        <view class=\"reserve-price items-center\">\n          <text class=\"symbal\">￥</text>\n          <text>{{ formatMoney(type.price, 2, 0) }}</text>\n        </view>\n      </view>\n    </view>\n    <!-- 购买信息 -->\n    <buyer-info />\n    <!-- 车主信息 -->\n    <view v-if=\"reserveType === 1\" class=\"group\">\n      <view class=\"group-title\">车主信息</view>\n      <view id=\"carOwner\" class=\"form-item items-center\">\n        <view class=\"label\">姓名</view>\n        <view class=\"form-item-content\">\n          <input v-model.trim=\"carOwner\" class=\"form-item-input\" maxlength=\"20\" placeholder=\"输入车主姓名\" placeholder-class=\"placeholder\" @blur=\"checkName(carOwner)\" />\n        </view>\n      </view>\n      <view class=\"form-item items-center\">\n        <view class=\"label\">证件类型</view>\n        <view class=\"form-item-content items-center justify-between\" @click=\"selectorVisible = true\">\n          <view class=\"select-content ellipsis\" :class=\"{ 'has-value': idType.label }\">{{ idType.label || '选择证件类型' }}</view>\n          <image class=\"icon\" :src=\"bottomIcon\" />\n        </view>\n      </view>\n      <view id=\"idNum\" class=\"form-item items-center\">\n        <view class=\"label\">证件号码</view>\n        <view class=\"form-item-content\">\n          <input v-model.trim=\"idNum\" class=\"form-item-input\" placeholder=\"输入证件号码\" placeholder-class=\"placeholder\" @blur=\"checkIdCard(idNum)\" />\n        </view>\n      </view>\n    </view>\n    <!-- 价格明细 -->\n    <price-info />\n    <!-- 底部支付按钮 -->\n    <view class=\"footer\">\n      <view class=\"agreement flex-row items-center justify-start\" @click=\"checked = !checked\">\n        <sp-checkbox v-model=\"checked\" class=\"checkbox\" size=\"small\" />\n        <text class=\"pre\">已阅读并同意</text>\n        <text v-show=\"reserveType === 1\" class=\"agreement-item\" @click.stop=\"goToPurchaseAgreement\">《汽车购买协议》</text>\n        <text v-show=\"reserveType === 0\" class=\"agreement-item\" @click.stop=\"goToIntent\">《意向通用条款与条件》</text>\n      </view>\n      <view class=\"btn items-center justify-center\" @click=\"toBuy\">\n        支付{{ reserveType === 0 ? '意向金' : '定金' }}\n        <text class=\"symbal\">￥</text>\n        <text class=\"money\">{{ formatMoney(reservePrice, 0, 0) }}</text>\n      </view>\n    </view>\n    <!-- 身份类型选择框弹框 -->\n    <sp-selector v-model=\"selectorVisible\" title=\"证件类型\" :default-value=\"idType\" :arr-props=\"idTypeArr\" @change=\"toIdChange\" />\n  </view>\n</template>\n\n<script lang=\"ts\" setup name=\"Purchase\">\nimport { inject, ref } from 'vue'\nimport { onLoad, onUnload, onBackPress } from '@dcloudio/uni-app'\nimport { formatMoney } from '@util/money'\nimport { useCarStore } from '@src/pinia/car'\nimport { ReserveType, IdType, checkName, checkIdCard } from './util'\nimport usePurchase from './purchase'\nimport BuyerInfo from './buyer-info.vue'\nimport PriceInfo from './price-info.vue'\n\ntype PageOptions = 'cartWishId' | 'skuId' | 'readOnly' | 'hideWish' | 'pkIds'\n\nconst { outText, reservePrice, reserveType, reserveTypes, idTypeArr, idType, model, vehicle, idNum, carOwner, checked, toBuy, toInit, initBuyerInfo } = usePurchase()\n\nconst carStore = useCarStore()\n\n// 图片资源\nconst gdp = inject('$gdp') as GeneratorDynamicPicFunc<string[]>\nconst [bottomIcon] = gdp(['icon-bottom.png'])\n\nonLoad((options: Record<PageOptions, string | undefined>) => {\n  toInit(options)\n})\nonUnload(() => {\n  carStore.setProvider({} as Dealer.Iteminfo)\n})\n\nonBackPress((e) => {\n  initBuyerInfo()\n})\n\nconst selectorVisible = ref(false)\n/**\n * 获取预定方式类型\n */\nfunction toReserveChange(type: ReserveType) {\n  reserveType.value = type.value\n}\n\nfunction toIdChange(val: IdType) {\n  Object.assign(idType, val)\n}\n\n/**\n * 返回预览配置页\n */\nfunction goPreview() {\n  uni.navigateTo({\n    url: `/package-car/pages/preview/index?readOnly=true`\n  })\n}\n\nfunction goToPurchaseAgreement() {\n  uni.navigateTo({\n    url: '/package-car/pages/agreements/purchase-agreement'\n  })\n}\nfunction goToIntent() {\n  uni.navigateTo({\n    url: '/package-car/pages/agreements/intent-and-conditions'\n  })\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.car-purchase {\n  padding-bottom: 210rpx;\n\n  .tip {\n    padding: 21rpx 40rpx;\n    font-size: 26rpx;\n    color: #909ca8;\n    line-height: 34rpx;\n  }\n}\n\n.base-info {\n  position: relative;\n  width: 100%;\n  height: 384rpx;\n  background: #f2f3f3;\n\n  .car-image {\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    width: 566rpx;\n    height: 317rpx;\n  }\n\n  .car-info {\n    position: absolute;\n    top: 30rpx;\n    left: 40rpx;\n\n    .name {\n      color: #4e6175;\n      font-weight: bold;\n      font-size: 42rpx;\n      max-width: 550rpx;\n      margin-bottom: 10rpx;\n      flex: 1;\n    }\n\n    .icon {\n      width: 32rpx;\n      height: 32rpx;\n      flex-basis: 32rpx;\n    }\n\n    .package-item {\n      line-height: 38rpx;\n      color: #92969a;\n      font-size: 26rpx;\n      margin-bottom: 4rpx;\n      max-width: 190rpx;\n    }\n\n    .intercept {\n      overflow: hidden;\n      white-space: nowrap;\n    }\n  }\n}\n\n.group {\n  padding: 72rpx 40rpx 56rpx;\n\n  .group-title {\n    font-size: 36rpx;\n    font-weight: bold;\n    color: #292c2e;\n    margin-bottom: 40rpx;\n  }\n}\n\n.reserve-type {\n  width: 100%;\n  margin-bottom: 24rpx;\n  border: 1rpx solid #dbdcdd;\n  border-radius: 2rpx;\n  padding: 40rpx;\n  color: #292c2e;\n\n  &.active {\n    border: 2rpx solid #4e6175;\n  }\n\n  &:last-of-type {\n    margin-bottom: 0;\n  }\n\n  .reserve-name {\n    .desc {\n      font-size: 26rpx;\n      color: #92969a;\n    }\n  }\n\n  .reserve-price {\n    font-size: 36rpx;\n\n    .symbal {\n      font-size: 26rpx;\n      margin-right: 12rpx;\n    }\n  }\n}\n\n.form-item {\n  height: 112rpx;\n\n  .label {\n    width: 200rpx;\n    font-size: 28rpx;\n    color: #909ca8;\n  }\n\n  .form-item-content {\n    flex: 1;\n    height: 100%;\n    border-bottom: 1rpx solid #e4e7ea;\n\n    .form-item-input {\n      height: 100%;\n      color: #1a1a1a;\n      font-size: 28rpx;\n    }\n\n    .placeholder,\n    .select-content {\n      color: #92969a;\n      font-size: 28rpx;\n    }\n\n    .select-content {\n      flex: 1;\n\n      &.has-value {\n        color: #1a1a1a;\n      }\n    }\n\n    .icon {\n      width: 32rpx;\n      height: 32rpx;\n    }\n  }\n}\n\n.footer {\n  position: fixed;\n  bottom: 0;\n  width: 100%;\n  padding: 40rpx 40rpx calc(env(safe-area-inset-bottom) + 18rpx);\n  background: #fff;\n  border-top: 1rpx solid #e4e7ea;\n  z-index: 10;\n\n  .agreement {\n    font-size: 24rpx;\n    color: #92969a;\n    margin-bottom: 30rpx;\n    padding: 0 10rpx;\n\n    .pre {\n      margin-left: 10rpx;\n    }\n\n    .agreement-item {\n      color: #4e6175;\n    }\n  }\n\n  .btn {\n    width: 100%;\n    height: 85rpx;\n    color: #fff;\n    background: #1a1a1a;\n    border-radius: 1rpx;\n    font-size: 28rpx;\n\n    .symbal {\n      margin-left: 8rpx;\n      font-size: 24rpx;\n    }\n\n    .money {\n      font-weight: 500;\n      font-size: 30rpx;\n    }\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-car/pages/purchase/index.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view>\n    <view class=\"location items-center justify-center\" @click=\"handleCityPicker\">\n      <image class=\"image\" mode=\"scaleToFill\" :src=\"locationImg\" />\n      <text>{{ city }}</text>\n      <image class=\"image\" mode=\"scaleToFill\" :src=\"iconArrowDown\" />\n    </view>\n    <scroll-view class=\"provider\" :refresher-triggered=\"isRefresh\" scroll-y refresher-enabled :lower-threshold=\"100\" @refresherrefresh=\"onRefresh\" @scrolltolower=\"onScrolltolower\">\n      <view class=\"privider-list\">\n        <view v-for=\"item in dealerList\" :key=\"item.code\" class=\"provider-item items-center justify-center\" @click=\"changeCheck(item)\">\n          <view class=\"info flex-col\">\n            <view class=\"title ellipsis\">{{ item.name || '' }}</view>\n            <view class=\"address ellipsis-2\">{{ item.address || '' }}</view>\n            <view v-if=\"item.telephone\" class=\"tel\">联系电话：{{ item.telephone }}</view>\n          </view>\n          <view class=\"check\">\n            <image v-if=\"dealer.code === item.code\" class=\"image\" :src=\"itemCheckImg\" mode=\"scaleToFill\" />\n          </view>\n        </view>\n      </view>\n      <view v-if=\"isEmpty\" class=\"no-data\">附近暂无经销商</view>\n      <view v-if=\"isLastPage\" class=\"no-more\">-没有更多了-</view>\n    </scroll-view>\n    <sp-city-picker v-model=\"cityPickerVisible\" :pick-level=\"2\" @change=\"toCityChange\" />\n  </view>\n</template>\n\n<script lang=\"ts\" setup name=\"SelectProvider\">\nimport { ref, reactive, computed, inject, watch } from 'vue'\nimport { getDealerList } from '@api/car'\nimport { onLoad } from '@dcloudio/uni-app'\nimport { useCarStore } from '@src/pinia/car'\nimport { relogin } from '@src/api/request'\nimport { useLocationStore } from '@src/pinia/location'\nimport { useAppStore } from '@src/pinia/app'\nconst appStore = useAppStore()\nconst carStore = useCarStore()\nconst locationStore = useLocationStore()\n\nconst isLogin = computed(() => appStore.isLogin)\n\nconst gdp = inject('$gdp') as GeneratorDynamicPicFunc<string[]>\nconst [itemCheckImg, locationImg, iconArrowDown] = gdp(['item-check.png', 'icon-location-dark.png', 'icon-arrow-down.png'])\n\nconst isRefresh = ref(false)\n\nconst pageNo = ref(1)\nconst pageSize = ref(10)\n\nconst isEmpty = ref(false)\nconst isLastPage = ref(false)\n\nconst isLoading = ref(false)\n\nconst location = computed(() => locationStore.cityInfo)\n\nconst cityCode = ref('')\nconst city = ref('')\nwatch(\n  () => location.value,\n  (newVal) => {\n    cityCode.value = newVal.cityCode\n    city.value = newVal.city !== '市辖区' ? newVal.city : newVal.province\n    getProvider(true)\n  },\n  {\n    deep: true,\n    immediate: true\n  }\n)\nconst dealer = computed(() => carStore.provider)\n\nconst cityPickerVisible = ref(false)\n\nconst dealerList: Dealer.Iteminfo[] = reactive([])\n\nonLoad(async () => {\n  uni.showLoading({\n    title: '加载中'\n  })\n  try {\n    if (!cityCode.value) {\n      try {\n        await locationStore.getLocation()\n        await locationStore.getCityCode()\n      } catch {}\n    }\n    uni.hideLoading()\n  } catch (error) {\n    uni.hideLoading()\n  }\n})\n\nasync function onRefresh() {\n  pageNo.value = 1\n  isLastPage.value = false\n  isRefresh.value = true\n  await getProvider(true)\n  isRefresh.value = false\n}\n\nfunction onScrolltolower() {\n  if (isLoading.value || isLastPage.value) {\n    return\n  }\n  pageNo.value++\n  getProvider()\n}\n\nfunction toCityChange(val: User.CityInfo[]) {\n  locationStore.$patch({\n    cityInfo: {\n      province: val[0].name,\n      cityCode: val[1].code,\n      city: val[1].name\n    }\n  })\n  pageNo.value = 1\n  isLastPage.value = false\n}\n\n/**\n * 获取供应商数据\n * @param refresh\n */\nasync function getProvider(refresh?: boolean) {\n  isLoading.value = true\n  try {\n    const dealerData = await getDealerList({\n      cityCode: cityCode.value || '330100',\n      pageNo: pageNo.value,\n      pageSize: pageSize.value\n    })\n    isLoading.value = false\n    const { total, data = [] } = dealerData\n    isEmpty.value = !total\n    // 刷新先清空数据\n    if (refresh) {\n      dealerList.splice(0, dealerList.length)\n    }\n    const dealers = dealerData.data.map((item) => {\n      return {\n        id: item.id,\n        code: item.code,\n        name: item.name,\n        address: item.details,\n        image: item.image,\n        telephone: item.telephone\n      }\n    })\n\n    // 添加数据\n    dealerList.push(...dealers)\n\n    /**\n     * 判断数据是否已全部加载完成\n     */\n    if (total <= pageNo.value * pageSize.value || data.length < pageSize.value) {\n      isLastPage.value = true\n    }\n  } catch (error) {\n    isLoading.value = false\n  }\n}\n\nfunction handleCityPicker() {\n  if (!isLogin.value) {\n    relogin()\n    return\n  }\n  cityPickerVisible.value = true\n}\n\nfunction changeCheck(item: Dealer.Iteminfo) {\n  carStore.setProvider(item)\n  uni.navigateBack({ delta: 1 })\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.location {\n  height: 88rpx;\n  background: #f2f3f3;\n\n  .image {\n    width: 32rpx;\n    height: 32rpx;\n\n    &:last-of-type {\n      margin-left: 14rpx;\n    }\n  }\n}\n\n.provider {\n  height: calc(100vh - 88rpx - env(safe-area-inset-bottom) - var(--window-top));\n}\n\n.privider-list {\n  padding: 0 40rpx;\n}\n\n.provider-item {\n  width: 100%;\n  height: 212rpx;\n  border-bottom: 1rpx solid #e4e7ea;\n\n  .info {\n    flex: 1;\n    overflow: hidden;\n\n    .title {\n      font-size: 32rpx;\n      color: #292c2e;\n      line-height: 47rpx;\n    }\n\n    .address {\n      font-size: 24rpx;\n      color: #909ca8;\n      line-height: 36rpx;\n      margin-bottom: 14rpx;\n    }\n\n    .tel {\n      font-size: 26rpx;\n      color: #909ca8;\n      line-height: 38rpx;\n    }\n  }\n\n  .check {\n    flex-basis: 48rpx;\n\n    .image {\n      width: 48rpx;\n      height: 48rpx;\n    }\n  }\n}\n\n.no-data {\n  padding: 75rpx 40rpx 124rpx;\n  text-align: center;\n  font-size: 26rpx;\n  color: #909ca8;\n}\n\n.no-more {\n  text-align: center;\n  font-size: 26rpx;\n  color: #909ca8;\n  padding: 40rpx;\n}\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-car/pages/select-provider/index.vue'\nwx.createPage(MiniProgramPage)","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-car/pages/agreements/intent-and-conditions.vue'\nwx.createPage(MiniProgramPage)","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-car/pages/agreements/purchase-agreement.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"switch-tenants\">\n    <view class=\"page-title\">\n      当前租户\n      <!-- 最多展示12个字 -->\n      <view class=\"tenants-name ellipsis\">{{ selectedTenantName }}</view>\n    </view>\n    <!-- 列表 -->\n    <view class=\"tenants-list-box\">\n      <template v-for=\"(tenant, index) in tenantList.data\" :key=\"index\">\n        <view :class=\"['list-item', selectedTenant.data.tenantId === tenant.tenantId ? 'selected-item' : '']\" @click=\"toSelectedTenantFn(tenant)\">\n          <view class=\"logo-box\"><image class=\"tenant-logo\" :src=\"tenant.iconUrl\" mode=\"aspectFit\" /></view>\n          <view class=\"tenant-name ellipsis-2\">{{ tenant.tenantName }}</view>\n        </view>\n      </template>\n    </view>\n    <view class=\"footer-box\">\n      <view class=\"btn\" @click=\"changeTenant\">切换</view>\n    </view>\n  </view>\n</template>\n\n<script lang=\"ts\" setup name=\"SwitchTenants\">\nimport { ref, reactive } from 'vue'\nimport { getTpmTenantList } from '@api/user'\nimport { onLoad } from '@dcloudio/uni-app'\nimport { useAppStore } from '@src/pinia/app'\nconst appStore = useAppStore()\n\ninterface TenantData {\n  iconUrl: null | string\n  tenantId: string\n  tenantName: string\n}\nonLoad(() => {\n  const currentTenant = uni.getStorageSync('currentTenant')\n  selectedTenantName.value = currentTenant.tenantName\n  selectedTenant.data.tenantId = currentTenant.tenantId\n  toTpmTenantList()\n})\nlet tenantList = reactive({\n  data: [] as TenantData[]\n})\n/**\n * 当前租户名称\n */\nlet selectedTenantName = ref('')\n/**\n * 获取多租户列表\n */\nconst toTpmTenantList = async () => {\n  try {\n    tenantList.data = (await getTpmTenantList()) as Array<TenantData>\n  } catch {}\n}\nlet selectedTenant = reactive({\n  data: {} as TenantData\n})\nconst toSelectedTenantFn = (tenant: TenantData) => {\n  selectedTenant.data = tenant\n}\nconst changeTenant = () => {\n  /**\n   * 切换租户需要清空token,将登陆状态置为false\n   */\n  uni.removeStorageSync('token')\n  uni.setStorageSync('isLogin', false)\n  appStore.setLoginStatus(false)\n  !selectedTenant.data.tenantName &&\n    tenantList.data.forEach((tenant) => {\n      tenant.tenantId === selectedTenant.data.tenantId && (selectedTenant.data = tenant)\n    })\n\n  /**\n   * 将当前租户的信息\n   */\n  uni.setStorageSync('currentTenant', selectedTenant.data)\n  uni.navigateBack({\n    delta: 1\n  })\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.page-title {\n  position: fixed;\n  top: var(--window-top);\n  left: 0;\n  width: 100%;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  height: 110rpx;\n  color: #92969a;\n  font-size: 28rpx;\n  padding: 0 40rpx;\n  border-top: 1rpx solid #e4e7ea;\n  border-bottom: 1rpx solid #e4e7ea;\n  background: #fff;\n\n  .tenants-name {\n    max-width: 389rpx;\n    font-size: 30rpx;\n    color: #292c2e;\n    margin-left: 14rpx;\n    font-weight: bolder;\n  }\n}\n\n.tenants-list-box {\n  padding: 150rpx 40rpx calc(120rpx + env(safe-area-inset-bottom));\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: space-between;\n\n  .list-item {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 48%;\n    height: 400rpx;\n    background: #fff;\n    box-shadow: 0 15rpx 33rpx 0 rgb(111 111 111 / 17%);\n    border-radius: 2rpx;\n    margin-bottom: 30rpx;\n    padding: 0 28rpx;\n    font-size: 26rpx;\n    border: 2rpx solid transparent;\n\n    .logo-box {\n      width: 130rpx;\n      height: 130rpx;\n      border-radius: 50%;\n      border: 1rpx solid rgb(146 150 154 / 75%);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      margin-top: 60rpx;\n\n      .tenant-logo {\n        width: 89rpx;\n        height: 89rpx;\n      }\n    }\n\n    .tenant-name {\n      color: #292c2e;\n      font-size: 26rpx;\n      margin-top: 40rpx;\n    }\n  }\n\n  .selected-item {\n    border-radius: 2rpx;\n    border: 2rpx solid #1a1a1a;\n  }\n}\n\n.footer-box {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  background-color: #fff;\n  border-top: 1rpx solid #e4e7ea;\n  padding: 18rpx 40rpx calc(18rpx + env(safe-area-inset-bottom));\n\n  .btn {\n    height: 84rpx;\n    line-height: 84rpx;\n    text-align: center;\n    background: #1a1a1a;\n    color: #fff;\n    border-radius: 1rpx;\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-car/pages/switch-tenants/index.vue'\nwx.createPage(MiniProgramPage)"],"wx":{"version":1,"userVersion":"1.0.6","userNotes":"上传包含sourcemap版本6","packageVersion":"c789b8fb14f469c95aec7847033ac4b1"}}