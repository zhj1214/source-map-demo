{"version":3,"file":"","sourceRoot":"","sources":["../../../../../../src/package-community/pages/audit-rejection/index.ts","../../../../../../src/package-community/pages/news-detail/news-detail.vue","../../../../../../uniPage:/cGFja2FnZS1jb21tdW5pdHkvcGFnZXMvbmV3cy1kZXRhaWwvbmV3cy1kZXRhaWwudnVl","../../../../../../src/package-community/pages/group-home/group-home.vue","../../../../../../uniPage:/cGFja2FnZS1jb21tdW5pdHkvcGFnZXMvZ3JvdXAtaG9tZS9ncm91cC1ob21lLnZ1ZQ","../../../../../../src/package-community/pages/group-members/group-members.vue","../../../../../../uniPage:/cGFja2FnZS1jb21tdW5pdHkvcGFnZXMvZ3JvdXAtbWVtYmVycy9ncm91cC1tZW1iZXJzLnZ1ZQ","../../../../../../src/package-community/pages/group-members-search/group-members-search.vue","../../../../../../uniPage:/cGFja2FnZS1jb21tdW5pdHkvcGFnZXMvZ3JvdXAtbWVtYmVycy1zZWFyY2gvZ3JvdXAtbWVtYmVycy1zZWFyY2gudnVl","../../../../../../src/package-community/pages/all-group/all-group.vue","../../../../../../uniPage:/cGFja2FnZS1jb21tdW5pdHkvcGFnZXMvYWxsLWdyb3VwL2FsbC1ncm91cC52dWU","../../../../../../src/package-community/pages/all-topic/all-topic.vue","../../../../../../uniPage:/cGFja2FnZS1jb21tdW5pdHkvcGFnZXMvYWxsLXRvcGljL2FsbC10b3BpYy52dWU","../../../../../../src/package-community/pages/content-detail/content-detail.vue","../../../../../../uniPage:/cGFja2FnZS1jb21tdW5pdHkvcGFnZXMvY29udGVudC1kZXRhaWwvY29udGVudC1kZXRhaWwudnVl","../../../../../../uniPage:/cGFja2FnZS1jb21tdW5pdHkvcGFnZXMvdXNlci1ob21lL3VzZXItaG9tZS52dWU","../../../../../../src/package-community/pages/user-list/user-list.vue","../../../../../../uniPage:/cGFja2FnZS1jb21tdW5pdHkvcGFnZXMvdXNlci1saXN0L3VzZXItbGlzdC52dWU","../../../../../../src/package-community/pages/user-groups/user-groups.vue","../../../../../../uniPage:/cGFja2FnZS1jb21tdW5pdHkvcGFnZXMvdXNlci1ncm91cHMvdXNlci1ncm91cHMudnVl","../../../../../../uniPage:/cGFja2FnZS1jb21tdW5pdHkvcGFnZXMvdG9waWMtaG9tZS90b3BpYy1ob21lLnZ1ZQ","../../../../../../src/package-community/pages/my-content-list/my-content-list.vue","../../../../../../uniPage:/cGFja2FnZS1jb21tdW5pdHkvcGFnZXMvbXktY29udGVudC1saXN0L215LWNvbnRlbnQtbGlzdC52dWU","../../../../../../src/package-community/pages/group-manage/group-manage.vue","../../../../../../uniPage:/cGFja2FnZS1jb21tdW5pdHkvcGFnZXMvZ3JvdXAtbWFuYWdlL2dyb3VwLW1hbmFnZS52dWU","../../../../../../src/package-community/pages/group-record/group-record.vue","../../../../../../uniPage:/cGFja2FnZS1jb21tdW5pdHkvcGFnZXMvZ3JvdXAtcmVjb3JkL2dyb3VwLXJlY29yZC52dWU","../../../../../../src/package-community/pages/my-follow/my-follow.vue","../../../../../../uniPage:/cGFja2FnZS1jb21tdW5pdHkvcGFnZXMvbXktZm9sbG93L215LWZvbGxvdy52dWU","../../../../../../src/package-community/pages/content-launch/content-launch.vue","../../../../../../uniPage:/cGFja2FnZS1jb21tdW5pdHkvcGFnZXMvY29udGVudC1sYXVuY2gvY29udGVudC1sYXVuY2gudnVl","../../../../../../src/package-community/pages/choose-topic/choose-topic.vue","../../../../../../uniPage:/cGFja2FnZS1jb21tdW5pdHkvcGFnZXMvY2hvb3NlLXRvcGljL2Nob29zZS10b3BpYy52dWU","../../../../../../src/package-community/pages/choose-location/choose-location.vue","../../../../../../uniPage:/cGFja2FnZS1jb21tdW5pdHkvcGFnZXMvY2hvb3NlLWxvY2F0aW9uL2Nob29zZS1sb2NhdGlvbi52dWU","../../../../../../src/package-community/pages/audit-rejection/audit-rejection.vue","../../../../../../uniPage:/cGFja2FnZS1jb21tdW5pdHkvcGFnZXMvYXVkaXQtcmVqZWN0aW9uL2F1ZGl0LXJlamVjdGlvbi52dWU","../../../../../../src/package-community/pages/group-user/group-user.vue","../../../../../../uniPage:/cGFja2FnZS1jb21tdW5pdHkvcGFnZXMvZ3JvdXAtdXNlci9ncm91cC11c2VyLnZ1ZQ","../../../../../../src/package-community/pages/keywords-search-criteria/keywords-search-criteria.vue","../../../../../../uniPage:/cGFja2FnZS1jb21tdW5pdHkvcGFnZXMva2V5d29yZHMtc2VhcmNoLWNyaXRlcmlhL2tleXdvcmRzLXNlYXJjaC1jcml0ZXJpYS52dWU","../../../../../../src/package-community/pages/keywords-search-result/keywords-search-result.vue","../../../../../../uniPage:/cGFja2FnZS1jb21tdW5pdHkvcGFnZXMva2V5d29yZHMtc2VhcmNoLXJlc3VsdC9rZXl3b3Jkcy1zZWFyY2gtcmVzdWx0LnZ1ZQ","../../../../../../src/package-community/pages/manage-record/manage-record.vue","../../../../../../uniPage:/cGFja2FnZS1jb21tdW5pdHkvcGFnZXMvbWFuYWdlLXJlY29yZC9tYW5hZ2UtcmVjb3JkLnZ1ZQ","../../../../../../src/package-community/pages/web-view/index.vue","../../../../../../uniPage:/cGFja2FnZS1jb21tdW5pdHkvcGFnZXMvd2ViLXZpZXcvaW5kZXgudnVl"],"names":["defineComponent","name","setup","auditRejectionIcon","inject","gdp","id","ref","type","reason","reactive","remark","createTime","getReason","async","value","getContentsReject","getCommentsReject","onLoad","params","this","newsId","pageTitle","firstVideoPoster","isLeave","_sfc_main","locationIcon","eyeIcon","newsDetail","title","author","labelName","addressDetail","contentType","pictures","lifeImg","readNum","readAdjustNum","originalContent","publishTime","tagList","getDetail","detail","getNewsDetail","nodes","computed","parser","parseHtml","readingCount","split","recommendData","getRecommendData","data","getRecommendIDLists","contentId","algorithm","backup","pageNo","pageSize","res","getRecommendLists","ids","map","i","toString","push","contentIds","getReadingQuantity","join","forEach","getReadNum","firstVideoSrc","componentList","videoSrc","length","contentDetail","children","videoNode","find","v","attrs","poster","src","readingNum","num","toFixed","handleNewsRead","toNewsRead","onMounted","handleRichTextClick","e","href","nodesValue","_a","_b","_c","_d","uni","index","navigateTo","url","encodeURIComponent","gotoDetail","news","option","setNavigationBarTitle","decodeURI","onShow","onHide","wx","createPage","MiniProgramPage","groupId","introWrap","toBackTo","navigateBack","delta","toMemberList","components","contentCard","pageHeader","approvalDialog","userStore","useUserStore","appStore","useAppStore","isTransparent","addIcon","iconRight","addBlackIcon","defaultAvatar","isLogin","computed$1","userId","groupInfo","groupName","logoUrl","contentCount","peopleCount","wallpaperUrl","introduction","groupLeader","accountId","accountName","follow","avatarUrl","accountNamePinyin","first","approval","approvalWay","memberList","getGroupDetail","getMemberList","orderBy","members","pureAssign","status","getGroupFollowStatus","groupIds","splice","isEnd","isRefresh","contentList","getContentList","getHotContentList","like","item","getMultiVote","idList","key","o","checked","vote","getVote","total","popupDialog","closePopup","close","toAddContent","relogin","onScrolltolower","onRefresh","onScroll","scrollTop","getUserInfo","user","updateFollow","authorId","goToManage","toFollowGroupHandler","toFollowGroup","showToast","error","console","log","open","toSubmitForm","trim","checkSubmitApproval","applyReason","duration","icon","beforeUnmount","removeStorage","toSearchPage","toUserHome","common_vendor","options","searchIcon","defaultAvatarIcon","groupMembers","leader","getMembers","memberTotal","slice","test","handleFollow","toFollowUser","followAccountId","handleUnFollow","showModal","content","confirmColor","success","confirm","toUnfollowUser","userList","keyword","noResult","userListData","getGroupMember","onFocus","AllGroupList","topicLists","getTopics","getTopicsList","onPullDownRefresh","onReachBottom","detailId","thumbUpIcon","thumbUpActiveIcon","commentIcon","rightIcon","detailObj","info","commentList","getComments","getCommentList","showPop","isShowTextArea","comment","isTureContent","placeholder","pid","editorCtx","editorHtml","levelFlag","toDealEditHtml","flag","checkResults","str","replace","RegExp","contexts","context","nextTick","setContents","html","blur","toShowModal","toSubmitCommentHandler","commentContent","toSubmitComment","commentCount","getContentDetail","getSingleVote","getCommentDetail","commenterName","commenterAvatar","likeCount","dataObj","authorName","authorAvatar","releaseTime","handleLikeOrUnLike","toContentUnlike","setContentLike","formatTime","handleCommentLike","comment2","setCommentunLike","setCommentLike","openPop","obj","onEditorReady","createSelectorQuery","in","select","exec","setTextAreaValue","getEditorContent","getContents","text","substring","handleSubmit","showLoading","mask","contentCheckResult","details","toGreenCheck","toSensitiveWordCheck","hideLoading","levelArr","level","includes","toSensitiveWordCheckHandler","goDeepCommentPage","val","pageScrollTo","followNoneIcon","loginUserId","userType","getUserList","getFollowList","formatText","followStatus","result","goUserHome","GroupList","notChooseIcon","pageType","selectedGroupId","tabs","currentTab","userGroups","groupFollowStatus","getUserGroupList","list","getGroupList","Object","assign","filter","groupListRef","manageGroupListRef","allGroupRef","myManagePageNo","myManagePageNoIsEnd","myManageGroups","getMyManageGroups","getManagePaging","getGroupTypeList","updateRefresh","handleTabChange","onScrolltolowerMyManageGroups","onRefreshMyManageGroups","goToRecord","handleUnFollowGroup","targetIndex","findIndex","handleSelectedGroup","setStorageSync","selected","document","body","style","overflow","ContentCard","Number","refreshList","contentIsEnd","contentPageNo","commentIsEnd","commentPageNo","popupRef","contentNoneIcon","iconMore","getMyContents","getMyContentList","getMyComments","getMyCommentList","currentCotentId","currentCommentId","openPopup","deleteHandler","deleteContent","deleteComment","pics","previewImage","current","urls","comunityRight","goTouserManage","activeTab","loadMore","dataList","instance","getCurrentInstance","getApprovalRecordList","approvalStatus","getApprovalRecord","then","tabList","refs","popup","handleConfirm","topicList","noFollowIcon","getMyFollowTopic","getMyTopic","topic","setUnfollowTopic","dragImage","popDialog","onUnmounted","locationIconDark","locationIconBlue","topicIconDark","topicIconBlue","groupIconDark","groupIconBlue","uploadImgList","originalImageList","lastGroup","contentFrom","from","checkResultFlag","formData","pictureUrls","topicId","longitude","latitude","geoPosition","topicName","displayGeoPosition","locationId","getLocation","complete","handleRelease","toContentLaunch","disableAlertBeforeUnload","switchTab","message","getLastGroupInfo","getLastGroup","handleGroupSelect","handleTopicSelect","getSettingLocation","getSetting","authSetting","authorize","scope","fail","err","toMoveEndList","ori","toChooseImg","count","chooseImage","sizeType","sourceType","tempFiles","size","filePaths","tempFilePaths","toFileUpload","fileType","filePath","arr","oriArr","hasOwnProperty","thumbUrl","unshift","toDealImgList","toDelImg","el","imageUrls","resData","imageCheckResultFlag","imageCheckResult","imageUrl","api_community","catch","errMsg","toConfirmRelease","goBack","goBackFn","removeEvent","history","pushState","URL","getStorageSync","enableAlertBeforeUnload","onUnload","removeStorageSync","iconEye","iconComment","iconRadio","iconRadioChecked","selectedId","inProcessing","toTopicHome","poisList","addressText","request","location","extensions","s","sdkversion","logversion","radius","page","types","ops","pois","address","pname","cityname","adname","toChoose","props","mineAvatar","sendData","getRecord","remove","removeUser","toGetManagePaging","group","toUnfollowTa","closePop","searchValue","historyKeywords","toNavigateToResultPage","referralKeywords","handleSearch","keywordsArr","Set","pop","goSearchResultPage","handleConfirmRelease","handleClearHistory","keywords","activeMenu","dataLists","toDealKeywords","newsDataLists","contentDataLists","usersDataLists","nickname","circlesDataLists","profile","topicDataLists","toDealDataList","menuList","handleMenuChange","checkMore","styleChange","handleApprovalRecord","getGroupApprovalRecords","height","groupRecordIds","toRejected","handlePass","toApproved","handleRejectedAction","decodeURIComponent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","sourcesContent":["import { defineComponent, ref, inject, reactive } from 'vue'\nimport { getContentsReject, getCommentsReject } from '@api/community'\n\nexport default defineComponent({\n  name: 'AuditRejection',\n  setup() {\n    const gdp = inject('$gdp') as GeneratorDynamicPicFunc<string>\n    const auditRejectionIcon = gdp('audit-rejection.png')\n    const id = ref('')\n    const type = ref('')\n\n    /**\n     * 获取理由\n     */\n    const reason: { remark: string; createTime: string } = reactive({ remark: '', createTime: '' })\n    async function getReason() {\n      const { remark, createTime } = type.value === 'content' ? ((await getContentsReject(id.value)) as AnyObject) : ((await getCommentsReject(id.value)) as AnyObject)\n      reason.remark = remark\n      reason.createTime = createTime\n    }\n\n    return {\n      id,\n      type,\n      auditRejectionIcon,\n      getReason,\n      reason\n    }\n  },\n  onLoad(params: { id: string; type: string }) {\n    this.id = params.id\n    this.type = params.type\n    this.getReason()\n  }\n})\n","<template>\n  <view>\n    <view class=\"news-detail\">\n      <!-- 视频 -->\n      <video v-if=\"firstVideoSrc\" id=\"myVideo\" class=\"news-detail-video\" :src=\"firstVideoSrc\" :poster=\"firstVideoPoster\" controls show-fullscreen-btn />\n\n      <!-- 详情 -->\n      <view class=\"news-detail-main\">\n        <view class=\"news-detail-title\">\n          <text v-if=\"newsDetail.labelName\" class=\"label-name\">{{ newsDetail.labelName }}</text>\n          {{ newsDetail.title }}\n        </view>\n        <view v-if=\"newsDetail.author\" class=\"news-detail-info-others\">\n          <view class=\"news-detail-info-others-views\">来源：{{ newsDetail.author }}</view>\n        </view>\n        <view class=\"news-detail-info-others\">\n          <view class=\"news-detail-info-others-views\">{{ readingNum }}次阅读</view>\n          <view class=\"news-detail-info-others-time\">{{ publishTime }}发布</view>\n        </view>\n        <view v-if=\"newsDetail.addressDetail && newsDetail.addressDetail.address\" class=\"news-detail-info-location\">\n          <image class=\"news-detail-info-location-img\" :src=\"locationIcon\" />\n          <view class=\"news-detail-info-location-text\">{{ newsDetail.addressDetail.address + newsDetail.addressDetail.detail }}</view>\n        </view>\n\n        <!-- 富文本内容 -->\n        <rich-text :nodes=\"nodes\" class=\"detail-content\" preview @itemclick=\"handleRichTextClick\" @click=\"handleRichTextClick\" />\n\n        <!-- tag -->\n        <template v-if=\"newsDetail.tagList && newsDetail.tagList.length\">\n          <view v-for=\"(tag, index) in newsDetail.tagList\" :key=\"index\" class=\"news-detail-tags\">#{{ tag }}</view>\n        </template>\n      </view>\n    </view>\n    <!-- 相关推荐 -->\n    <view class=\"recommend-box\">\n      <text class=\"title\">相关推荐</text>\n      <view class=\"list\">\n        <view v-for=\"item in recommendData\" :key=\"item.id\" class=\"recommend-item\" @click=\"gotoDetail(item)\">\n          <sp-image-card :image=\"item.pictures.lifeImg\" :title=\"item.title\" :subtitle=\"item.readNum\" :icon=\"eyeIcon\" />\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, reactive, computed, inject, onMounted } from 'vue'\nimport { getNewsDetail, getRecommendIDLists, getRecommendLists, getReadingQuantity, toNewsRead } from '@api/community'\nimport { pureAssign } from '@util/common'\nimport parser from '@src/lib/html-parser'\n\nlet newsId = ref('')\nlet pageTitle = ref('')\nlet firstVideoPoster = ref('')\nlet isLeave = ref(false)\n\nexport default defineComponent({\n  name: 'NewsDetail',\n  setup() {\n    const gdp = inject('$gdp') as GeneratorDynamicPicFunc<string[]>\n    const [locationIcon, eyeIcon] = gdp(['icon-location-gray.png', 'icon-eye.png'])\n\n    /**\n     * 获取详情\n     */\n    let newsDetail: NewsInfo = reactive({\n      id: '',\n      title: '',\n      author: '',\n      labelName: '',\n      addressDetail: {},\n      contentType: 1,\n      pictures: {\n        lifeImg: ''\n      },\n      readNum: 1,\n      readAdjustNum: 1,\n      originalContent: '',\n      publishTime: '',\n      tagList: []\n    })\n    async function getDetail() {\n      const detail = (await getNewsDetail(newsId.value)) as AnyObject\n      pureAssign(newsDetail, detail)\n    }\n\n    /**\n     * 解析富文本\n     */\n    const nodes = computed(() => {\n      return parser(newsDetail.originalContent)\n    })\n\n    /**\n     * 阅读次数\n     */\n    let readingCount = ref(0)\n    async function getReadNum(contentIds: string[]) {\n      const res = (await getReadingQuantity({ contentIds: contentIds.join(',') })) as AnyObject\n      recommendData.forEach((i: NewsInfo) => {\n        i.readNum = res[i.id]\n      })\n      readingCount.value = res[newsId.value]\n    }\n\n    /**\n     * 发布时间\n     */\n    const publishTime = computed(() => {\n      return newsDetail.publishTime && newsDetail.publishTime.split(' ')[0]\n    })\n\n    /**\n     * 相关推荐\n     */\n    let recommendData: NewsInfo[] = reactive([])\n    async function getRecommendData() {\n      const { data } = (await getRecommendIDLists({\n        contentId: newsId.value,\n        algorithm: 2,\n        backup: 1,\n        pageNo: 1,\n        pageSize: 4 // 推荐4条\n      })) as AnyObject\n      const res = (await getRecommendLists({ ids: data.map((i: NewsInfo) => i.id).toString() })) as AnyObject\n      recommendData.push(...res.data)\n      getReadNum([newsId.value, ...res.data.map((i: NewsInfo) => i.id)])\n    }\n\n    // 视频链接\n    const firstVideoSrc = computed(() => {\n      const { componentList } = newsDetail\n      let videoSrc = ''\n      if (componentList && componentList.length) {\n        const [{ type, contentDetail }] = componentList\n        videoSrc = type === 3 ? contentDetail : ''\n      } else if (nodes.value && nodes.value.length) {\n        const [{ children }] = nodes.value as Array<AnyObject>\n        const videoNode = children?.find((v: any) => v.name === 'video')\n        if (videoNode) {\n          const {\n            attrs: { poster },\n            children: [\n              {\n                attrs: { src }\n              }\n            ]\n          } = videoNode\n          // console.log('poster: ', poster, src)\n          firstVideoPoster.value = poster || ''\n          videoSrc = src || ''\n        }\n      } else {\n        videoSrc = ''\n      }\n      return videoSrc\n    })\n\n    // 阅读次数\n    const readingNum = computed(() => {\n      let num: number | string = readingCount.value + newsDetail.readAdjustNum\n      if (num >= 10000) {\n        num = (num / 10000).toFixed(1) + 'w'\n      }\n      return num\n    })\n\n    // 点击富文本\n    function handleRichTextClick(e: Event) {\n      let href = ''\n      // #ifdef MP-WEIXIN\n      const nodesValue = nodes?.value?.[0] as AnyObject\n      href = nodesValue?.children?.[0]?.attrs?.href\n      href && uni.navigateTo({ url: `/package-community/pages/web-view/index?url=${encodeURIComponent(href)}` })\n      return\n    }\n\n    // 跳转推荐详情\n    const gotoDetail = (news: NewsInfo) => {\n      uni.navigateTo({\n        url: `/package-community/pages/news-detail/news-detail?id=${news.id}&title=${news.title}`\n      })\n    }\n\n    // 阅读数+1\n    async function handleNewsRead() {\n      await toNewsRead(newsId.value)\n    }\n\n    onMounted(() => {\n      getDetail()\n      handleNewsRead()\n      getRecommendData()\n    })\n    return {\n      newsDetail,\n      publishTime,\n      getDetail,\n      handleNewsRead,\n      firstVideoSrc,\n      firstVideoPoster,\n      readingNum,\n      locationIcon,\n      eyeIcon,\n      recommendData,\n      isLeave,\n      nodes,\n      handleRichTextClick,\n      gotoDetail\n    }\n  },\n  onLoad(option: { id: string; title: string }) {\n    newsId.value = option.id\n    pageTitle.value = option.title\n    uni.setNavigationBarTitle({\n      title: decodeURI(option.title)\n    })\n  },\n  onShow() {\n    isLeave.value = false\n  },\n  onHide() {\n    // 防止富文本解析器内容过长\n    isLeave.value = true\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n@import './index.scss';\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-community/pages/news-detail/news-detail.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"group-home\" style=\"height: 100vh; overflow-y: auto\">\n    <page-header :is-transparent=\"isTransparent\" :title=\"!isTransparent ? groupInfo.groupName : ''\" class=\"page-header\" @back=\"toBackTo\">\n      <view class=\"btn-area\">\n        <image class=\"add-icon\" :src=\"isTransparent ? addIcon : addBlackIcon\" mode=\"aspectFill\" />\n        <view class=\"add-icon-click-area\" @click=\"toAddContent\" />\n      </view>\n    </page-header>\n\n    <scroll-view\n      class=\"page-content\"\n      style=\"height: 100vh\"\n      scroll-y\n      :refresher-triggered=\"isRefresh\"\n      refresher-enabled\n      @scrolltolower=\"onScrolltolower\"\n      @scroll=\"onScroll\"\n      @refresherrefresh=\"onRefresh\"\n    >\n      <view class=\"wallpaper\">\n        <image class=\"bg\" mode=\"aspectFill\" :src=\"groupInfo.wallpaperUrl\" />\n      </view>\n      <view class=\"main\">\n        <view class=\"group-header\">\n          <view class=\"group-logo\">\n            <image mode=\"aspectFill\" :src=\"groupInfo.logoUrl\" />\n          </view>\n          <view class=\"group-title\">\n            <view class=\"title\">{{ groupInfo.groupName }}</view>\n            <view class=\"nums\">\n              <view class=\"item\">\n                <text style=\"color: #696b6c; margin-right: 11rpx\">{{ groupInfo.contentCount }}</text>\n                动态\n              </view>\n              <view class=\"item\">\n                <text style=\"color: #696b6c; margin-right: 11rpx\">{{ groupInfo.peopleCount }}</text>\n                圈友\n              </view>\n            </view>\n          </view>\n          <view v-if=\"isLogin\" class=\"follow\">\n            <view v-if=\"groupInfo.approval === 2\" class=\"btn isre\">申请中</view>\n            <view v-if=\"groupInfo.approval === 3 && userId !== groupInfo.groupLeader.accountId\" class=\"btn isin\">已加入</view>\n            <view v-if=\"groupInfo.approval === 1 && userId !== groupInfo.groupLeader.accountId\" class=\"btn\" @click=\"toFollowGroupHandler\">加入</view>\n            <view v-if=\"userId === groupInfo.groupLeader.accountId\" class=\"btn manage\" @click=\"goToManage()\">管理</view>\n          </view>\n          <view class=\"group-intro\">\n            <view class=\"intro\" :class=\"introWrap ? 'intro-wrap' : 'intro-total'\">{{ groupInfo.introduction }}</view>\n            <view v-if=\"groupInfo.introduction.length > 20\" class=\"intro-ctrl\" @click=\"introWrap = !introWrap\">{{ introWrap ? '详情' : '收起' }}</view>\n          </view>\n          <view class=\"group-member\" @click=\"toMemberList\">\n            <view class=\"members\">\n              <image v-for=\"(item, key) of memberList\" :key=\"key\" :src=\"item.avatarUrl || defaultAvatar\" mode=\"aspectFill\" :style=\"{ 'z-index': 11 - key }\" />\n            </view>\n            <image class=\"right-icon\" mode=\"asceptFit\" :src=\"iconRight\" />\n          </view>\n        </view>\n\n        <view class=\"group-content-list\">\n          <view v-for=\"item in contentList\" :key=\"item.id\" class=\"content-item\">\n            <content-card :info=\"item\" type=\"groupHome\" @update-follow=\"updateFollow\" @get-content-list=\"getContentList\" />\n          </view>\n          <view v-if=\"contentList && isEnd\" class=\"list-no-more\">-没有更多内容了哦-</view>\n        </view>\n      </view>\n    </scroll-view>\n\n    <approval-dialog ref=\"popupDialog\" confirm=\"申请加入\" confirm-color=\"#BABABA\" title=\"加入理由\" @confirm=\"toSubmitForm\" @cancel=\"closePopup\" />\n  </view>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, Ref, reactive, inject, computed } from 'vue'\nimport contentCard from '@src/pages/community/components/content-card/content-card.vue'\nimport pageHeader from '@src/package-community/components/page-header/page-header.vue'\nimport { getHotContentList, getGroupFollowStatus, toFollowGroup, checkSubmitApproval, getMultiVote, getGroupDetail, getMemberList } from '@api/community'\nimport { pureAssign } from '@util/common'\nimport { relogin } from '@src/api/request'\nimport approvalDialog from '../../components/dialog/dialog.vue'\nimport { useUserStore } from '@src/pinia/user'\nimport { useAppStore } from '@src/pinia/app'\n\nlet groupId = ref('')\nlet introWrap = ref(true) // 简介是否收起\n\nconst toBackTo = () => {\n  uni.navigateBack({\n    delta: 1\n  })\n}\n\n/**\n * 跳转圈内好友页面\n */\nconst toMemberList = () => {\n  uni.navigateTo({ url: `/package-community/pages/group-members/group-members?groupId=${groupId.value}` })\n}\n\nexport default defineComponent({\n  name: 'GroupHome',\n  components: {\n    contentCard,\n    pageHeader,\n    approvalDialog\n  },\n  // eslint-disable-next-line max-lines-per-function\n  setup() {\n    const userStore = useUserStore()\n    const appStore = useAppStore()\n    // 没有滚动到下方时，page-header透明\n    let isTransparent = ref(true)\n\n    const gdp = inject('$gdp') as GeneratorDynamicPicFunc<string[]>\n    const [addIcon, iconRight, addBlackIcon, defaultAvatar] = gdp(['gray-add-icon.png', 'icon-right.png', 'add-btn-icon.png', 'icon-default-avatar.png'])\n\n    /**\n     * 用户信息\n     */\n    const isLogin = computed(() => appStore.isLogin)\n    let userId = ref('')\n    async function getUserInfo() {\n      const user = await userStore.getUserInfo()\n      userId.value = user.accountId\n    }\n\n    /**\n     * 获取详情\n     */\n    let groupInfo: GroupInfo = reactive({\n      id: '',\n      groupName: '',\n      logoUrl: '',\n      contentCount: 0,\n      peopleCount: 0,\n      wallpaperUrl: '',\n      introduction: '',\n      groupLeader: {\n        id: '',\n        accountId: '',\n        accountName: '',\n        follow: false,\n        avatarUrl: '',\n        accountNamePinyin: '',\n        first: '',\n        groupId: ''\n      },\n      approval: 1,\n      approvalWay: 1,\n      follow: false\n    })\n\n    let memberList: Array<GroupMemberInfo> = reactive([])\n\n    async function getDetail() {\n      const detail = await getGroupDetail(groupId.value)\n      const { data = [] } = await getMemberList(groupId.value, { orderBy: 2 })\n      const members = [detail.groupLeader, ...data]\n      pureAssign(groupInfo, { ...detail })\n      if (isLogin.value) {\n        const status = (await getGroupFollowStatus({ groupIds: groupId.value })) as AnyObject\n        pureAssign(groupInfo, { approval: status[groupId.value] })\n      }\n      memberList.splice(0, memberList.length)\n      memberList.push(...members)\n    }\n\n    /**\n     * 获取圈子动态\n     */\n    let isEnd = ref(false)\n    let isRefresh = ref(false)\n    let pageNo: Ref<number> = ref(1)\n    const contentList: ContentInfo[] = reactive([])\n    const getContentList = async () => {\n      const res = (await getHotContentList({\n        // contentType: 2,\n        like: true,\n        follow: true,\n        pageSize: 10,\n        pageNo: pageNo.value,\n        groupId: groupId.value\n      })) as AnyObject\n      pageNo.value === 1 && contentList.splice(0, contentList.length)\n      contentList.push(...res.data)\n      let contentIds: string[] = []\n      contentList.forEach((item: AnyObject) => {\n        if (item.contentType === 5) {\n          contentIds.push(item.id)\n        }\n      })\n      if (contentIds.length > 0) {\n        getVote(contentIds)\n      }\n      isEnd.value = res.total === contentList.length\n    }\n\n    async function getVote(ids: string[]) {\n      try {\n        const data = (await getMultiVote({ contentIds: ids.toString() })) as AnyObject\n        let idList: string[] = []\n        for (let key in data) {\n          idList.push(key)\n          for (let o in data[key]) {\n            if (o === 'options') {\n              data[key][o].map((item: AnyObject) => {\n                item.checked = false\n              })\n            }\n          }\n        }\n        contentList.forEach((item: AnyObject) => {\n          for (var key in data) {\n            if (item.id === key) {\n              item.vote = data[key]\n            }\n          }\n        })\n      } catch {}\n    }\n\n    const onScrolltolower = () => {\n      if (!isEnd.value) {\n        pageNo.value++\n        getContentList()\n      }\n    }\n    const onRefresh = async () => {\n      isRefresh.value = true\n      pageNo.value = 1\n      await getContentList()\n      isRefresh.value = false\n    }\n\n    /**\n     * 更新用户关注状态\n     */\n    async function updateFollow(id: string, status: boolean) {\n      contentList.forEach((item: ContentInfo) => {\n        item.authorId === id && (item.follow = status)\n      })\n    }\n\n    /**\n     * 管理圈子\n     */\n    function goToManage() {\n      uni.navigateTo({ url: `/package-community/pages/group-manage/group-manage?groupId=${groupId.value}` })\n    }\n\n    const popupDialog: Ref<SpPopup | null> = ref(null)\n\n    function openPopup() {\n      popupDialog.value?.open()\n    }\n    function closePopup() {\n      popupDialog.value?.close()\n    }\n\n    /**\n     * 加入圈子\n     */\n    async function toFollowGroupHandler() {\n      if (!isLogin.value) {\n        relogin()\n        return\n      }\n      // 申请加入\n      if (groupInfo.approvalWay === 2) {\n        openPopup()\n        return\n      }\n\n      try {\n        await toFollowGroup(groupInfo.id)\n        uni.showToast({\n          title: '成功加入圈子'\n        })\n        getDetail()\n      } catch (error) {\n        console.log(error)\n      }\n    }\n\n    /**\n     * 提交申请\n     */\n    async function toSubmitForm(reason: string) {\n      if (reason.trim() === '') {\n        uni.showToast({\n          title: '请输入申请理由',\n          duration: 1000,\n          icon: 'none'\n        })\n        return\n      }\n      try {\n        await checkSubmitApproval({ groupId: groupId.value, applyReason: reason })\n        closePopup()\n        groupInfo.approval = 2\n        uni.showToast({\n          title: '申请已提交'\n        })\n      } catch (error) {}\n    }\n\n    function toAddContent() {\n      if (!isLogin.value) {\n        relogin()\n        return\n      }\n      uni.navigateTo({\n        url: `/package-community/pages/content-launch/content-launch?groupName=${groupInfo.follow ? groupInfo.groupName : ''}&groupId=${\n          groupInfo.follow ? groupId.value : ''\n        }&from=group`\n      })\n    }\n    const onScroll = (e: { detail: { scrollTop: number } }) => {\n      const scrollTop = e.detail.scrollTop\n      isTransparent.value = scrollTop < 100\n    }\n\n    return {\n      pageNo,\n      groupId,\n      groupInfo,\n      isTransparent,\n      addIcon,\n      addBlackIcon,\n      iconRight,\n      defaultAvatar,\n      isRefresh,\n      isLogin,\n      userId,\n      introWrap,\n      memberList,\n      contentList,\n      isEnd,\n      toBackTo,\n      toAddContent,\n      onScrolltolower,\n      onRefresh,\n      onScroll,\n      toMemberList,\n      getUserInfo,\n      updateFollow,\n      getDetail,\n      getContentList,\n      goToManage,\n      toFollowGroupHandler,\n      toSubmitForm,\n      closePopup\n    }\n  },\n  // eslint-disable-next-line max-lines\n  onLoad(option: { groupId: string }) {\n    groupId.value = option.groupId\n    this.isLogin && this.getUserInfo()\n  },\n  onShow() {\n    this.getDetail()\n    this.pageNo = 1\n    this.getContentList()\n  },\n  beforeUnmount() {\n    uni.removeStorage({ key: 'contentFrom' })\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n@import './index.scss';\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-community/pages/group-home/group-home.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"group-member-list\">\n    <view class=\"search\">\n      <view class=\"search-bar flex jc aic\" @click=\"toSearchPage\">\n        <image :src=\"searchIcon\" />\n        <text>搜索好友</text>\n      </view>\n    </view>\n\n    <scroll-view class=\"scroll\" scroll-y @scrolltolower=\"onScrolltolower\">\n      <view class=\"list\">\n        <view class=\"group-leader\">\n          <view class=\"title\">圈主</view>\n          <view class=\"item flex aic jsb\">\n            <view class=\"left flex aic\" @click=\"toUserHome(groupLeader.accountId)\">\n              <image class=\"logo\" :src=\"groupLeader.avatarUrl || defaultAvatarIcon\" />\n              <view class=\"name\">{{ groupLeader.accountName }}</view>\n            </view>\n            <view class=\"right\">\n              <view v-if=\"!groupLeader.follow\" class=\"btn\" @click.stop=\"handleFollow(groupLeader)\">关注</view>\n              <view v-else class=\"btn follow-single\" @click.stop=\"handleUnFollow(groupLeader)\">已关注</view>\n            </view>\n          </view>\n        </view>\n        <view class=\"group-member\">\n          <view class=\"title\">圈内成员</view>\n\n          <view class=\"member-list\">\n            <view v-for=\"(item, index) of memberList\" :key=\"item.id\">\n              <view v-if=\"index === 0 || (index > 0 && memberList[index - 1].first != item.first)\" class=\"word-index\">\n                {{ item.first }}\n              </view>\n              <view class=\"item flex aic jsb\" @click=\"toUserHome(item.accountId)\">\n                <view class=\"left flex aic\">\n                  <image class=\"logo\" :src=\"item.avatarUrl || defaultAvatarIcon\" />\n                  <view class=\"name\">{{ item.accountName }}</view>\n                </view>\n                <view v-if=\"item.accountId != userId\" class=\"right\">\n                  <view v-if=\"!item.follow\" class=\"btn\" @click.stop=\"handleFollow(memberList[index])\">关注</view>\n                  <view v-else class=\"btn follow-single\" @click.stop=\"handleUnFollow(memberList[index])\">已关注</view>\n                </view>\n              </view>\n            </view>\n            <view v-if=\"isEnd\" class=\"list-no-more\">-没有更多内容了哦-</view>\n          </view>\n        </view>\n      </view>\n    </scroll-view>\n  </view>\n</template>\n\n<script setup lang=\"ts\" name=\"GroupMembers\">\nimport { ref, inject, reactive, computed } from 'vue'\nimport { getGroupDetail, getMemberList, toFollowUser, toUnfollowUser } from '@api/community'\nimport { pureAssign } from '@util/common'\nimport { onLoad, onShow } from '@dcloudio/uni-app'\nimport { useAppStore } from '@src/pinia/app'\nimport { useUserStore } from '@src/pinia/user'\n\nconst appStore = useAppStore()\nconst userStore = useUserStore()\n\nconst groupId = ref('')\nconst toSearchPage = async () => {\n  uni.navigateTo({ url: `/package-community/pages/group-members-search/group-members-search?groupId=${groupId.value}` })\n}\n/**\n * 跳转用户首页\n */\nconst toUserHome = async (accountId: string) => {\n  uni.navigateTo({\n    url: `/package-community/pages/user-home/user-home?id=${accountId}`\n  })\n}\n\n/**\n * 用户信息\n */\nconst userId = ref('')\nconst isLogin = computed(() => appStore.isLogin)\nasync function getUserInfo() {\n  const user = await userStore.getUserInfo()\n  userId.value = user.accountId\n}\n\ntype PageOptions = 'groupId'\n\nonLoad((options: Record<PageOptions, string | undefined>) => {\n  groupId.value = options.groupId as string\n  isLogin.value && getUserInfo()\n})\n\nonShow(() => {\n  isEnd.value = false\n  pageNo.value = 1\n  getMembers()\n})\n\nconst gdp = inject('$gdp') as GeneratorDynamicPicFunc<string[]>\nconst [searchIcon, defaultAvatarIcon] = gdp(['icon-search.png', 'icon-default-avatar.png'])\n\n// 获取成员\nconst groupMembers: { leader: GroupMemberInfo; members: Array<AnyObject> } = reactive({\n  leader: { id: '', accountId: '', accountName: '', follow: false, avatarUrl: '', accountNamePinyin: '', first: '', groupId: '' },\n  members: []\n})\nconst groupLeader = groupMembers.leader\nconst memberList = groupMembers.members as GroupMemberInfo[]\n\n/**\n * 获取圈子成员\n */\nconst pageNo = ref(1)\nconst isEnd = ref(false)\nasync function getMembers() {\n  if (pageNo.value === 1) {\n    const detail = await getGroupDetail(groupId.value)\n    const { data = [], total: memberTotal } = await getMemberList(groupId.value, { orderBy: 2 })\n    const members = [detail.groupLeader, ...data]\n    groupMembers.members.splice(0)\n    pureAssign(groupMembers.leader, members[0])\n\n    members.slice(1).forEach((item: GroupMemberInfo) => {\n      groupMembers.members.push({ ...item, first: /[a-z]/.test(item.accountNamePinyin[0]) ? item.accountNamePinyin[0] : '#' })\n    })\n    isEnd.value = groupMembers.members.length === memberTotal\n  } else {\n    const { data, total } = (await getMemberList(groupId.value, { orderBy: 2, pageNo: pageNo.value })) as AnyObject\n    data.forEach((item: GroupMemberInfo) => {\n      groupMembers.members.push({ ...item, first: /[a-z]/.test(item.accountNamePinyin[0]) ? item.accountNamePinyin[0] : '#' })\n    })\n    isEnd.value = groupMembers.members.length === total\n  }\n}\n\n/**\n * 关注人\n */\nasync function handleFollow(user: GroupMemberInfo) {\n  if (!isLogin.value) {\n    return uni.navigateTo({ url: '/pages/login/index' })\n  }\n  await toFollowUser({ followAccountId: user.accountId })\n  uni.showToast({\n    title: '关注成功'\n  })\n  user.follow = true\n}\n/**\n * 取消关注人\n */\nfunction handleUnFollow(user: GroupMemberInfo) {\n  if (!isLogin.value) {\n    return uni.navigateTo({ url: '/pages/login/index' })\n  }\n  uni.showModal({\n    title: '提示',\n    content: '确定取消关注Ta吗',\n    confirmColor: '#292c2e',\n    success: async (res) => {\n      if (res.confirm) {\n        await toUnfollowUser({ followAccountId: user.accountId })\n        user.follow = false\n        uni.showToast({\n          title: '取消关注成功'\n        })\n      }\n    }\n  })\n}\n\nasync function onScrolltolower() {\n  if (!isEnd.value) {\n    pageNo.value++\n    getMembers()\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.flex {\n  display: flex;\n\n  &.aic {\n    align-items: center;\n  }\n\n  &.jsb {\n    justify-content: space-between;\n  }\n\n  &.jc {\n    justify-content: center;\n  }\n}\n\nimage {\n  display: block;\n}\n\n.search {\n  padding: 20rpx 40rpx;\n\n  .search-bar {\n    width: 100%;\n    height: 80rpx;\n    background: #f2f3f3;\n    border-radius: 4rpx;\n    position: relative;\n\n    image {\n      width: 40rpx;\n      height: 40rpx;\n      margin-right: 8rpx;\n    }\n\n    text {\n      font-size: 30rpx;\n      color: #bababa;\n    }\n\n    .input {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 80rpx;\n      padding: 0 20rpx;\n    }\n  }\n}\n\n.group-member-list {\n  .group-leader {\n    padding-bottom: 16rpx;\n    border-bottom: 1px solid #e4e7ea;\n    margin-bottom: 56rpx;\n  }\n\n  .scroll {\n    height: calc(100vh - 120rpx - var(--window-top));\n  }\n\n  .list {\n    width: 100%;\n    padding: 20rpx 40rpx;\n  }\n\n  .title {\n    font-size: 28rpx;\n    color: #696b6c;\n    padding-bottom: 8rpx;\n  }\n\n  .word-index {\n    line-height: 69rpx;\n    color: #292c2e;\n    font-size: 28rpx;\n  }\n\n  .item {\n    padding: 16rpx 0;\n    margin-bottom: 16rpx;\n\n    .logo {\n      width: 88rpx;\n      height: 88rpx;\n      border-radius: 50%;\n      margin-right: 20rpx;\n    }\n\n    .name {\n      color: #1a1a1a;\n      font-size: 28rpx;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      width: 400rpx;\n    }\n\n    .btn {\n      width: 124rpx;\n      height: 56rpx;\n      font-size: 26rpx;\n      line-height: 56rpx;\n      text-align: center;\n      background-color: #4e6175;\n      color: #fff;\n\n      &.follow-single,\n      &.follow-mutual {\n        background-color: #fff;\n        color: #909ca8;\n        border: 1px solid #f2f3f3;\n      }\n    }\n  }\n\n  .list-no-more {\n    text-align: center;\n    font-size: 26rpx;\n    font-family: SourceHanSansSC-Normal, SourceHanSansSC;\n    font-weight: 400;\n    color: #909ca8;\n    padding-bottom: 40rpx;\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-community/pages/group-members/group-members.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"page-search\">\n    <view class=\"search-bar\">\n      <input v-model=\"keyword\" type=\"text\" placeholder=\"输入好友名字\" placeholder-style=\"color:#D8D8D8;fontSize:30rpx\" @confirm=\"getGroupMember\" @focus=\"onFocus\" />\n    </view>\n\n    <scroll-view v-if=\"userListData.length\" class=\"scroll\" scroll-y @scrolltolower=\"onScrolltolower\">\n      <user-list :list=\"userListData\" />\n      <view v-if=\"userListData.length && isEnd\" class=\"list-no-more\">-没有更多内容了哦-</view>\n    </scroll-view>\n\n    <view v-if=\"noResult\" class=\"no-result\">\n      <image :src=\"searchIcon\" />\n      <view class=\"result\">未找到“{{ keyword }}”的相关结果</view>\n      <view class=\"tip\">您可以换个关键词试试，或随便逛一逛</view>\n    </view>\n  </view>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, reactive, inject } from 'vue'\nimport { getMemberList } from '@api/community'\nimport userList from '../../components/user-list/user-list.vue'\n\nlet groupId = ref('')\n\nexport default defineComponent({\n  name: 'GroupMemberSearch',\n  components: { userList },\n  setup() {\n    const gdp = inject('$gdp') as GeneratorDynamicPicFunc<string[]>\n    const [searchIcon] = gdp(['group-search.png'])\n\n    let keyword = ref('')\n    let noResult = ref(false)\n    function onFocus() {\n      noResult.value = false\n    }\n\n    /**\n     * 查询成员\n     */\n    let pageNo = ref(1)\n    let isEnd = ref(false)\n    let userListData: Array<GroupMemberInfo> = reactive([])\n    async function getGroupMember() {\n      const { data, total } = (await getMemberList(groupId.value, { orderBy: 1, pageNo: pageNo.value, accountName: keyword.value })) as AnyObject\n      pageNo.value === 1 && userListData.splice(0)\n      userListData.push(...data)\n      isEnd.value = userListData.length === total\n      noResult.value = !data.length && !userListData.length\n    }\n    async function onScrolltolower() {\n      if (!isEnd.value) {\n        pageNo.value++\n        getGroupMember()\n      }\n    }\n\n    return {\n      keyword,\n      searchIcon,\n      userListData,\n      isEnd,\n      noResult,\n      onFocus,\n      getGroupMember,\n      onScrolltolower\n    }\n  },\n  onLoad(option: { groupId: string }) {\n    groupId.value = option.groupId\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n@import './index.scss';\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-community/pages/group-members-search/group-members-search.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <all-group-list />\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nimport AllGroupList from '@src/package-community/components/all-group-list/all-group-list.vue'\n\nexport default defineComponent({\n  name: 'AllGroup',\n  components: {\n    AllGroupList\n  },\n  // #ifdef  H5\n  onHide() {\n    document.body.style.overflow = ''\n  },\n  activated() {\n    document.body.style.overflow = 'hidden'\n  },\n  onUnload() {\n    document.body.style.overflow = ''\n  }\n  // #endif\n})\n</script>\n\n<style lang=\"scss\" scoped>\n@import './index.scss';\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-community/pages/all-group/all-group.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"all-topic\">\n    <topic-list :list=\"topicLists\" :is-end=\"isEnd\" />\n  </view>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, reactive, onMounted } from 'vue'\nimport { getTopicsList } from '@src/api/community'\nimport topicList from '../../components/topic-list/topic-list.vue'\n\nexport default defineComponent({\n  name: 'AllTopic',\n  components: {\n    'topic-list': topicList\n  },\n  setup() {\n    /**\n     * 获取话题数据\n     */\n    let topicLists: Array<TopicInfo> = reactive([])\n    let pageNo = ref(1)\n    let isEnd = ref(false)\n    async function getTopics() {\n      const { data, total } = (await getTopicsList({ pageNo: pageNo.value, pageSize: 15 })) as AnyObject\n      pageNo.value === 1 && topicLists.splice(0)\n      topicLists.push(...data)\n      isEnd.value = topicLists.length === total\n    }\n\n    onMounted(() => {\n      getTopics()\n    })\n    return {\n      topicLists,\n      isEnd,\n      pageNo,\n      getTopics\n    }\n  },\n  onPullDownRefresh() {\n    this.isEnd = false\n    this.pageNo = 1\n    this.getTopics()\n  },\n  onReachBottom() {\n    if (!this.isEnd) {\n      this.pageNo++\n      this.getTopics()\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n@import './index.scss';\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-community/pages/all-topic/all-topic.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"content-detail\">\n    <view class=\"content-detail-header\">\n      <view class=\"justify-between\">\n        <content-card\n          class=\"content-card\"\n          :show-more=\"true\"\n          :info=\"detailObj.info\"\n          :show-footer=\"false\"\n          show-address\n          :show-follow-btn=\"detailObj.type !== 'comment'\"\n          :type=\"detailObj.type\"\n          @get-detail=\"getDetail\"\n        />\n        <view class=\"like-btn\" @click=\"handleCommentLike(detailObj.info)\">\n          <sp-icon-number v-if=\"detailObj.type === 'comment'\" :icon=\"detailObj.info.like ? thumbUpActiveIcon : thumbUpIcon\">\n            {{ detailObj.info.likeCount }}\n          </sp-icon-number>\n        </view>\n      </view>\n      <view class=\"date\">{{ detailObj.info.releaseTime && formatTime(detailObj.info.releaseTime) }}</view>\n    </view>\n\n    <view class=\"content-detail-comment\">\n      <text class=\"comment-list-header font-medium\">全部回复</text>\n      <view class=\"content-detail-comment-list\">\n        <view v-if=\"commentList.length\">\n          <view v-for=\"item in commentList\" :key=\"item.id\" class=\"comment-item\" @click=\"!item.pcomment && openPop(item)\">\n            <view class=\"justify-between\">\n              <sp-avatar-info class=\"user-info\" :src=\"item.commenterAvatar\" :title=\"item.commenterName\" :subtitle=\"formatTime(item.createTime)\" />\n              <view class=\"like-btn\" @click.stop=\"handleCommentLike(item)\">\n                <sp-icon-number :icon=\"item.like ? thumbUpActiveIcon : thumbUpIcon\" direction=\"row-reverse\">\n                  {{ item.likeCount }}\n                </sp-icon-number>\n              </view>\n            </view>\n            <view class=\"comment-content\">\n              {{ item.commentContent }}\n            </view>\n            <!-- 内容页面评论的评论 -->\n            <view v-if=\"detailObj.type === 'content' && item.commentCount\" class=\"comment-content-comment\" @click.stop=\"goDeepCommentPage(item)\">\n              {{ item.commentCount }} 回复\n              <image :src=\"rightIcon\" class=\"icon\" />\n            </view>\n\n            <!-- 二级评论的原文内容 -->\n            <view v-if=\"detailObj.type === 'comment' && item.pcomment\" class=\"comment-parent-info font-regular\">\n              <template v-if=\"item.pcomment.commentStatus === 1\">\n                <text class=\"name\">{{ item.pcomment.commenterName }}:</text>\n                {{ item.pcomment.commentContent }}\n              </template>\n              <text v-else class=\"name\">该评论已被删除</text>\n            </view>\n          </view>\n\n          <view v-show=\"isEnd\" class=\"content-detail-comment-list-no-more\">-已无更多评论-</view>\n        </view>\n        <view v-else class=\"no-comment\">暂无评论，立刻写回复抢沙发</view>\n      </view>\n    </view>\n\n    <view class=\"content-detail-footer\">\n      <view class=\"content-detail-footer-main\">\n        <view class=\"content-detail-footer-input\" @click=\"openPop()\">\n          <input class=\"uni-input\" maxlength=\"140\" placeholder=\"发表想法...\" disabled />\n        </view>\n        <view class=\"content-detail-footer-icons\">\n          <view class=\"content-detail-footer-icons-comment\" @click=\"openPop()\">\n            <view v-if=\"detailObj.info.commentCount\" class=\"badge font-regular\">{{ detailObj.info.commentCount }}</view>\n            <image class=\"content-detail-footer-icon\" :src=\"commentIcon\" mode=\"aspectFill\" />\n          </view>\n          <view class=\"content-detail-footer-icons-like\" @click=\"detailObj.type === 'content' ? handleLikeOrUnLike() : handleCommentLike(detailObj.info)\">\n            <image class=\"content-detail-footer-icon\" :src=\"detailObj.info.like ? thumbUpActiveIcon : thumbUpIcon\" mode=\"aspectFill\" />\n          </view>\n        </view>\n      </view>\n    </view>\n\n    <!-- 评论弹框 -->\n    <transition name=\"fade\">\n      <view v-if=\"showPop\" class=\"shade\" @click=\"showPop = false\">\n        <view class=\"comment\" :class=\"{ showComment: showPop }\" @click.stop>\n          <view class=\"innerBox\">\n            <editor v-show=\"!isShowTextArea\" id=\"editor\" class=\"comment-detail\" @ready=\"onEditorReady\" @input=\"getEditorContent\" />\n            <textarea\n              v-if=\"isShowTextArea\"\n              v-model=\"comment\"\n              class=\"comment-detail\"\n              :show-confirm-bar=\"false\"\n              :auto-focus=\"true\"\n              :cursor-spacing=\"90\"\n              :maxlength=\"700\"\n              :placeholder=\"placeholder\"\n              placeholder-style=\"color:#bababa;font-size: 28rpx;\"\n              @input=\"setTextAreaValue\"\n            />\n            <view class=\"btns\">\n              <view :class=\"[!isTureContent ? 'jcsb' : '']\">\n                <view v-if=\"!isTureContent\" class=\"tips\">内容涉及违规用词，请修改</view>\n                <view class=\"btn\" :class=\"{ disabled: comment.length === 0 }\" @click.stop=\"handleSubmit\">发布</view>\n              </view>\n            </view>\n          </view>\n        </view>\n      </view>\n    </transition>\n  </view>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, ref, inject, computed, nextTick } from 'vue'\nimport {\n  getContentDetail,\n  setContentLike,\n  toContentUnlike,\n  getCommentList,\n  setCommentLike,\n  setCommentunLike,\n  toGreenCheck,\n  toSensitiveWordCheck,\n  toSubmitComment,\n  getCommentDetail,\n  getSingleVote\n} from '@api/community'\nimport contentCard from '@src/pages/community/components/content-card/content-card.vue'\nimport { relogin } from '@src/api/request'\nimport { formatTime } from '@util/date-time'\nimport { useAppStore } from '@src/pinia/app'\n\ninterface CommentsParams {\n  pageNo: number\n  contentId?: string\n  topPid?: string\n  like: boolean\n  level?: number\n}\n\nexport default defineComponent({\n  name: 'ContentDetail',\n  components: {\n    contentCard\n  },\n  // eslint-disable-next-line max-lines-per-function\n  setup() {\n    let detailId = ref('')\n    const gdp = inject('$gdp') as GeneratorDynamicPicFunc<string[]>\n    const [thumbUpIcon, thumbUpActiveIcon, commentIcon, rightIcon] = gdp(['icon-thumb-up.png', 'icon-thumb-up-active.png', 'icon-comment.png', 'icon-right.png'])\n\n    // 登录信息\n    const isLogin = computed(() => useAppStore().isLogin)\n\n    /**\n     * 查询详情\n     */\n    const detailObj: { type: string; info: AnyObject } = reactive({\n      type: '', //详情类型 content(内容)/comment(评论)\n      info: {}\n    })\n    async function getDetail() {\n      if (detailObj.type === 'content') {\n        const res = (await getContentDetail(detailId.value)) as AnyObject\n        detailObj.info = { ...res }\n        if (detailObj.info.contentType === 5) {\n          getVote()\n        }\n      } else {\n        const res = await getCommentDetail(detailId.value)\n        const { id, contentId, commenterName, commenterAvatar, commentContent, like, likeCount, createTime, commentCount } = res as AnyObject\n        const dataObj = {\n          id,\n          contentId,\n          authorName: commenterName,\n          authorAvatar: commenterAvatar,\n          detail: commentContent,\n          like,\n          likeCount,\n          releaseTime: createTime,\n          commentCount: commentCount\n        }\n        detailObj.info = { ...dataObj }\n      }\n\n      //加载评论列表\n      pageNo.value = 1\n      getComments()\n    }\n\n    async function getVote() {\n      try {\n        const data = (await getSingleVote({ contentId: detailObj.info.id })) as AnyObject\n        data.options.map((item: AnyObject) => {\n          item.checked = false\n        })\n        detailObj.info = { ...detailObj.info, vote: { ...data } }\n      } catch {}\n    }\n\n    /**\n     * 获取评论列表\n     */\n    let commentList: Array<AnyObject> = reactive([])\n    let pageNo = ref(1)\n    let isEnd = ref(false)\n    async function getComments() {\n      if (!detailObj.info.id) {\n        return\n      }\n      let params: CommentsParams = {\n        pageNo: pageNo.value,\n        like: true\n      }\n      if (detailObj.type === 'content') {\n        params['contentId'] = detailObj.info.id\n        params['level'] = 1\n      } else {\n        params['topPid'] = detailObj.info.id\n      }\n\n      try {\n        const res = (await getCommentList({ ...params })) as AnyObject\n        pageNo.value === 1 && commentList.splice(0)\n        commentList.push(...res.data)\n        isEnd.value = commentList.length === res.total\n      } catch (error) {}\n    }\n\n    /**\n     * 内容点赞、取消点赞\n     */\n    async function handleLikeOrUnLike() {\n      if (!isLogin.value) {\n        relogin()\n        return\n      }\n      const { like, likeCount } = detailObj.info\n      let id = detailId.value\n      like ? await toContentUnlike(id) : await setContentLike(id)\n      detailObj.info.likeCount = like ? likeCount - 1 : likeCount + 1\n      detailObj.info.like = !like\n    }\n\n    /**\n     * 评论点赞、取消点赞\n     */\n    async function handleCommentLike(comment: AnyObject) {\n      if (!isLogin.value) {\n        relogin()\n        return\n      }\n      const { id, like, likeCount } = comment\n      like ? await setCommentunLike(id) : await setCommentLike(id)\n      comment.likeCount = like ? likeCount - 1 : likeCount + 1\n      comment.like = !like\n    }\n\n    /**\n     * 打开评论弹框\n     */\n    let showPop = ref(false)\n    let isShowTextArea = ref(true) // 隐藏editor\n    let comment = ref('') // 用户填写的评论内容\n    let isTureContent = ref(true) // 文本检测结果\n    let placeholder = ref('写点什么吧')\n    let pid = ref('')\n    async function openPop(obj?: AnyObject) {\n      if (!isLogin.value) {\n        relogin()\n        return\n      }\n      if (obj) {\n        pid.value = obj.id\n        placeholder.value = `回复@${obj.commenterName}`\n      } else {\n        pid.value = ''\n        placeholder.value = '写点什么吧'\n      }\n      showPop.value = true\n      isShowTextArea.value = true\n      comment.value = ''\n      isTureContent.value = true\n    }\n\n    /**\n     * 编辑器初始化完成时触发\n     */\n    let editorCtx: AnyObject | undefined = {}\n    function onEditorReady(this: unknown) {\n      const query = uni.createSelectorQuery().in(this)\n      query\n        .select('#editor')\n        .context((res) => {\n          res.context && (editorCtx = res.context)\n        })\n        .exec()\n    }\n    // 获取评论内容\n    function getEditorContent() {\n      editorCtx?.getContents({\n        success: (res: AnyObject) => {\n          comment.value = res.text.substring(0, res.text.length - 1) // 删除最后一个换行符,否则会影响长度的判断\n          editorHtml.value = res.html\n        }\n      })\n    }\n    let editorHtml = ref('')\n    function setTextAreaValue() {\n      editorHtml.value = `<p>${comment.value}</p>`\n    }\n\n    /**\n     * 提交评论\n     */\n    async function handleSubmit() {\n      if (comment.value.length) {\n        if (comment.value.length > 700) {\n          uni.showToast({\n            icon: 'none',\n            title: '您输入的内容过长，不能超过700字符'\n          })\n          return\n        }\n        uni.showLoading({\n          title: '检测中...',\n          mask: true\n        })\n        const {\n          contentCheckResult: { checkResults, details }\n        } = (await toGreenCheck({ text: comment.value })) as AnyObject\n        isTureContent.value = checkResults === 1 // 1-文本正常 2-文本违规 3-需要人工审核\n        isTureContent.value ? toSensitiveWordCheckHandler() : toDealEditHtml(details, 'level1', checkResults)\n        uni.hideLoading()\n      }\n    }\n    // 敏感词预审核\n    async function toSensitiveWordCheckHandler() {\n      uni.showLoading({\n        title: '检测中...',\n        mask: true\n      })\n      const res = (await toSensitiveWordCheck({ text: comment.value })) as Array<{ level: number }>\n      uni.hideLoading()\n      if (res && res.length > 0) {\n        let levelArr = res.map((item: { level: number }) => {\n          return item.level\n        })\n        // eslint-disable-next-line max-lines\n        levelFlag.value = levelArr.includes(1) ? 1 : 2 // 1-高 2-低\n        // 高亮显示敏感词\n        toDealEditHtml(res, 'level2')\n        isTureContent.value = false\n        toShowModal()\n      } else {\n        isTureContent.value = true\n        toSubmitCommentHandler() // 提交评论\n      }\n    }\n\n    /**\n     * 处理敏感文字高亮显示\n     */\n    let levelFlag = ref(0)\n    function toDealEditHtml(data: Array<AnyObject>, flag: string, checkResults?: number) {\n      // 先将之前的文本替换成正常的，否则不修改敏感词继续输入时有bug\n      let str = editorHtml.value.replace(new RegExp('<span style=\"color: red;\">', 'g'), '').replace(new RegExp('</span>', 'g'), '')\n      data.forEach((item) => {\n        if (flag === 'level1') {\n          if (item.contexts && item.contexts.length > 0) {\n            // 存在contexts 为null,说明整段话语义有问题\n            item.contexts.forEach((i: { context: string }) => {\n              str = str.replace(new RegExp(i.context, 'g'), `<span style=\"color: red;\">${i.context}</span>`)\n            })\n            if (checkResults === 3) {\n              levelFlag.value = 1\n              toShowModal()\n            }\n          } else if (checkResults === 3 && item.contexts === null) {\n            levelFlag.value = 1\n            toShowModal()\n          }\n        } else {\n          str = str.replace(new RegExp(item.context, 'g'), `<span style=\"color: red;\">${item.context}</span>`)\n        }\n      })\n      isShowTextArea.value = false // 隐藏textarea输入框\n      nextTick(() => {\n        editorCtx?.setContents({\n          html: `<p>${str}</p>`\n        })\n        editorCtx?.blur()\n      })\n    }\n\n    /**\n     * 内容违规提示\n     */\n    function toShowModal() {\n      uni.showModal({\n        title: '提示',\n        content: levelFlag.value === 1 ? '内容可能涉及违规，发布内容需要进入人工审核阶段' : '内容可能涉及违规，发布内容可能会被屏蔽',\n        confirmColor: '#292c2e',\n        success: async (res) => {\n          if (res.confirm) {\n            toSubmitCommentHandler()\n          } else {\n            levelFlag.value = 0\n          }\n        }\n      })\n    }\n\n    async function toSubmitCommentHandler() {\n      try {\n        let params =\n          detailObj.type === 'content'\n            ? { contentId: detailId.value, commentContent: comment.value, pid: pid.value }\n            : { contentId: detailObj.info.contentId, commentContent: comment.value, pid: pid.value || detailId.value }\n        await toSubmitComment(params)\n        if (levelFlag.value === 1) {\n          uni.navigateTo({\n            url: `/package-community/pages/my-content-list/my-content-list?currentTab=1`\n          })\n        } else {\n          uni.showToast({\n            title: '评论成功'\n          })\n          detailObj.info.commentCount++\n          showPop.value = false\n          pageNo.value = 1\n          isEnd.value = false\n          getComments()\n        }\n      } catch (error) {}\n    }\n\n    /**\n     * 跳转评论页面\n     */\n    function goDeepCommentPage(val: AnyObject) {\n      uni.navigateTo({\n        url: `/package-community/pages/content-detail/content-detail?id=${val.id}&type=comment`\n      })\n    }\n\n    return {\n      detailId,\n      detailObj,\n      thumbUpIcon,\n      thumbUpActiveIcon,\n      commentIcon,\n      commentList,\n      isEnd,\n      showPop,\n      isShowTextArea,\n      comment,\n      isTureContent,\n      placeholder,\n      getDetail,\n      handleLikeOrUnLike,\n      formatTime,\n      handleCommentLike,\n      openPop,\n      onEditorReady,\n      setTextAreaValue,\n      getEditorContent,\n      handleSubmit,\n      rightIcon,\n      goDeepCommentPage,\n      getComments,\n      pageNo\n    }\n  },\n  onLoad(option: { id: string; type: string }) {\n    this.detailId = option.id\n    this.detailObj.type = option.type\n    uni.setNavigationBarTitle({ title: option.type === 'content' ? '内容详情' : '' })\n    uni.pageScrollTo({ duration: 0, scrollTop: 0 })\n  },\n  onShow() {\n    this.getDetail()\n  },\n  onPullDownRefresh() {\n    this.getDetail()\n  },\n  onReachBottom() {\n    if (!this.isEnd) {\n      this.pageNo++\n      this.getComments()\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n@import './index.scss';\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-community/pages/content-detail/content-detail.vue'\nwx.createPage(MiniProgramPage)","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-community/pages/user-home/user-home.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"user-list\">\n    <template v-if=\"userList.length == 0\">\n      <view class=\"follow-none\">\n        <image :src=\"followNoneIcon\" />\n        <view class=\"tip\">{{ userType === 'follow' ? '还没有关注的人' : '还没有粉丝' }}</view>\n      </view>\n    </template>\n    <view v-for=\"(item, index) in userList\" :key=\"item.id\" class=\"user-list-item justify-between\">\n      <view class=\"user-info\" @click=\"goUserHome(item)\">\n        <sp-avatar-info :src=\"item.avatarUrl\" :title=\"item.displayName\" />\n      </view>\n      <view v-if=\"loginUserId !== item.accountId\" class=\"follow-btn\" :class=\"{ follow: item.followStatus && item.followStatus !== 1 }\" @click=\"updateFollow(item, index)\">\n        {{ formatText(item) }}\n      </view>\n    </view>\n    <view v-if=\"userList.length && isEnd\" class=\"user-list-no-more font-normal\">-已无更多好友-</view>\n  </view>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, reactive, computed, inject, onMounted } from 'vue'\nimport { getFollowList, toFollowUser, toUnfollowUser } from '@api/community'\nimport { relogin } from '@src/api/request'\nimport { useAppStore } from '@src/pinia/app'\nimport { useUserStore } from '@src/pinia/user'\n\nexport default defineComponent({\n  name: 'UserList',\n  // eslint-disable-next-line max-lines-per-function\n  setup() {\n    // 登录信息\n    const isLogin = computed(() => useAppStore().isLogin)\n\n    const gdp = inject('$gdp') as GeneratorDynamicPicFunc<string[]>\n    const [followNoneIcon] = gdp(['follow-none-icon.png'])\n\n    /**\n     * 获取用户信息\n     */\n    let loginUserId = ref('')\n    async function getUserInfo() {\n      const user = await useUserStore().getUserInfo()\n      loginUserId.value = user.accountId\n    }\n\n    let userId = ref('')\n    let userType = ref('')\n\n    const formatText = (item: User.Info) => {\n      return item.followStatus === 3 ? '互相关注' : item.followStatus === 2 ? '已关注' : '关注'\n    }\n    /**\n     * 获取用户列表\n     */\n    let userList: Array<User.Info> = reactive([])\n    let pageNo = ref(1)\n    let isEnd = ref(false)\n\n    async function getUserList() {\n      try {\n        const res = (await getFollowList(userId.value, userType.value, {\n          pageNo: pageNo.value,\n          pageSize: 20\n        })) as AnyObject\n        pageNo.value === 1 && userList.splice(0)\n        userList.push(...res.data)\n        isEnd.value = userList.length === res.total\n      } catch (error) {}\n    }\n\n    /**\n     * 关注人\n     * followStatus: 1：关注 2：已关注 3：互相关注\n     */\n    async function updateFollow(user: User.Info, index: number) {\n      if (!isLogin.value) {\n        relogin()\n        return\n      }\n      const { followStatus, accountId } = user\n      if (followStatus === 1) {\n        const res = (await toFollowUser({ followAccountId: accountId })) as number\n        uni.showToast({\n          title: '关注成功'\n        })\n        user.followStatus = res\n      } else {\n        uni.showModal({\n          title: '提示',\n          content: '确定取消关注Ta吗',\n          confirmColor: '#292c2e',\n          success: async (result) => {\n            if (result.confirm) {\n              const res = (await toUnfollowUser({ followAccountId: user.accountId })) as AnyObject\n              user.followStatus = 1\n              uni.showToast({\n                title: '取消关注成功'\n              })\n\n              // 我的关注页面 取消关注 删除数据\n              if (loginUserId.value === userId.value && userType.value === 'follow') {\n                userList.splice(index, 1)\n              }\n            }\n          }\n        })\n      }\n    }\n\n    /**\n     * 跳转用户首页\n     */\n    const goUserHome = (user: { accountId: string }) => {\n      uni.navigateTo({\n        url: `/package-community/pages/user-home/user-home?id=${user.accountId}`\n      })\n    }\n\n    onMounted(() => {\n      isLogin.value && getUserInfo()\n      getUserList()\n    })\n\n    return {\n      isLogin,\n      formatText,\n      loginUserId,\n      getUserInfo,\n      userId,\n      userType,\n      userList,\n      pageNo,\n      isEnd,\n      getUserList,\n      updateFollow,\n      goUserHome,\n      followNoneIcon\n    }\n  },\n  onLoad(option: { id: string; type: string }) {\n    this.userId = option.id\n    this.userType = option.type.includes('关注') ? 'follow' : 'fans'\n    uni.setNavigationBarTitle({ title: option.type.length === 2 ? `Ta的${option.type}` : option.type })\n  },\n  onPullDownRefresh() {\n    this.isEnd = false\n    this.pageNo = 1\n    this.getUserList()\n  },\n  onReachBottom() {\n    if (!this.isEnd) {\n      this.pageNo++\n      this.getUserList()\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n@import './index.scss';\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-community/pages/user-list/user-list.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"user-groups\">\n    <sp-tabs underline :menus=\"tabs\" @on-click=\"handleTabChange\" />\n    <view class=\"user-groups-content\" :class=\"{ 'has-footer': currentTab !== 3 }\">\n      <group-list\n        v-show=\"currentTab === 1\"\n        ref=\"groupListRef\"\n        class=\"group-list\"\n        :group-list=\"userGroups\"\n        :is-end=\"isEnd\"\n        :group-follow-status=\"groupFollowStatus\"\n        :list-type=\"pageType\"\n        :selected-id=\"selectedGroupId\"\n        @selected-group=\"handleSelectedGroup\"\n        @on-refresh=\"onRefresh\"\n        @on-scrolltolower=\"onScrolltolower\"\n        @un-follow-group=\"handleUnFollowGroup\"\n      />\n\n      <group-list\n        v-if=\"pageType !== 'choose'\"\n        v-show=\"currentTab === 2\"\n        ref=\"manageGroupListRef\"\n        :group-list=\"myManageGroups\"\n        :is-end=\"myManagePageNoIsEnd\"\n        @on-refresh=\"onRefreshMyManageGroups\"\n        @on-scrolltolower=\"onScrolltolowerMyManageGroups\"\n      />\n\n      <all-group-list\n        v-show=\"currentTab === 3\"\n        ref=\"allGroupRef\"\n        class=\"all-group\"\n        :list-type=\"pageType\"\n        :is-recommond=\"true\"\n        :selected-id=\"selectedGroupId\"\n        @selected-group=\"handleSelectedGroup\"\n      />\n    </view>\n\n    <view v-if=\"pageType !== 'choose' && currentTab !== 3 && userId === loginUserId\" class=\"footer\">\n      <view class=\"footer-btn\" @click=\"goToRecord\">查看申请记录</view>\n    </view>\n  </view>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, reactive, onMounted, computed, inject, Ref } from 'vue'\nimport { getGroupList, getGroupFollowStatus, getManagePaging } from '@api/community'\nimport GroupList from '../../components/group-list/group-list.vue'\nimport AllGroupList from '@src/package-community/components/all-group-list/all-group-list.vue'\nimport { useUserStore } from '@src/pinia/user'\nimport { useAppStore } from '@src/pinia/app'\n\nexport default defineComponent({\n  name: 'UserGroups',\n  components: {\n    GroupList,\n    AllGroupList\n  },\n  // eslint-disable-next-line max-lines-per-function\n  setup() {\n    const gdp = inject('$gdp') as GeneratorDynamicPicFunc<string>\n    const notChooseIcon = gdp('not-choose-group.png')\n\n    // 页面模式 choose --> 选择圈子\n    let pageType = ref('')\n    let selectedGroupId = ref('') //选中的圈子id\n\n    let userId = ref('')\n    let isLogin = computed(() => useAppStore().isLogin)\n    let tabs = computed(() => {\n      if (userId.value === loginUserId.value) {\n        return pageType.value === 'choose'\n          ? [\n              { name: '我加入的', value: 1 },\n              { name: '推荐圈子', value: 3 }\n            ]\n          : [\n              { name: '我加入的', value: 1 },\n              { name: '我管理的', value: 2 },\n              { name: '推荐圈子', value: 3 }\n            ]\n      } else {\n        return [\n          { name: 'Ta加入的', value: 1 },\n          { name: '推荐圈子', value: 3 }\n        ]\n      }\n    })\n    /**\n     * 用户信息\n     */\n    let loginUserId = ref('')\n    async function getUserInfo() {\n      const user = await useUserStore().getUserInfo()\n      loginUserId.value = user.accountId\n      if (userId.value === loginUserId.value && pageType.value !== 'choose') {\n        getMyManageGroups()\n      }\n    }\n\n    let currentTab = ref(1)\n    function handleTabChange(type: number) {\n      currentTab.value = type\n    }\n\n    /**\n     * 获取圈子列表\n     */\n    let userGroups: Array<GroupInfo> = reactive([])\n    let pageNo = ref(1)\n    let isEnd = ref(false)\n    let groupFollowStatus: { [key: string]: number } = reactive({})\n    async function getUserGroupList() {\n      let list = (await getGroupList(userId.value, { pageNo: pageNo.value })) as AnyObject\n      // 获取圈子关注状态\n      const status = isLogin.value ? await getGroupFollowStatus({ groupIds: list.data.map((item: GroupInfo) => item.id).join(',') }) : []\n      groupFollowStatus = Object.assign(groupFollowStatus, status)\n      if (pageNo.value === 1) {\n        userGroups.splice(0)\n        pageType.value === 'choose' &&\n          userGroups.push({\n            id: '0',\n            groupName: '不发布到圈子',\n            logoUrl: notChooseIcon,\n            approvalWay: 0,\n            introduction: '',\n            follow: false,\n            groupLeader: {\n              id: '',\n              accountId: '',\n              accountName: '',\n              follow: false,\n              avatarUrl: '',\n              accountNamePinyin: '',\n              first: '',\n              groupId: ''\n            }\n          })\n      }\n\n      // 我加入的圈子过滤掉我管理的圈子\n      if (userId.value === loginUserId.value && pageType.value !== 'choose') {\n        userGroups.push(...list.data.filter((i: AnyObject) => i.groupLeader.accountId !== loginUserId.value))\n      } else {\n        userGroups.push(...list.data)\n      }\n      isEnd.value = userGroups.length === list.total\n    }\n\n    /**\n     * 加载更多\n     */\n    async function onScrolltolower() {\n      if (!isEnd.value) {\n        pageNo.value++\n        getUserGroupList()\n      }\n    }\n\n    const groupListRef: Ref<typeof GroupList | null> = ref(null)\n    const manageGroupListRef: Ref<typeof GroupList | null> = ref(null)\n    const allGroupRef: Ref<typeof AllGroupList | null> = ref(null)\n\n    /**\n     * 刷新\n     */\n    async function onRefresh() {\n      pageNo.value = 1\n      await getUserGroupList()\n      groupListRef.value?.updateRefresh(false)\n    }\n\n    /**\n     * 获取我管理的圈子列表\n     */\n    let myManagePageNo = ref(1)\n    let myManagePageNoIsEnd = ref(false)\n    let myManageGroups: Array<GroupInfo> = reactive([])\n    async function getMyManageGroups() {\n      try {\n        const res = (await getManagePaging({ pageNo: myManagePageNo.value, pageSize: 20 })) as AnyObject\n        myManagePageNo.value === 1 && myManageGroups.splice(0)\n        myManageGroups.push(...res.data)\n        myManagePageNoIsEnd.value = myManageGroups.length === res.total\n      } catch (error) {}\n    }\n\n    /**\n     * 加载更多\n     */\n    async function onScrolltolowerMyManageGroups() {\n      if (!myManagePageNoIsEnd.value) {\n        myManagePageNo.value++\n        getMyManageGroups()\n      }\n    }\n\n    /**\n     * 刷新\n     */\n    async function onRefreshMyManageGroups() {\n      myManagePageNo.value = 1\n      await getMyManageGroups()\n      manageGroupListRef.value?.updateRefresh(false)\n    }\n\n    /**\n     * 跳转我的审核记录页面\n     */\n    function goToRecord() {\n      uni.navigateTo({ url: `/package-community/pages/group-record/group-record` })\n    }\n\n    /**\n     * 退出圈子 我加入的圈子 退出圈子删除数据\n     */\n    async function handleUnFollowGroup(groupId: string) {\n      if (userId.value === loginUserId.value && pageType.value !== 'choose') {\n        const targetIndex = userGroups.findIndex((i) => i.id === groupId)\n        userGroups.splice(targetIndex, 1)\n      }\n    }\n\n    onMounted(() => {\n      getUserGroupList()\n      // #ifdef  MP-WEIXIN\n      allGroupRef.value?.getGroupTypeList()\n      // #endif\n    })\n\n    /**\n     * 选择圈子 退出上一页\n     */\n    function handleSelectedGroup(info: GroupInfo) {\n      uni.setStorageSync('currentGroupId', info.id)\n      uni.setStorageSync('currentGroupName', info.groupName)\n      uni.navigateBack({ delta: 1 })\n    }\n\n    return {\n      pageType,\n      selectedGroupId,\n      isLogin,\n      userId,\n      loginUserId,\n      tabs,\n      currentTab,\n      userGroups,\n      isEnd,\n      getUserInfo,\n      onRefresh,\n      onScrolltolower,\n      handleTabChange,\n      groupFollowStatus,\n      myManageGroups,\n      myManagePageNoIsEnd,\n      onScrolltolowerMyManageGroups,\n      onRefreshMyManageGroups,\n      goToRecord,\n      handleUnFollowGroup,\n      handleSelectedGroup\n    }\n  },\n  async onLoad(option: { id: string; type?: string; selected?: string }) {\n    this.userId = option.id\n    this.pageType = option.type || ''\n    this.selectedGroupId = option.selected || ''\n\n    this.isLogin && (await this.getUserInfo())\n    uni.setNavigationBarTitle({\n      title: this.userId === this.loginUserId ? '我的圈子' : 'Ta的圈子'\n    })\n  },\n  onShow() {\n    document.body.style.overflow = 'hidden'\n  },\n  onHide() {\n    document.body.style.overflow = ''\n  },\n  // #ifdef  H5\n  mounted() {\n    // 解决safari浏览器底部操作栏遮挡问题\n    document.body.style.overflow = 'hidden'\n    function toSafariHacks() {\n      let windowsVH = window.innerHeight\n      const node = document.querySelector('.user-groups') as AnyObject\n      node?.style.setProperty('--vh', windowsVH + 'px')\n    }\n    toSafariHacks()\n    window.addEventListener('resize', function () {\n      toSafariHacks()\n    })\n  },\n  onUnload() {\n    document.body.style.overflow = ''\n  }\n  // #endif\n})\n</script>\n\n<style lang=\"scss\" scoped>\n@import './index.scss';\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-community/pages/user-groups/user-groups.vue'\nwx.createPage(MiniProgramPage)","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-community/pages/topic-home/topic-home.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"my-content-list\">\n    <view id=\"tab\" class=\"sp-header-tabs\">\n      <sp-tabs underline :menus=\"tabs\" :active-tab=\"currentTab\" @on-click=\"handleTabChange\" />\n    </view>\n\n    <!-- 我发布的内容列表 -->\n    <view v-show=\"currentTab === 0\" class=\"my-content\">\n      <view v-if=\"contentList.length === 0 && contentIsEnd\" class=\"my-content-none font-normal\">\n        <image :src=\"contentNoneIcon\" />\n        <text>发布第一条动态吧</text>\n      </view>\n\n      <view class=\"my-content-list\">\n        <view v-for=\"item in contentList\" :key=\"item.id\" class=\"my-content-item\">\n          <content-card class=\"content-card\" :info=\"item\" type=\"myContentList\" @get-my-contents=\"getMyContents\">\n            <image :src=\"iconMore\" class=\"more-icon\" @click.stop=\"openPopup(item.id)\" />\n          </content-card>\n        </view>\n        <view v-if=\"contentList.length && contentIsEnd\" class=\"no-more font-normal\">-没有更多内容了哦-</view>\n      </view>\n    </view>\n\n    <!-- 我发布的评论列表 -->\n    <view v-show=\"currentTab === 1\" class=\"my-comment\">\n      <view v-if=\"commentList && commentList.length === 0\" class=\"my-comment-none\">\n        <image :src=\"contentNoneIcon\" />\n        <text>快去写一条评论吧</text>\n      </view>\n\n      <view class=\"my-comment-list\">\n        <view v-for=\"item in commentList\" :key=\"item.id\" class=\"my-comment-item\">\n          <view class=\"my-comment-item-header justify-between\">\n            <view class=\"user-info\">\n              <image :src=\"item.commenterAvatar || defaultAvatar\" class=\"user-info-avatar\" />\n              <view class=\"user-info-center\">\n                <text class=\"user-info-name\">{{ item.commenterName }}</text>\n\n                <!--approvalStatus   0-待提交 1-待审批 2-审批通过 3-审批驳回-->\n                <view v-if=\"item.approvalStatus === 1\" class=\"comment-status0\">审核中，请耐心等待</view>\n                <view v-else-if=\"item.approvalStatus === 3\" class=\"comment-status2\" @click.stop=\"goToReson(item.id)\">\n                  审核未通过，查看原因 >\n                  <!-- <navigator  url=\"/package-comunity/pages/audit-rejection\" hover-class=\"none\">审核未通过，查看原因  ></navigator> -->\n                </view>\n              </view>\n            </view>\n            <view class=\"right-btn\">\n              <image :src=\"iconMore\" class=\"more-icon\" @click=\"openPopup(item.id)\" />\n            </view>\n          </view>\n\n          <!-- 评论内容 -->\n          <view class=\"my-comment-item-detail font-normal\">\n            {{ item.commentContent }}\n          </view>\n\n          <!-- 原帖 -->\n          <view class=\"my-comment-item-content\" :class=\"{ gray: !!item.pcomment }\">\n            <!-- 存在上级评论 -->\n            <view v-if=\"item.pcomment\" class=\"has-pcomment\">\n              <view v-if=\"item.pcomment.commentContent\" class=\"pcomment\">\n                <view class=\"name\">{{ item.pcomment.commenterName }}：</view>\n                <view class=\"content\">{{ item.pcomment.commentContent }}</view>\n              </view>\n              <view v-else class=\"content-has-delete\">该内容已被删除</view>\n            </view>\n\n            <view :class=\"{ 'innder-box': !!item.pcomment }\" @click=\"goToContentDetail(item.contentId)\">\n              <!-- 原文内容 -->\n              <view v-if=\"item.content\">\n                <view class=\"content-header font-normal\">\n                  <text>原文 |</text>\n                  <text v-if=\"item.content.topicName\" class=\"topic-name\" @click.stop=\"goToTopic(item.content.topicId)\"># {{ item.content.topicName }} #</text>\n                  <text class=\"content-detail\">{{ item.content.detail }}</text>\n                </view>\n                <view class=\"content-date\">{{ item.content.releaseTime }}</view>\n                <view v-if=\"item.content.thumbUrls && item.content.thumbUrls.length\" class=\"content-pic\">\n                  <image :src=\"item.content.thumbUrls[0]\" class=\"content-image\" @click.stop=\"handleImagePreview(item.content.thumbUrls)\" />\n                </view>\n              </view>\n\n              <view v-else class=\"content-has-delete\">该内容已被删除</view>\n            </view>\n          </view>\n\n          <!-- 评论时间 -->\n          <view class=\"my-comment-item-footer font-regular\">\n            <view class=\"time\">{{ formatTime(item.releaseTime) }}</view>\n          </view>\n        </view>\n        <view v-if=\"commentList.length && commentIsEnd\" class=\"no-more font-normal\">-没有更多内容了哦-</view>\n      </view>\n    </view>\n\n    <!-- 底部功能选择 -->\n    <uni-popup ref=\"popupRef\" class=\"uni-popup\" type=\"bottom\" pop-style=\"z-index:2000\" @touchmove.stop.prevent=\"() => {}\">\n      <view class=\"pop-select\">\n        <view class=\"list\">\n          <view class=\"item\" @click=\"deleteHandler\">删除</view>\n        </view>\n        <view class=\"line\" />\n        <view class=\"cancel item\" @click=\"closePopup\">取消</view>\n      </view>\n    </uni-popup>\n  </view>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref, reactive, inject, Ref } from 'vue'\nimport { getMyContentList, getMyCommentList, deleteContent, deleteComment, getMultiVote } from '@src/api/community'\nimport { formatTime } from '@src/util/date-time'\nimport ContentCard from '@src/pages/community/components/content-card/content-card.vue'\nimport { throttle } from '@src/lib/lodash'\nimport { onLoad, onShow, onHide, onPullDownRefresh, onReachBottom } from '@dcloudio/uni-app'\n\nonLoad((options: any) => {\n  currentTab.value = Number(options.currentTab)\n})\n\n// #ifdef H5\nconst resize = throttle(\n  () => {\n    const $header = document.getElementsByClassName('uni-page-head')[0] as HTMLElement\n    const top = $header.offsetHeight + $header.offsetTop\n    ;(document.getElementById('tab') as HTMLElement).style.top = `${top}px`\n  },\n  300,\n  {\n    trailing: false\n  }\n)\n// #endif\n\nonShow(() => {\n  refreshList()\n  // #ifdef H5\n  window.addEventListener('resize', resize, false)\n  // #endif\n})\n\n// #ifdef H5\nonHide(() => {\n  window.removeEventListener('resize', resize)\n})\n// #endif\n\nonPullDownRefresh(refreshList)\n\nonReachBottom(() => {\n  if (currentTab.value === 0 && !contentIsEnd.value) {\n    contentPageNo.value++\n    getMyContents()\n  }\n  if (currentTab.value === 1 && !commentIsEnd.value) {\n    commentPageNo.value++\n    getMyComments()\n  }\n})\n\nconst popupRef: Ref<SpPopup | null> = ref(null)\n\nconst gdp = inject('$gdp') as GeneratorDynamicPicFunc<string[]>\nconst [contentNoneIcon, defaultAvatar, iconMore] = gdp(['content-none.png', 'icon-default-avatar.png', 'icon-more.png'])\n\nconst tabs = [\n  { name: '动态', value: 0 },\n  { name: '评论', value: 1 }\n]\n\nfunction closePopup() {\n  popupRef.value?.close()\n}\n/**\n * 切换tab\n */\nlet currentTab = ref(0)\nfunction handleTabChange(value: number) {\n  currentTab.value = value\n  refreshList()\n}\n\n/**\n * 获取我的发布内容\n */\nlet contentList: Array<AnyObject> = reactive([])\nlet contentPageNo = ref(1)\nlet contentIsEnd = ref(false)\nasync function getMyContents() {\n  try {\n    const { total, data } = (await getMyContentList({\n      pageNo: contentPageNo.value,\n      like: true\n    })) as AnyObject\n    contentPageNo.value === 1 && contentList.splice(0)\n    contentList.push(...data)\n    let contentIds: string[] = []\n    contentList.forEach((item: AnyObject) => {\n      if (item.contentType === 5) {\n        contentIds.push(item.id)\n      }\n    })\n    if (contentIds.length > 0) {\n      getVote(contentIds)\n    }\n    contentIsEnd.value = contentList.length === total\n  } catch (error) {}\n}\n\nasync function getVote(ids: string[]) {\n  try {\n    const data = (await getMultiVote({ contentIds: ids.toString() })) as AnyObject\n    let idList: string[] = []\n    for (let key in data) {\n      idList.push(key)\n      for (let o in data[key]) {\n        if (o === 'options') {\n          data[key][o].map((item: AnyObject) => {\n            item.checked = false\n          })\n        }\n      }\n    }\n    contentList.forEach((item: AnyObject) => {\n      for (var key in data) {\n        if (item.id === key) {\n          item.vote = data[key]\n        }\n      }\n    })\n    console.log(contentList, 'contentList')\n  } catch {}\n}\n\n/**\n * 获取我的发布评论\n */\nlet commentList: Array<AnyObject> = reactive([])\nlet commentPageNo = ref(1)\nlet commentIsEnd = ref(false)\nasync function getMyComments() {\n  try {\n    const { total, data } = (await getMyCommentList({\n      pageNo: commentPageNo.value,\n      like: true\n    })) as AnyObject\n    commentPageNo.value === 1 && commentList.splice(0)\n    commentList.push(...data)\n    commentIsEnd.value = commentList.length === total\n  } catch (error) {}\n}\n\n/**\n * 删除我的发布、评论\n */\nlet currentCotentId = ref('')\nlet currentCommentId = ref('')\n\nfunction openPopup(id: string) {\n  currentTab.value === 0 ? (currentCotentId.value = id) : (currentCommentId.value = id)\n  popupRef.value?.open()\n}\n\nasync function deleteHandler() {\n  try {\n    currentTab.value === 0 ? await deleteContent(currentCotentId.value) : await deleteComment(currentCommentId.value)\n    uni.showToast({\n      title: '删除成功'\n    })\n    closePopup()\n    currentTab.value === 0\n      ? contentList.splice(\n          contentList.findIndex((i) => i.id === currentCotentId.value),\n          1\n        )\n      : commentList.splice(\n          commentList.findIndex((i) => i.id === currentCommentId.value),\n          1\n        )\n  } catch (error) {}\n}\n\n/**\n * 预览图片\n */\nfunction handleImagePreview(pics: string[]) {\n  uni.previewImage({\n    current: 0,\n    urls: pics //预览图片的地址，必须要数组形式，如果不是数组形式就转换成数组形式就可以\n  })\n}\n\n/**\n * 跳转内容详情\n */\nfunction goToContentDetail(id: string) {\n  uni.navigateTo({\n    url: `/package-community/pages/content-detail/content-detail?id=${id}&type=content`\n  })\n}\n\n/**\n * 跳转话题详情\n */\nfunction goToTopic(id: string) {\n  uni.navigateTo({\n    url: `/package-community/pages/topic-home/topic-home?id=${id}`\n  })\n}\n\n/**\n * 跳转我的评论被驳回理由页面\n */\nfunction goToReson(id: string) {\n  uni.navigateTo({\n    url: `/package-community/pages/audit-rejection/audit-rejection?id=${id}&type=comments`\n  })\n}\n\n/**\n * 刷新数据\n */\nfunction refreshList() {\n  if (currentTab.value === 0) {\n    contentPageNo.value = 1\n    contentIsEnd.value = false\n    getMyContents()\n  } else {\n    commentPageNo.value = 1\n    commentIsEnd.value = false\n    getMyComments()\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import './index.scss';\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-community/pages/my-content-list/my-content-list.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"manage\">\n    <view class=\"title\">选择管理模块</view>\n    <view class=\"content\" @click=\"goTouserManage\">\n      <view class=\"text\">圈内用户管理</view>\n      <image :src=\"comunityRight\" style=\"width: 32rpx; height: 32rpx\" />\n    </view>\n  </view>\n</template>\n\n<script lang=\"ts\">\nimport { inject, defineComponent, ref } from 'vue'\nexport default defineComponent({\n  name: 'GroupManage',\n  setup() {\n    const gdp = inject('$gdp') as GeneratorDynamicPicFunc<string | string[]>\n    const comunityRight = gdp('right.png')\n    let groupId = ref('')\n\n    function goTouserManage() {\n      uni.navigateTo({\n        url: `/package-community/pages/group-user/group-user?groupId=${groupId.value}`\n      })\n    }\n\n    return {\n      comunityRight,\n      groupId,\n      goTouserManage\n    }\n  },\n  onLoad(option: { groupId: string }) {\n    this.groupId = option.groupId\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.manage {\n  padding: 0 40rpx;\n\n  .title {\n    font-size: 56rpx;\n    font-family: SourceHanSansSC-Medium, SourceHanSansSC;\n    font-weight: 500;\n    color: #292c2e;\n    margin: 48rpx 0;\n  }\n\n  .content {\n    background: #fff;\n    border-radius: 2rpx;\n    border: 1rpx solid #dbdcdd;\n    display: flex;\n    padding: 41rpx 40rpx;\n    justify-content: space-between;\n    align-items: center;\n\n    .text {\n      font-size: 32rpx;\n      font-family: SourceHanSansSC-Regular, SourceHanSansSC;\n      font-weight: 400;\n      color: #292c2e;\n    }\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-community/pages/group-manage/group-manage.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"groupRecord\">\n    <view class=\"tab\">\n      <view v-for=\"(item, index) in tabList\" :key=\"index\" class=\"text\" :class=\"activeTab === item.value ? 'active' : ''\" @click=\"handleTabChange(item.value)\">\n        {{ item.name }}\n        <view v-if=\"activeTab === item.value\" class=\"line\" />\n      </view>\n    </view>\n    <view>\n      <view v-for=\"(item, index) in dataList\" :key=\"index\" class=\"recordList\">\n        <view class=\"item\">\n          <view class=\"left\">\n            <image mode=\"aspectFill\" :src=\"item.groupLogoUrl\" />\n          </view>\n          <view class=\"right\">\n            <view>\n              <view class=\"title\">{{ item.groupName }}{{ item.groupStatus === 2 ? '（已下架）' : '' }}</view>\n              <view class=\"note\">\n                <view class=\"text\">申请时间：{{ item.createTime }}</view>\n              </view>\n            </view>\n            <view class=\"btn\">\n              <view class=\"apply\" @click=\"openPopup(item.applyReason)\">申请理由</view>\n              <!-- <button class=\"follow\">申请理由</button> -->\n            </view>\n          </view>\n        </view>\n        <view v-if=\"item.approvalStatus === 3\" class=\"bottom\">\n          <view class=\"reason\">\n            <text class=\"title\">驳回理由：</text>\n            <text class=\"content\">{{ item.remark }}</text>\n          </view>\n          <view class=\"time\">\n            <text class=\"title\">驳回时间：</text>\n            <text class=\"content\">{{ item.finalApprovalTime }}</text>\n          </view>\n        </view>\n        <view v-if=\"activeTab === 2\" class=\"bottom\">\n          <view class=\"time\">\n            <text class=\"title\">通过时间：</text>\n            <text class=\"content\">{{ item.finalApprovalTime }}</text>\n          </view>\n        </view>\n      </view>\n      <!-- <view class=\"no-more\" v-if=\"!loadMore\">-没有更多内容了哦-</view> -->\n    </view>\n    <uni-popup ref=\"popup\" :pop-style=\"'z-index:2000'\" class=\"uniPopup\" type=\"center\" @touchmove.stop.prevent=\"() => {}\">\n      <pop-dialog class=\"pop-dialog\" :content=\"applyReason\" :show-cancel=\"false\" title=\"申请理由\" @confirm=\"handleConfirm\" />\n    </uni-popup>\n  </view>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, reactive, getCurrentInstance } from 'vue'\nimport { getApprovalRecord } from '@api/community'\nimport popDialog from '../../components/pop-dialog/pop-dialog.vue'\nexport default defineComponent({\n  name: 'GroupRecord',\n  components: {\n    'pop-dialog': popDialog\n  },\n  setup() {\n    let activeTab = ref(2)\n    let loadMore = ref(false)\n    let pageNo = ref(1)\n    let dataList = reactive([]) as Array<GroupRecordInfo>\n    let applyReason = ref('')\n    const instance = getCurrentInstance()\n\n    function openPopup(reason: string) {\n      applyReason.value = reason\n      const popup = instance?.refs.popup as { open: Fn }\n      popup.open()\n    }\n    // 菜单切换\n    function handleTabChange(value: number) {\n      if (activeTab.value === value) {\n        return\n      }\n      activeTab.value = value\n      pageNo.value = 1\n      dataList.length = 0\n      getApprovalRecordList()\n    }\n    // 弹框选择取消\n    function handleConfirm() {\n      const popup = instance?.refs.popup as { close: Fn }\n      popup.close()\n    }\n    function getApprovalRecordList() {\n      let obj = {\n        approvalStatus: activeTab.value,\n        pageNo: pageNo.value,\n        pageSize: 10\n      }\n      getApprovalRecord(obj).then((res: any) => {\n        dataList.push(...res.data)\n        pageNo.value++\n        loadMore.value = !(dataList.length === res.data.total)\n      })\n    }\n\n    return {\n      tabList: [\n        { name: '已通过', value: 2 },\n        { name: '申请中', value: 1 },\n        { name: '已驳回', value: 3 }\n      ],\n      activeTab,\n      loadMore,\n      pageNo,\n      dataList,\n      applyReason,\n      openPopup,\n      handleTabChange,\n      handleConfirm,\n      getApprovalRecordList\n    }\n  },\n  onLoad() {\n    this.getApprovalRecordList()\n  },\n  onReachBottom() {\n    if (this.loadMore) {\n      this.getApprovalRecordList()\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n@import './index.scss';\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-community/pages/group-record/group-record.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"group-record\">\n    <view class=\"tabs\">\n      <sp-tabs underline :menus=\"tabs\" @on-click=\"handleTabChange\" />\n    </view>\n\n    <view class=\"tab-panel\">\n      <topic-list v-if=\"topicLists.length\" :list=\"topicLists\" :is-end=\"isEnd\" btn-text=\"已关注\" @btn-click=\"handleUnFollow\" />\n      <view v-if=\"topicLists.length === 0 && isEnd\" class=\"no-topic\">\n        <image :src=\"noFollowIcon\" />\n        <view class=\"text\">暂无关注内容</view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, reactive, onMounted, inject } from 'vue'\nimport { getMyTopic, setUnfollowTopic } from '@src/api/community'\nimport topicList from '../../components/topic-list/topic-list.vue'\nimport { useUserStore } from '@src/pinia/user'\n\nexport default defineComponent({\n  name: 'MyFollow',\n  components: {\n    topicList\n  },\n  // eslint-disable-next-line max-lines-per-function\n  setup() {\n    const gdp = inject('$gdp') as GeneratorDynamicPicFunc<string>\n    const noFollowIcon = gdp('no-follow.png')\n\n    /**\n     * 用户信息\n     */\n    let loginUserId = ref('')\n    async function getUserInfo() {\n      const user = await useUserStore().getUserInfo()\n      loginUserId.value = user.accountId\n    }\n\n    /**\n     * 切换tab\n     */\n    let currentTab = ref(1)\n    function handleTabChange(value: number) {\n      currentTab.value = value\n    }\n\n    /**\n     * 获取我关注的话题\n     */\n    let topicLists: Array<TopicInfo> = reactive([])\n    let pageNo = ref(1)\n    let isEnd = ref(false)\n    async function getMyFollowTopic() {\n      try {\n        const res = (await getMyTopic(loginUserId.value, { pageNo: pageNo.value, pageSize: 15 })) as AnyObject\n        pageNo.value === 1 && topicLists.splice(0)\n        topicLists.push(...res.data)\n        isEnd.value = topicLists.length === res.total\n      } catch (error) {}\n    }\n\n    /**\n     * 取消关注话题\n     */\n    async function handleUnFollow(topic: TopicInfo) {\n      uni.showModal({\n        title: '提示',\n        content: '确认不再关注了吗？',\n        confirmColor: '#000',\n        success: async (res) => {\n          if (res.confirm) {\n            await setUnfollowTopic(loginUserId.value, topic.id)\n            const targetIndex = topicList.findIndex((i: any) => i.id === topic.id)\n            topicList.splice(targetIndex, 1)\n            uni.showToast({\n              title: '取消关注成功',\n              duration: 1000,\n              icon: 'none'\n            })\n          }\n        }\n      })\n    }\n\n    onMounted(async () => {\n      await getUserInfo()\n      await getMyFollowTopic()\n    })\n\n    return {\n      getUserInfo,\n      tabs: [{ name: '话题', value: 1 }],\n      currentTab,\n      handleTabChange,\n      getMyFollowTopic,\n      topicLists,\n      isEnd,\n      pageNo,\n      handleUnFollow,\n      noFollowIcon\n    }\n  },\n  onPullDownRefresh() {\n    this.isEnd = false\n    this.pageNo = 1\n    this.getMyFollowTopic()\n  },\n  onReachBottom() {\n    if (!this.isEnd) {\n      this.pageNo++\n      this.getMyFollowTopic()\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n@import './index.scss';\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-community/pages/my-follow/my-follow.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"content-launch\">\n    <!-- 文字内容 -->\n    <view class=\"content-launch-text\">\n      <editor id=\"editor\" class=\"content-launch-textarea-value\" placeholder=\"编辑动态内容\" @ready=\"onEditorReady\" @input=\"getEditorContent\" />\n    </view>\n\n    <!-- 上传图片 -->\n    <view class=\"content-launch-images\">\n      <drag-image\n        :enable-del=\"true\"\n        :row-num=\"3\"\n        :img-list=\"uploadImgList\"\n        :ori-list=\"originalImageList\"\n        @move-end-list=\"toMoveEndList\"\n        @add-img=\"toChooseImg\"\n        @del-img=\"toDelImg\"\n      />\n    </view>\n\n    <!-- 选择圈子 -->\n    <view class=\"content-launch-group\" @click=\"handleGroupSelect\">\n      <image class=\"content-launch-group-icon\" mode=\"asceptFit\" :src=\"groupName ? groupIconBlue : groupIconDark\" />\n      <view class=\"content-launch-group-name\" :style=\"groupName ? '' : 'color:#1A1A1A'\">{{ groupName ? groupName : '请选择圈子' }}</view>\n      <image class=\"content-launch-group-arrow\" mode=\"asceptFit\" :src=\"iconRight\" />\n    </view>\n\n    <!-- 选择话题 -->\n    <view class=\"content-launch-group\" @click=\"handleTopicSelect\">\n      <image class=\"content-launch-group-icon\" mode=\"asceptFit\" :src=\"formData.topicId ? topicIconBlue : topicIconDark\" />\n      <view class=\"content-launch-group-name\" :style=\"formData.topicId ? '' : 'color:#1A1A1A'\">\n        {{ formData.topicId ? topicName : '请选择话题' }}\n      </view>\n      <image class=\"content-launch-group-arrow\" mode=\"asceptFit\" :src=\"iconRight\" />\n    </view>\n\n    <!-- 选择位置 -->\n    <view class=\"content-launch-group\" @click=\"getSettingLocation\">\n      <image class=\"content-launch-group-icon\" mode=\"asceptFit\" :src=\"formData.geoPosition ? locationIconBlue : locationIconDark\" />\n      <view class=\"content-launch-group-name\" :style=\"formData.geoPosition ? '' : 'color:#1A1A1A'\">{{ formData.geoPosition || '请选择位置' }}</view>\n      <image class=\"content-launch-group-arrow\" mode=\"asceptFit\" :src=\"iconRight\" />\n    </view>\n\n    <!-- 违规提示 -->\n    <view v-if=\"checkResultFlag\" class=\"content-launch-tips\">内容涉及违规，请修改</view>\n\n    <!-- 发布按钮 -->\n    <view class=\"content-launch-option\">\n      <button\n        class=\"content-launch-option-button\"\n        :class=\"[!formData.detail || !formData.groupId ? 'content-launch-option-button-disabled' : 'content-launch-option-button-active']\"\n        :disabled=\"!formData.detail || !formData.groupId\"\n        @click=\"toSubmitForm\"\n      >\n        发布\n      </button>\n    </view>\n    <uni-popup ref=\"popup\" type=\"center\" class=\"clearSafePadding\" @touchmove.stop.prevent=\"() => {}\">\n      <pop-dialog\n        title=\"确认发布\"\n        :content=\"levelFlag === 1 ? '内容可能涉及违规，发布内容需要进入人工审核阶段' : '内容可能涉及违规，发布内容可能会被屏蔽'\"\n        mode=\"launch\"\n        @confirm=\"toConfirmRelease\"\n        @cancel=\"closePopup\"\n      />\n    </uni-popup>\n  </view>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, reactive, inject, getCurrentInstance, onMounted, onUnmounted, nextTick, Ref } from 'vue'\nimport dragImage from '../../components/drag-image/drag-image.vue'\nimport popDialog from '../../components/pop-dialog/pop-dialog.vue'\nimport { toFileUpload, toGreenCheck, toSensitiveWordCheck, toContentLaunch, getLastGroup } from '@src/api/community'\nimport { goBackFn } from '@util/go-back'\nimport { useUserStore } from '@src/pinia/user'\n\nexport default defineComponent({\n  name: 'ContentLaunch',\n  components: {\n    dragImage,\n    popDialog\n  },\n  // eslint-disable-next-line max-lines-per-function\n  setup() {\n    onMounted(() => {\n      // #ifdef H5\n      history.pushState(null, '', document.URL)\n      // goBackFn.addEvent('2', goBack)\n      // #endif\n    })\n\n    onUnmounted(() => {\n      // #ifdef H5\n      goBackFn.removeEvent('2', goBack)\n      // #endif\n      uni.hideLoading()\n    })\n\n    const gdp = inject('$gdp') as GeneratorDynamicPicFunc<string[]>\n    const [locationIconDark, locationIconBlue, topicIconDark, topicIconBlue, groupIconDark, groupIconBlue, iconRight] = gdp([\n      'icon-location-dark.png',\n      'icon-location-blue.png',\n      'topic-icon-dark.png',\n      'topic-icon-blue.png',\n      'group-icon-dark.png',\n      'group-icon-blue.png',\n      'icon-right.png'\n    ])\n    const instance = getCurrentInstance()\n\n    const uploadImgList = reactive([]) as Array<{ url: string; checkResults?: number }>\n    const originalImageList = reactive([]) as Array<{ url: string; checkResults?: number }>\n    const lastGroup = reactive({})\n    let contentFrom = ref('')\n    let from = ref('')\n    let levelFlag = ref(0)\n    let checkResultFlag = ref(false)\n\n    /**\n     * 用户信息\n     */\n    let loginUserId = ref('')\n    async function getUserInfo() {\n      const user = await useUserStore().getUserInfo()\n      loginUserId.value = user.accountId\n    }\n\n    /**\n     * 发表内容保存字段对象\n     */\n    const formData = reactive({\n      detail: '',\n      pictureUrls: [] as Array<string>,\n      contentType: 2,\n      groupId: '',\n      topicId: '',\n      longitude: '',\n      latitude: '',\n      geoPosition: ''\n    })\n    let groupName = ref('')\n    let topicName = ref('')\n    let displayGeoPosition = ref('')\n\n    // 编辑器初始化完成时触发\n    // let editorCtx: AnyObject | undefined = reactive({})\n    let editorCtx: any = {}\n    let editorHtml = ref('')\n    function onEditorReady(this: any) {\n      nextTick(() => {\n        const query = uni.createSelectorQuery().in(this)\n        query\n          .select('#editor')\n          .context((res) => {\n            editorCtx = res.context\n          })\n          .exec()\n      })\n    }\n    function getEditorContent(e: any) {\n      // formData.detail = e.detail.text.substring(0, e.detail.text.length - 1) // 删除最后一个换行符,否则会影响长度的判断\n      // editorHtml.value = e.detail.html\n      // TODO 输入无效，没办法获取值\n      editorCtx?.getContents({\n        success: (res: AnyObject) => {\n          formData.detail = res.text.substring(0, res.text.length - 1) // 删除最后一个换行符,否则会影响长度的判断\n          editorHtml.value = res.html\n        }\n      })\n    }\n\n    async function toMoveEndList(e: Array<{ url: string }>, ori: Array<{ url: string }>) {\n      uploadImgList.length = 0\n      uploadImgList.push(...e)\n      originalImageList.length = 0\n      originalImageList.push(...ori)\n    }\n    async function toChooseImg(params: string) {\n      const count = 9 - uploadImgList.length\n      uni.chooseImage({\n        count, // 默认9\n        sizeType: ['compressed'], // 指定压缩图，默认二者都有\n        sourceType: ['album'], // 从相册选择\n        success: async (res: any) => {\n          uni.showLoading({\n            title: '上传中',\n            mask: true\n          })\n          let resSize = res.tempFiles[0].size\n          const isLt50M = resSize / 1024 / 1024 < 50\n          if (!isLt50M) {\n            uni.showToast({\n              title: '上传的图片大小不超过50M',\n              icon: 'none',\n              duration: 2000,\n              mask: true\n            })\n            return\n          }\n          const filePaths = res.tempFilePaths\n          let map = [] as Array<{ url: string; thumbUrl: string }>\n          for (let i = 0; i < filePaths.length; i++) {\n            map[i] = (await toFileUpload({\n              fileType: 'image',\n              filePath: filePaths[i],\n              name: 'file',\n              hideLoading: true\n            })) as { url: string; thumbUrl: string }\n          }\n          uni.hideLoading()\n          toDealImgList(map)\n        }\n      })\n    }\n    function toDealImgList(map: Array<{ url: string; thumbUrl: string }>) {\n      let arr = [] as Array<string>\n      let oriArr = [] as Array<string>\n      for (let key in map) {\n        if (map.hasOwnProperty(key)) {\n          oriArr.push(map[key].url)\n          arr.push(map[key].thumbUrl)\n        }\n      }\n      for (let i = 0; i < arr.length; i++) {\n        uploadImgList.unshift({ url: arr[i] })\n      }\n      for (let i = 0; i < oriArr.length; i++) {\n        originalImageList.unshift({ url: oriArr[i] })\n      }\n    }\n    async function toDelImg(e: number) {\n      uploadImgList.splice(e, 1)\n      originalImageList.splice(e, 1)\n    }\n\n    /**\n     * 选择圈子\n     */\n    function handleGroupSelect() {\n      uni.navigateTo({\n        url: `/package-community/pages/user-groups/user-groups?id=${loginUserId.value}&type=choose&selected=${formData.groupId}`\n      })\n    }\n\n    /**\n     * 选择话题\n     */\n    function handleTopicSelect() {\n      uni.navigateTo({\n        url: `/package-community/pages/choose-topic/choose-topic?selected=${formData.topicId}`\n      })\n    }\n\n    /**\n     * 选择位置\n     */\n    let locationId = ref('')\n    async function getSettingLocation() {\n      // 获取权限跳转选择位置\n      // #ifdef MP-WEIXIN\n      try {\n        const res = await wx.getSetting()\n        if (!res.authSetting['scope.userLocation']) {\n          wx.authorize({\n            scope: 'scope.userLocation',\n            success: () => {\n              console.log(res)\n              getLocation()\n            },\n            fail() {\n              uni.navigateTo({\n                url: 'package-community/pages/choose-location/choose-location?latitude=&longitude=&locationId='\n              })\n            }\n          })\n        } else {\n          getLocation()\n        }\n      } catch (err) {}\n      // #endif\n      // #ifdef H5\n      getLocation()\n      // #endif\n    }\n    function getLocation() {\n      uni.showLoading({\n        title: '定位中，请稍后',\n        mask: true\n      })\n      uni.getLocation({\n        type: 'gcj02',\n        success: (res) => {\n          uni.navigateTo({\n            url: `/package-community/pages/choose-location/choose-location?latitude=${res.latitude}&longitude=${res.longitude}&locationId=${locationId.value}`\n          })\n        },\n        complete: () => uni.hideLoading()\n      })\n    }\n    /**\n     * 提交动态\n     */\n    // eslint-disable-next-line max-lines-per-function\n    function toSubmitForm() {\n      if (formData.detail && formData.detail.length > 700) {\n        uni.showToast({\n          icon: 'none',\n          title: '您输入的内容过长，不能超过700字符'\n        })\n        return\n      }\n      uni.showLoading({\n        title: '检测中...',\n        mask: true\n      })\n      formData.pictureUrls = [] // 先清空再赋值\n      originalImageList\n        .filter((item) => item.url)\n        .map((el) => {\n          formData.pictureUrls.push(el.url)\n        })\n      let data = {\n        text: formData.detail,\n        imageUrls: formData.pictureUrls\n      }\n      // 绿网文本和图片预审核\n      toGreenCheck(data)\n        .then((res) => {\n          // 重置levelFlag\n          levelFlag.value = 0\n          let resData = res as AnyObject\n          let checkResults = resData.contentCheckResult.checkResults\n          checkResultFlag.value = resData.contentCheckResult.checkResults !== 1 // 1-文本正常 2-文本违规 3-需要人工审核\n          let imageCheckResultFlag = true\n          resData.imageCheckResult &&\n            resData.imageCheckResult.length > 0 &&\n            resData.imageCheckResult.forEach((item: { imageUrl: string; checkResults: number }, index: number) => {\n              if (originalImageList[index].url === item.imageUrl) {\n                uploadImgList[index]['checkResults'] = item.checkResults\n                if (item.checkResults !== 1) {\n                  imageCheckResultFlag = false\n                } // 是否有图片不符合规定\n              }\n            })\n          if (!checkResultFlag.value) {\n            imageCheckResultFlag && toSensitiveWordCheckAction()\n          }\n          // 绿网审核通过进行敏感词预审核\n          else {\n            toDealEditHtml(resData.contentCheckResult.details, 'level1', checkResults)\n          }\n          uni.hideLoading()\n        })\n        .catch((err) => {\n          // 1、异常情况下，绿网无响应时，持续请求10s,页面显示检测中\n          // 2、超出10s还没有响应，跳过绿网审核，当做绿网放行处理，继续匹配敏感词\n          if (err.errMsg === 'request:fail timeout') {\n            // eslint-disable-next-line max-lines\n            toSensitiveWordCheck({ text: '' })\n          }\n        })\n    }\n\n    const popup: Ref<SpPopup | null> = ref(null)\n\n    function openPopup() {\n      popup.value?.open()\n    }\n    function closePopup() {\n      popup.value?.close()\n    }\n\n    // 处理敏感文字高亮显示\n    function toDealEditHtml(data: Array<{ contexts?: Array<{ context: string }>; context: string }>, flag: string, checkResults?: number) {\n      // 先将之前的文本替换成正常的，否则不修改敏感词继续输入时有bug\n      let str = editorHtml.value.replace(new RegExp('<span style=\"color: red;\">', 'g'), '').replace(new RegExp('</span>', 'g'), '')\n      data.forEach((item) => {\n        if (flag === 'level1') {\n          if (item.contexts && item.contexts.length > 0) {\n            // 存在contexts 为null,说明整段话语义有问题\n            item.contexts.forEach((i) => {\n              str = str.replace(new RegExp(i.context, 'g'), `<span style=\"color: red;\">${i.context}</span>`)\n            })\n            if (checkResults === 3) {\n              levelFlag.value = 1\n              openPopup()\n            }\n          } else if (checkResults === 3 && item.contexts === null) {\n            levelFlag.value = 1\n            openPopup()\n          }\n        } else {\n          str = str.replace(new RegExp(item.context, 'g'), `<span style=\"color: red;\">${item.context}</span>`)\n        }\n      })\n      editorCtx.setContents({\n        html: '<p>' + str + '</p>'\n      })\n      editorCtx.blur()\n    }\n    // 敏感词预审核\n    function toSensitiveWordCheckAction() {\n      uni.showLoading({\n        title: '检测中...',\n        mask: true\n      })\n      toSensitiveWordCheck({ text: formData.detail }).then((res: any) => {\n        uni.hideLoading()\n        if (res && res.length > 0) {\n          let levelArr = res.map((item: AnyObject) => {\n            return item.level\n          })\n          levelFlag.value = levelArr.includes(1) ? 1 : 2 // 1-高 2-低\n          // 高亮显示敏感词\n          toDealEditHtml(res, 'level2')\n          checkResultFlag.value = true\n          openPopup()\n        } else {\n          checkResultFlag.value = false\n          handleRelease()\n        }\n      })\n    }\n    function handleRelease() {\n      // 选择不发布到圈子\n      if (formData.groupId === '0') {\n        formData.groupId = ''\n      }\n      // 选择不显示位置\n      if (formData.geoPosition === '不显示位置') {\n        formData.geoPosition = ''\n      }\n      toContentLaunch(formData).then((res: any) => {\n        if (res) {\n          if (levelFlag.value === 1) {\n            uni.navigateTo({\n              url: '/package-community/pages/my-content-list/my-content-list'\n            })\n          } else {\n            if (from.value) {\n              // #ifdef MP-WEIXIN\n              wx.disableAlertBeforeUnload()\n              // #endif\n              uni.navigateBack({ delta: 1 })\n            } else {\n              uni.switchTab({\n                url: '/pages/community/community'\n              })\n            }\n          }\n        } else {\n          uni.showToast({\n            title: res.message,\n            icon: 'none'\n          })\n        }\n      })\n    }\n\n    // 确认发布\n    function toConfirmRelease() {\n      handleRelease()\n    }\n\n    // 进入页面获取用户上一条发布所在的圈子\n    function getLastGroupInfo() {\n      getLastGroup().then((res: any) => {\n        if (!res) {\n          return\n        }\n        Object.assign(lastGroup, res)\n        formData.groupId = res.id\n        groupName.value = res.groupName\n      })\n    }\n\n    function goBack() {\n      uni.showModal({\n        title: '提示',\n        content: '是否确认退出',\n        success: (res) => {\n          if (res.confirm) {\n            goBackFn.removeEvent('2', goBack)\n            uni.navigateBack({ delta: 1 })\n          } else {\n            history.pushState(null, '', document.URL)\n          }\n        }\n      })\n    }\n\n    return {\n      contentFrom,\n      from,\n      formData,\n      groupName,\n      topicName,\n      displayGeoPosition,\n      locationId,\n      locationIconDark,\n      locationIconBlue,\n      topicIconDark,\n      topicIconBlue,\n      groupIconDark,\n      groupIconBlue,\n      iconRight,\n      levelFlag,\n\n      getLastGroupInfo,\n      getUserInfo,\n      uploadImgList,\n      originalImageList,\n      onEditorReady,\n      getEditorContent,\n      handleGroupSelect,\n      handleTopicSelect,\n      getSettingLocation,\n      checkResultFlag,\n\n      toMoveEndList,\n      toChooseImg,\n      toDelImg,\n      toSubmitForm,\n      closePopup,\n      toConfirmRelease,\n      goBack\n    }\n  },\n  onLoad(option: ContentLaunchOption) {\n    this.getUserInfo()\n    if (option.topicName) {\n      this.topicName = option.topicName\n      this.formData.topicId = option.topicId\n      this.from = option.from\n    } else if (option.groupName) {\n      this.groupName = option.groupName\n      this.formData.groupId = option.groupId\n      this.from = option.from\n    }\n    // 来自首页\n    if (!option.from) {\n      this.getLastGroupInfo()\n    }\n  },\n  onShow() {\n    // 选择后回跳\n    if (uni.getStorageSync('currentGroupId')) {\n      this.formData.groupId = uni.getStorageSync('currentGroupId')\n      this.groupName = uni.getStorageSync('currentGroupName')\n    }\n    if (uni.getStorageSync('currentTopicId')) {\n      this.formData.topicId = uni.getStorageSync('currentTopicId')\n      this.topicName = uni.getStorageSync('currentTopicName')\n    }\n\n    const { geoPosition, locationId, longitude, latitude } = uni.getStorageSync('currentLocation')\n    this.formData.geoPosition = geoPosition || ''\n    this.formData.longitude = longitude || ''\n    this.formData.latitude = latitude || ''\n    this.locationId = locationId || ''\n    // #ifdef H5\n    goBackFn.addEvent('2', this.goBack)\n    // #endif\n    // #ifdef MP-WEIXIN\n    wx.enableAlertBeforeUnload({\n      message: '是否确认退出'\n    })\n    // #endif\n  },\n  onHide() {\n    // #ifdef H5\n    goBackFn.removeEvent('2', this.goBack)\n    // #endif\n    // #ifdef MP-WEIXIN\n    wx.disableAlertBeforeUnload()\n    // #endif\n  },\n  onUnload() {\n    // #ifdef H5\n    goBackFn.removeEvent('2', this.goBack)\n    // #endif\n    // #ifdef MP-WEIXIN\n    wx.disableAlertBeforeUnload()\n    // #endif\n    // 重置所有选择项\n    uni.removeStorageSync('currentGroupId')\n    uni.removeStorageSync('currentGroupName')\n    uni.removeStorageSync('currentTopicId')\n    uni.removeStorageSync('currentTopicName')\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n@import './index.scss';\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-community/pages/content-launch/content-launch.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"choose-topic\">\n    <view class=\"topic-list\">\n      <view v-for=\"(item, key) in topicList\" :key=\"key\" class=\"topic-item\" @click=\"toTopicHome(item)\">\n        <image :src=\"item.logoUrl\" mode=\"\" class=\"topic-logo\" />\n        <view class=\"info\">\n          <view class=\"topic-name\"># {{ item.topicName }} #</view>\n          <view class=\"topic-sub\">\n            <image :src=\"iconEye\" mode=\"\" class=\"icon\" />\n            <text class=\"text\">{{ item.peopleFollowCount }}</text>\n            <image :src=\"iconComment\" mode=\"\" class=\"icon\" />\n            <text class=\"text\">{{ item.contentCount }}</text>\n          </view>\n        </view>\n        <view class=\"radio\">\n          <image :src=\"selectedId !== item.id ? iconRadio : iconRadioChecked\" mode=\"\" class=\"radio-icon\" />\n        </view>\n      </view>\n      <view v-if=\"topicList.length === 0 && isEnd\" class=\"list-no\">暂无话题</view>\n      <view v-if=\"topicList.length && isEnd\" class=\"list-no-more\">-没有更多内容了哦-</view>\n    </view>\n  </view>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, reactive, onMounted, inject } from 'vue'\nimport { getTopicsList } from '@src/api/community'\n\nexport default defineComponent({\n  name: 'ChooseTopic',\n  setup() {\n    const gdp = inject('$gdp') as GeneratorDynamicPicFunc<string[]>\n    const [iconEye, iconComment, iconRadio, iconRadioChecked] = gdp(['icon-eye.png', 'icon-comment.png', 'icon-radio.png', 'icon-radio-checked.png'])\n\n    // 选中的话题id\n    let selectedId = ref('')\n\n    /**\n     * 获取话题数据\n     */\n    let topicList: Array<TopicInfo> = reactive([])\n    let pageNo = ref(1)\n    let isEnd = ref(false)\n    async function getTopics() {\n      const { data, total } = (await getTopicsList({ pageNo: pageNo.value, pageSize: 15, inProcessing: true })) as AnyObject\n      pageNo.value === 1 && topicList.splice(0)\n      topicList.push(...data)\n      isEnd.value = topicList.length === total\n    }\n\n    /**\n     * 跳转话题首页\n     */\n    const toTopicHome = (info: TopicInfo) => {\n      uni.setStorageSync('currentTopicId', selectedId.value === info.id ? '' : info.id)\n      uni.setStorageSync('currentTopicName', selectedId.value === info.id ? '' : info.topicName)\n      uni.navigateBack({ delta: 1 })\n    }\n\n    onMounted(() => {\n      getTopics()\n    })\n    return {\n      selectedId,\n      topicList,\n      isEnd,\n      pageNo,\n      getTopics,\n      toTopicHome,\n      iconRadio,\n      iconRadioChecked,\n      iconEye,\n      iconComment\n    }\n  },\n  onPullDownRefresh() {\n    this.isEnd = false\n    this.pageNo = 1\n    this.getTopics()\n  },\n  onReachBottom() {\n    if (!this.isEnd) {\n      this.pageNo++\n      this.getTopics()\n    }\n  },\n  onLoad(option: { selected: string }) {\n    console.log(option.selected)\n    this.selectedId = option.selected\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n@import './index.scss';\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-community/pages/choose-topic/choose-topic.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"choose-location\">\n    <view v-for=\"(item, index) in poisList\" :key=\"index\" class=\"item\" @click=\"toChoose(item)\">\n      <view class=\"location-info\">\n        <view class=\"title\" :style=\"index === 0 ? 'color:#4E6175 ' : ''\">{{ item.name }}</view>\n        <view v-if=\"item.address\" class=\"address\">{{ item.pname + item.cityname + item.adname + item.address }}</view>\n      </view>\n      <view class=\"img\">\n        <image :src=\"locationId !== item.id ? iconRadio : iconRadioChecked\" mode=\"\" class=\"radio-icon\" />\n      </view>\n    </view>\n    <view v-if=\"poisList.length === 1\" class=\"no-topic\">\n      <view class=\"text\">您未授权获取当前位置</view>\n    </view>\n  </view>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, reactive, inject } from 'vue'\nexport default defineComponent({\n  name: 'ChooseLocation',\n  setup() {\n    const gdp = inject('$gdp') as GeneratorDynamicPicFunc<string[]>\n    const [iconRadio, iconRadioChecked] = gdp(['icon-radio.png', 'icon-radio-checked.png'])\n\n    /**\n     * 获取地址列表\n     */\n    let pageNo = ref(1)\n    let loadMore = ref(true)\n    let poisList: Array<{ name: string; id: string; address: string; pname: string; cityname: string; adname: string }> = reactive([])\n    // 当前选中地址\n    let locationId = ref('')\n    // 当前经纬度\n    let longitude = ref('')\n    let latitude = ref('')\n    async function getLocation() {\n      uni.request({\n        url: 'https://restapi.amap.com/v3/place/around',\n        data: {\n          key: '2e5d90fe8e40741c8f13346ea0dede44',\n          location: `${longitude.value},${latitude.value}`,\n          extensions: 'all',\n          s: 'rsx',\n          sdkversion: '',\n          logversion: '',\n          radius: '3000',\n          page: pageNo.value,\n          types:\n            '010000|020000|030000|040000|050000|060000|070000|080000|090000|100000|110000|120000|130000|140000|150000|160000|170000|180000|190000|200000|220100|220200|970000|990000|991000'\n        },\n        success: function (ops) {\n          let { pois } = ops.data as AnyObject\n          if (pageNo.value === 1) {\n            poisList.splice(0)\n            poisList.unshift({\n              name: '不显示位置',\n              id: '',\n              address: '',\n              pname: '',\n              cityname: '',\n              adname: ''\n            })\n          }\n          poisList.push(...pois)\n          pageNo.value++\n          loadMore.value = !(poisList.length - 1 === pois.length)\n        },\n        fail: function (res) {\n          console.log(res)\n        }\n      })\n    }\n\n    /**\n     * 选取地址\n     */\n    function toChoose(item: AnyObject) {\n      console.log(item)\n      let obj = {\n        geoPosition: item.id ? `${item.cityname.replace('市', '')} ${item.name}` : item.name,\n        locationId: item.id,\n        longitude: item.location ? item.location.split(',')[0] : '',\n        latitude: item.location ? item.location.split(',')[1] : ''\n      }\n      locationId.value = item.id\n      uni.setStorageSync('currentLocation', obj)\n      uni.navigateBack({ delta: 1 })\n    }\n\n    return {\n      iconRadio,\n      iconRadioChecked,\n      poisList,\n      locationId,\n      longitude,\n      latitude,\n      addressText: '',\n      getLocation,\n      toChoose\n    }\n  },\n  onLoad(params: { longitude: string; locationId: string; latitude: string }) {\n    if (params.longitude) {\n      this.locationId = params.locationId\n      this.longitude = params.longitude\n      this.latitude = params.latitude\n      this.getLocation()\n    } else {\n      this.poisList.unshift({\n        name: '不显示位置',\n        id: '0',\n        address: '',\n        pname: '',\n        cityname: '',\n        adname: ''\n      })\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n@import './index.scss';\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-community/pages/choose-location/choose-location.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"audit-content\">\n    <view class=\"img-box\"><image class=\"img\" :src=\"auditRejectionIcon\" /></view>\n    <view class=\"page-title\">审核未通过并被驳回</view>\n    <view class=\"audit-content-item\">\n      <text class=\"label\">驳回原因</text>\n      <text class=\"value\">{{ reason.remark }}</text>\n    </view>\n    <view class=\"audit-content-item\">\n      <text class=\"label\">处理时间</text>\n      <text class=\"value\">{{ reason.createTime }}</text>\n    </view>\n  </view>\n</template>\n\n<script>\nimport defineComponent from './index'\nexport default defineComponent\n</script>\n\n<style lang=\"scss\" scoped>\n@import './index.scss';\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-community/pages/audit-rejection/audit-rejection.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"group-member-list\" style=\"height: 100vh; overflow-y: auto\">\n    <view class=\"list\">\n      <view v-for=\"(item, key) of userList\" :key=\"key\">\n        <view v-if=\"userList[key - 1]?.first != item.first\" class=\"word-index\">\n          {{ item.first }}\n        </view>\n        <view class=\"item flex aic jsb\" @click=\"toUserHome(item.accountId)\">\n          <view class=\"left flex aic\">\n            <image class=\"logo\" :src=\"item.avatarUrl || mineAvatar\" />\n            <view class=\"name\">{{ item.accountName }}</view>\n          </view>\n          <view class=\"right\">\n            <view v-if=\"key !== 0\" class=\"btn remove\" @click.stop=\"remove(item)\">移出圈子</view>\n          </view>\n        </view>\n      </view>\n      <!-- <view class=\"list-no-more\" v-if=\"!loadMore\">-没有更多内容了哦-</view> -->\n    </view>\n    <!-- <user-list :userList=\"userList\" from=\"manage\" @remove=\"remove\"></user-list> -->\n    <!-- <view class=\"user-list-no-more\" v-if=\"!loadMore\">-没有更多内容了哦-</view> -->\n\n    <view class=\"foot\" @click=\"getRecord\">\n      <view class=\"btn\">审核记录</view>\n    </view>\n    <uni-popup ref=\"popup\" type=\"center\" @touchmove.stop.prevent>\n      <pop-dialog :content=\"'确认要移除该用户吗'\" @confirm=\"toUnfollowTa\" @cancel=\"closePop\" />\n    </uni-popup>\n  </view>\n</template>\n\n<script lang=\"ts\">\nimport { inject, defineComponent, ref, reactive } from 'vue'\nimport { removeUser, getMemberList, getManagePaging } from '@api/community'\n\nexport default defineComponent({\n  name: '',\n\n  components: {},\n\n  props: {},\n\n  setup() {\n    const gdp = inject('$gdp') as GeneratorDynamicPicFunc<string | string[]>\n    const mineAvatar = gdp('avatar.png')\n    // 群员列表\n    let userList = reactive([]) as Array<GroupMemberInfo>\n    let pageNo = ref(1)\n    let loadMore = ref(false)\n    let groupLeader = reactive({}) as GroupMemberInfo // 群主信息\n    let groupId = ref('')\n    function toUnfollowTa() {\n      console.log('do something')\n    }\n\n    function closePop() {\n      console.log('do something')\n    }\n\n    function getRecord() {\n      uni.navigateTo({\n        url: `/package-community/pages/manage-record/manage-record?groupId=${groupId.value}`\n      })\n    }\n    // 移出圈子\n    function remove(item: GroupMemberInfo) {\n      uni.showModal({\n        title: '',\n        content: '确定要移除该用户吗',\n        confirmColor: '#000',\n        success: (result) => {\n          if (result.confirm) {\n            removeUser({ accountId: item.accountId, groupId: item.groupId }).then((res: any) => {\n              if (res === true) {\n                let index = userList.findIndex((el) => el.accountId === item.accountId)\n                userList.splice(index, 1)\n                uni.showToast({\n                  title: '移除成功',\n                  duration: 1000,\n                  icon: 'none'\n                })\n              }\n            })\n          }\n        }\n      })\n    }\n    function toGetManagePaging(id: string) {\n      getManagePaging({\n        pageNo: 1,\n        pageSize: 999\n      }).then((res: any) => {\n        res.data.map((group: GroupInfo) => {\n          if (group['id'] === id) {\n            groupLeader = group['groupLeader']\n          }\n        })\n        getUserList(id)\n      })\n    }\n    function getUserList(id: string) {\n      let sendData = {\n        orderBy: 2,\n        pageNo: pageNo.value,\n        pageSize: 15\n      }\n      getMemberList(id, sendData).then((res: any) => {\n        res.data.forEach((item: GroupMemberInfo) => {\n          if (/[a-z]/.test(item.accountNamePinyin[0])) {\n            item.first = item.accountNamePinyin[0]\n          } else {\n            item.first = '#'\n          }\n          userList.push(item)\n        })\n        // userList = userList.concat(res.data.data)\n        if (pageNo.value === 1) {\n          userList.unshift(groupLeader)\n        }\n        pageNo.value++\n        loadMore.value = !(userList.length - 1 === res.data.total)\n      })\n    }\n\n    // 跳至用户详情\n    function toUserHome(accountId: string) {\n      uni.navigateTo({ url: `/package-community/pages/user-home/user-home?id=${accountId}` })\n    }\n\n    return {\n      mineAvatar,\n      userList,\n      pageNo,\n      loadMore,\n      groupLeader,\n      groupId,\n      getRecord,\n      remove,\n      getUserList,\n      toGetManagePaging,\n      toUnfollowTa,\n      closePop,\n      toUserHome\n    }\n  },\n\n  onLoad(option: { groupId: string }) {\n    this.groupId = option.groupId\n  },\n\n  onShow() {\n    this.pageNo = 1\n    this.userList.length = 0\n    this.toGetManagePaging(this.groupId)\n  },\n\n  onReachBottom() {\n    if (this.loadMore) {\n      this.getUserList(this.groupId)\n    }\n  }\n})\n</script>\n\n<style scoped lang=\"scss\">\n@import './index.scss';\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-community/pages/group-user/group-user.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"search-content-box\">\n    <view class=\"search-box\">\n      <uni-search-bar v-model=\"searchValue\" bg-color=\"#fff\" :placeholder=\"placeholder\" :is-show-icon=\"false\" cancel-button=\"none\" clear-button=\"auto\" @confirm=\"handleSearch\" />\n    </view>\n    <view class=\"search-history\">\n      <view class=\"search-history-item\">\n        <text class=\"item-name\">搜索历史</text>\n        <text class=\"item-clear\" @click=\"handleClearHistory\">清空搜索</text>\n      </view>\n      <view class=\"search-history-keywords\">\n        <template v-if=\"historyKeywords.length > 0\">\n          <view v-for=\"(words, index) in historyKeywords\" :key=\"index\" @click=\"goSearchResultPage(words)\">{{ words }}</view>\n        </template>\n        <view v-else class=\"search-history-noHistory\">-- 暂无搜索记录 --</view>\n      </view>\n    </view>\n    <view class=\"search-referral\">\n      <view class=\"search-referral-item\">\n        <text class=\"item-name\">搜索推荐</text>\n      </view>\n      <view class=\"search-referral-keywords\">\n        <view v-for=\"(words, index) in referralKeywords\" :key=\"index\" class=\"search-referral-keywords-item\" @click=\"goSearchResultPage(words)\">\n          {{ words }}\n        </view>\n      </view>\n    </view>\n    <uni-popup ref=\"popup\" type=\"center\" class=\"clearSafePadding\" @touchmove.stop.prevent=\"() => {}\">\n      <pop-dialog title=\"确认清空\" content=\"确认清空历史搜索吗?\" @confirm=\"handleConfirmRelease\" @cancel=\"closePop\" />\n    </uni-popup>\n  </view>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, reactive, Ref } from 'vue'\nimport popDialog from '../../components/pop-dialog/pop-dialog.vue'\n\nexport default defineComponent({\n  name: 'KeywordsSearchCriteria',\n  components: {\n    'pop-dialog': popDialog\n  },\n  // eslint-disable-next-line max-lines-per-function\n  setup() {\n    let searchValue = ref('')\n    let placeholder = ref('请输入关键字')\n    let historyKeywords = reactive([]) as Array<string>\n    let referralKeywords = ['帕萨特', '奔驰', '大众', '大众', '车模型', '车载挂件']\n\n    function handleSearch() {\n      if (searchValue.value) {\n        let keywordsArr = historyKeywords\n        keywordsArr.unshift(searchValue.value.trim()) // 删除前后空格并插入到数组开头\n        keywordsArr = [...new Set(keywordsArr)] // 去重\n        keywordsArr.length > 10 && keywordsArr.pop() // 超过10条删除最后一个\n        historyKeywords = keywordsArr\n        // 将历史搜索存在本地\n        uni.setStorageSync('historyKeywords', historyKeywords)\n        toNavigateToResultPage()\n        searchValue.value = '' // 清空搜索条件\n      }\n    }\n    function toNavigateToResultPage() {\n      uni.navigateTo({\n        url: `/package-comunity/pages/keywords-search-result?keywords=${searchValue.value}`\n      })\n    }\n    function goSearchResultPage(value: any) {\n      searchValue = value\n      toNavigateToResultPage()\n    }\n    const popup: Ref<SpPopup | null> = ref(null)\n    // 弹框选择取消\n    function closePop() {\n      popup.value?.close()\n    }\n    function openPop() {\n      popup.value?.open()\n    }\n    // 弹框选择确认\n    function handleConfirmRelease() {\n      uni.removeStorageSync('historyKeywords')\n      historyKeywords = []\n      closePop()\n    }\n    function handleClearHistory() {\n      openPop()\n    }\n    return {\n      searchValue,\n      placeholder,\n      historyKeywords,\n      referralKeywords,\n      handleSearch,\n      goSearchResultPage,\n      closePop,\n      handleConfirmRelease,\n      handleClearHistory\n    }\n  },\n\n  onShow() {\n    this.historyKeywords = uni.getStorageSync('historyKeywords') || []\n  }\n})\n</script>\n\n<style scoped lang=\"scss\">\n@import './index.scss';\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-community/pages/keywords-search-criteria/keywords-search-criteria.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"search-content\">\n    <view class=\"search-content-box\">\n      <view class=\"box-fixed\">\n        <view class=\"search-box\">\n          <uni-search-bar v-model=\"searchValue\" bg-color=\"#fff\" :placeholder=\"placeholder\" :is-show-icon=\"false\" cancel-button=\"none\" clear-button=\"auto\" @confirm=\"handleSearch\" />\n        </view>\n        <!-- 菜单 -->\n        <view class=\"menus\">\n          <view v-for=\"(item, index) in menuList\" :key=\"index\" :class=\"activeMenu === item.value ? 'active' : ''\" @click=\"handleMenuChange(item.value)\">\n            {{ item.name }}\n          </view>\n        </view>\n      </view>\n      <!-- 内容列表 -->\n      <view v-for=\"(itemContent, index) in dataLists\" :key=\"index\" class=\"search-result\">\n        <view class=\"search-result-item\">\n          <view v-if=\"activeMenu === 'all'\" class=\"search-result-item-header\">\n            <view>\n              <text class=\"searchValue\">{{ keywords + ' ' }}</text>\n              <text>- {{ itemContent.name }}</text>\n            </view>\n            <view class=\"moreIcon\" @click=\"checkMore(itemContent.value)\">></view>\n          </view>\n          <!-- 咨讯 -->\n          <template v-if=\"itemContent.value === 'news'\">\n            <view v-for=\"item in itemContent.newsDataLists\" :key=\"item.id\" class=\"search-result-item-content\">\n              <!--跳转到咨讯的详情页-->\n              <navigator><news-item :item=\"item\" /></navigator>\n            </view>\n          </template>\n          <!-- 内容 -->\n          <template v-if=\"itemContent.value === 'contents'\">\n            <view v-for=\"item in itemContent.contentDataLists\" :key=\"item.id\" class=\"search-result-item-content\">\n              <content-item :item=\"item\" />\n            </view>\n          </template>\n          <!-- 用户 -->\n          <template v-if=\"itemContent.value === 'users'\">\n            <view v-for=\"item in itemContent.usersDataLists\" :key=\"item.id\" class=\"search-result-item-content\">\n              <!--跳转到用户的详情页，点人头像进入那个页面-->\n              <navigator><users-item :item=\"item\" /></navigator>\n            </view>\n          </template>\n          <!-- 圈子 -->\n          <template v-if=\"itemContent.value === 'circles'\">\n            <view v-for=\"item in itemContent.circlesDataLists\" :key=\"item.id\" class=\"search-result-item-content\">\n              <!--跳转到圈子的首页-->\n              <navigator><circles-item :item=\"item\" /></navigator>\n            </view>\n          </template>\n          <!-- 话题 -->\n          <template v-if=\"itemContent.value === 'topic'\">\n            <view v-for=\"item in itemContent.topicDataLists\" :key=\"item.id\" class=\"search-result-item-content\">\n              <!--跳转到话题的详情页-->\n              <navigator><topic-item :item=\"item\" /></navigator>\n            </view>\n          </template>\n        </view>\n      </view>\n      <view v-if=\"dataLists.length === 0\" class=\"noData\">-- 暂无数据 --</view>\n    </view>\n  </view>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, reactive } from 'vue'\n\nexport default defineComponent({\n  name: 'KeywordsSearchResult',\n  // eslint-disable-next-line max-lines-per-function\n  setup() {\n    let searchValue = ref('')\n    let keywords = ref('') as any\n    let placeholder = ref('请输入关键字')\n    let activeMenu = ref('all') // 全部时每个tab只展示3条数据\n    let dataLists = reactive([]) as AnyObject // 若某个tab标签下面无匹配到的内容，从此数组中移除即可\n    let menuList = [\n      {\n        name: '全部',\n        value: 'all'\n      },\n      {\n        name: '咨讯',\n        value: 'news'\n      },\n      {\n        name: '内容',\n        value: 'contents'\n      },\n      {\n        name: '用户',\n        value: 'users'\n      },\n      {\n        name: '圈子',\n        value: 'circles'\n      },\n      {\n        name: '话题',\n        value: 'topic'\n      }\n    ]\n\n    function handleMenuChange(value: any) {\n      activeMenu = value\n      toDealDataList(value)\n    }\n    function toDealKeywords() {\n      // 过滤敏感词\n      dataLists.forEach((item: AnyObject, index: any) => {\n        switch (item.value) {\n          case 'news': // 针对资讯的标题进行关键词匹配\n            item.newsDataLists.forEach((i: any) => {\n              i.content = i.content.replace(new RegExp(keywords, 'g'), `<span style=\"color: #537EAC;\">${keywords.value}</span>`)\n            })\n            break\n          case 'contents': // 针对内容文本进行关键词匹配\n            item.contentDataLists.forEach((i: any) => {\n              i.detail = i.detail.replace(new RegExp(keywords, 'g'), `<span style=\"color: #537EAC;\">${keywords.value}</span>`)\n            })\n            break\n          case 'users': // 针对用户昵称进行匹配\n            item.usersDataLists.forEach((i: any) => {\n              i.nickname = i.nickname.replace(new RegExp(keywords, 'g'), `<span style=\"color: #537EAC;\">${keywords.value}</span>`)\n            })\n            break\n          case 'circles': // 针对圈子名称，圈子简介进行匹配\n            item.circlesDataLists.forEach((i: any) => {\n              i.name = i.name.replace(new RegExp(keywords, 'g'), `<span style=\"color: #537EAC;\">${keywords.value}</span>`)\n              i.profile = i.profile.replace(new RegExp(keywords, 'g'), `<span style=\"color: #537EAC;\">${keywords.value}</span>`)\n            })\n            break\n          case 'topic': // 针对话题的名称进行匹配\n            item.topicDataLists.forEach((i: any) => {\n              i.title = i.title.replace(new RegExp(keywords, 'g'), `<span style=\"color: #537EAC;\">${keywords.value}</span>`)\n              i.title = `# ${i.title} #`\n            })\n            break\n        }\n      })\n    }\n    function handleSearch() {\n      keywords = searchValue.value.trim()\n      toDealKeywords()\n    }\n    function toDealDataList(value: any) {\n      // 切换tab时直接处理dataLists即可\n      dataLists = dataLists.filter((item: { value: any }) => {\n        return item.value === value\n      })\n    }\n    function checkMore(value: any) {\n      activeMenu = value\n      toDealDataList(value)\n    }\n\n    return {\n      searchValue,\n      keywords,\n      placeholder,\n      activeMenu,\n      dataLists,\n      menuList,\n      handleMenuChange,\n      toDealKeywords,\n      handleSearch,\n      toDealDataList,\n      checkMore\n    }\n  },\n\n  onLoad(option: AnyObject) {\n    this.searchValue = option.keywords\n    this.keywords = option.keywords\n  },\n\n  onShow() {\n    this.dataLists[4].topicDataLists.forEach((i: { title: string }) => {\n      i.title = `# ${i.title} #`\n    })\n    this.toDealKeywords()\n  }\n})\n</script>\n\n<style scoped lang=\"scss\">\n@import './index.scss';\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-community/pages/keywords-search-result/keywords-search-result.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"groupRecord\">\n    <view class=\"tab\">\n      <view v-for=\"(item, index) in tabList\" :key=\"index\" class=\"text\" :class=\"activeTab === item.value ? 'active' : ''\" @click=\"handleTabChange(item.value)\">\n        {{ item.name }}\n        <view v-if=\"activeTab === item.value\" class=\"line\" />\n      </view>\n    </view>\n    <view>\n      <view v-for=\"(item, index) in dataList\" :key=\"index\" class=\"recordList\">\n        <view class=\"item\">\n          <view class=\"left\">\n            <image mode=\"aspectFill\" :src=\"item.avatarUrl || mineAvatar\" />\n            <view class=\"name\">{{ item.accountName }}</view>\n          </view>\n          <view class=\"right\">\n            <view v-if=\"item.approvalStatus === 1\" class=\"btn\">\n              <view class=\"rejected\" @click=\"handleRejectedAction(item.id)\">驳回</view>\n              <view class=\"pass\" @click=\"handlePass(item.id)\">通过</view>\n            </view>\n            <view v-if=\"item.approvalStatus === 2\" class=\"time\">于{{ item.finalApprovalTime }}通过</view>\n          </view>\n        </view>\n        <view class=\"bottom\" :style=\"styleChange(index)\">\n          <view class=\"time\">\n            <text class=\"title\">申请理由：</text>\n            <text class=\"content\">{{ item.applyReason }}</text>\n          </view>\n        </view>\n        <view v-if=\"activeTab === 3\" class=\"bottom\" :style=\"index === dataList.length - 1 ? '' : 'margin-bottom: 72rpx;'\">\n          <view class=\"reason\">\n            <text class=\"title\">驳回理由：</text>\n            <text class=\"content\">{{ item.remark }}</text>\n          </view>\n          <view class=\"time\">\n            <text class=\"title\">驳回时间：</text>\n            <text class=\"content\">{{ item.finalApprovalTime }}</text>\n          </view>\n        </view>\n      </view>\n      <!-- <view class=\"no-more\" v-if=\"!loadMore\">-没有更多内容了哦-</view> -->\n    </view>\n    <approval-dialog ref=\"popupDialog\" confirm=\"确定\" confirm-color=\"#BABABA\" title=\"驳回理由\" @confirm=\"handleConfirm\" @cancel=\"close\" />\n  </view>\n</template>\n\n<script lang=\"ts\">\nimport { inject, defineComponent, ref, reactive, computed, Ref } from 'vue'\nimport { toRejected, getGroupApprovalRecords, toApproved } from '@api/community'\nimport approvalDialog from '../../components/dialog/dialog.vue'\n\nexport default defineComponent({\n  name: 'ManageRecord',\n  components: {\n    approvalDialog\n  },\n  // eslint-disable-next-line max-lines-per-function\n  setup() {\n    const gdp = inject('$gdp') as GeneratorDynamicPicFunc<string | string[]>\n    const mineAvatar = gdp('avatar.png')\n\n    let tabList = [\n      { name: '待审核', value: 1 },\n      { name: '已通过', value: 2 },\n      { name: '已驳回', value: 3 }\n    ]\n    let activeTab = ref(1)\n    let height = '100vh'\n    let loadMore = ref(false)\n    let pageNo = ref(1)\n    let dataList = reactive([]) as Array<GroupRecordInfo>\n    let applyReason = ref('')\n    let groupId = ref('')\n    let id = ref('')\n    const styleChange = computed(() => (index: any) => {\n      return index === dataList.length - 1 ? '' : activeTab.value === 3 ? '' : 'margin-bottom: 72rpx;'\n    })\n\n    const popup: Ref<SpPopup | null> = ref(null)\n\n    function openPopup(value: string) {\n      applyReason.value = value\n      popup.value?.open()\n    }\n    // 菜单切换\n    function handleTabChange(value: number) {\n      if (activeTab.value === value) {\n        return\n      }\n      activeTab.value = value\n      dataList.length = 0\n      pageNo.value = 1\n      handleApprovalRecord()\n    }\n    // 弹框选择取消\n    function handleConfirm(e: string) {\n      if (e === '') {\n        uni.showToast({\n          title: '请输入驳回理由',\n          duration: 1000,\n          icon: 'none'\n        })\n        return\n      }\n      let obj = {\n        groupRecordIds: [id.value],\n        remark: e || ''\n      }\n      toRejected(obj).then((res) => {\n        if (res === 1) {\n          uni.showToast({\n            title: '审核已驳回',\n            duration: 1000,\n            icon: 'none'\n          })\n          pageNo.value = 1\n          dataList.length = 0\n          close()\n          handleApprovalRecord()\n        }\n      })\n    }\n    function close() {\n      popup.value?.close()\n    }\n    function handleApprovalRecord() {\n      let obj = {\n        approvalStatus: activeTab.value,\n        groupId: groupId.value,\n        pageNo: pageNo.value,\n        pageSize: 10\n      }\n      getGroupApprovalRecords(obj).then((res: any) => {\n        dataList.push(...res.data)\n        pageNo.value++\n        loadMore.value = !(dataList.length === res.data.total)\n      })\n    }\n    // 通过\n    function handlePass(val: string) {\n      let obj = {\n        groupRecordIds: [val]\n      }\n      toApproved(obj).then((res) => {\n        if (res === 1) {\n          uni.showToast({\n            title: '审核已通过',\n            duration: 1000,\n            icon: 'none'\n          })\n          pageNo.value = 1\n          dataList.length = 0\n          handleApprovalRecord()\n        }\n      })\n    }\n    // 驳回\n    function handleRejectedAction(accountId: string) {\n      id.value = accountId\n      popup.value?.open()\n    }\n\n    return {\n      mineAvatar,\n      tabList,\n      activeTab,\n      height,\n      loadMore,\n      pageNo,\n      dataList,\n      applyReason,\n      groupId,\n      id,\n      openPopup,\n      handleTabChange,\n      handleConfirm,\n      close,\n      handlePass,\n      styleChange,\n      handleRejectedAction,\n      handleApprovalRecord\n    }\n  },\n\n  onLoad(option: { groupId: string }) {\n    this.groupId = option.groupId\n    this.handleApprovalRecord()\n  },\n  onReachBottom() {\n    if (this.loadMore) {\n      this.handleApprovalRecord()\n    }\n  }\n})\n</script>\n\n<style scoped lang=\"scss\">\n@import './index.scss';\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-community/pages/manage-record/manage-record.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view>\n    <web-view :src=\"src\" />\n  </view>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref } from 'vue'\nlet src = ref('')\nexport default defineComponent({\n  name: 'WebView',\n  setup() {\n    return { src }\n  },\n  onLoad(options) {\n    const { url } = options as AnyObject\n    url && (src.value = decodeURIComponent(url))\n  }\n})\n</script>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-community/pages/web-view/index.vue'\nwx.createPage(MiniProgramPage)"],"wx":{"version":1,"userVersion":"1.0.6","userNotes":"上传包含sourcemap版本6","packageVersion":"87db2ea2af8e3f7b7732fc64a91ea5da"}}