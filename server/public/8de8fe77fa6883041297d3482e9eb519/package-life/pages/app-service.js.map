{"version":3,"file":"","sourceRoot":"","sources":["../../../../../../src/package-life/pages/goods-detail/cart.ts","../../../../../../src/package-life/pages/goods-detail/coupon.ts","../../../../../../src/package-life/pages/goods-detail/deliver.ts","../../../../../../src/package-life/pages/goods-detail/goods-detail.ts","../../../../../../src/package-life/pages/goods-detail/order.ts","../../../../../../src/package-life/pages/goods-search/search-goods.ts","../../../../../../src/package-life/pages/goods-search/search-history.ts","../../../../../../src/package-life/pages/goods-search/search-word.ts","../../../../../../src/package-life/pages/goods-settle/order.ts","../../../../../../src/package-life/pages/goods-settle/user.ts","../../../../../../src/package-life/pages/goods-detail/base-info.vue","../../../../../../uniComponent:/L1VzZXJzL3N1cGF1ci9EZXNrdG9wL2dpdFByb2plY3QvYWxwaGEvZmUtbWFsbC1oNS9zcmMvcGFja2FnZS1saWZlL3BhZ2VzL2dvb2RzLWRldGFpbC9iYXNlLWluZm8udnVl","../../../../../../src/package-life/pages/goods-detail/coupon-item.vue","../../../../../../uniComponent:/L1VzZXJzL3N1cGF1ci9EZXNrdG9wL2dpdFByb2plY3QvYWxwaGEvZmUtbWFsbC1oNS9zcmMvcGFja2FnZS1saWZlL3BhZ2VzL2dvb2RzLWRldGFpbC9jb3Vwb24taXRlbS52dWU","../../../../../../src/package-life/pages/goods-detail/goods-activity-price.vue","../../../../../../uniComponent:/L1VzZXJzL3N1cGF1ci9EZXNrdG9wL2dpdFByb2plY3QvYWxwaGEvZmUtbWFsbC1oNS9zcmMvcGFja2FnZS1saWZlL3BhZ2VzL2dvb2RzLWRldGFpbC9nb29kcy1hY3Rpdml0eS1wcmljZS52dWU","../../../../../../src/package-life/pages/goods-detail/goods-attrs-popup.vue","../../../../../../uniComponent:/L1VzZXJzL3N1cGF1ci9EZXNrdG9wL2dpdFByb2plY3QvYWxwaGEvZmUtbWFsbC1oNS9zcmMvcGFja2FnZS1saWZlL3BhZ2VzL2dvb2RzLWRldGFpbC9nb29kcy1hdHRycy1wb3B1cC52dWU","../../../../../../src/package-life/pages/goods-detail/goods-evaluation.vue","../../../../../../uniComponent:/L1VzZXJzL3N1cGF1ci9EZXNrdG9wL2dpdFByb2plY3QvYWxwaGEvZmUtbWFsbC1oNS9zcmMvcGFja2FnZS1saWZlL3BhZ2VzL2dvb2RzLWRldGFpbC9nb29kcy1ldmFsdWF0aW9uLnZ1ZQ","../../../../../../src/package-life/pages/goods-detail/goods-question.vue","../../../../../../uniComponent:/L1VzZXJzL3N1cGF1ci9EZXNrdG9wL2dpdFByb2plY3QvYWxwaGEvZmUtbWFsbC1oNS9zcmMvcGFja2FnZS1saWZlL3BhZ2VzL2dvb2RzLWRldGFpbC9nb29kcy1xdWVzdGlvbi52dWU","../../../../../../src/package-life/pages/goods-detail/receive-coupon.vue","../../../../../../uniComponent:/L1VzZXJzL3N1cGF1ci9EZXNrdG9wL2dpdFByb2plY3QvYWxwaGEvZmUtbWFsbC1oNS9zcmMvcGFja2FnZS1saWZlL3BhZ2VzL2dvb2RzLWRldGFpbC9yZWNlaXZlLWNvdXBvbi52dWU","../../../../../../src/package-life/pages/goods-detail/store.vue","../../../../../../uniComponent:/L1VzZXJzL3N1cGF1ci9EZXNrdG9wL2dpdFByb2plY3QvYWxwaGEvZmUtbWFsbC1oNS9zcmMvcGFja2FnZS1saWZlL3BhZ2VzL2dvb2RzLWRldGFpbC9zdG9yZS52dWU","../../../../../../src/package-life/pages/goods-search/order.vue","../../../../../../uniComponent:/L1VzZXJzL3N1cGF1ci9EZXNrdG9wL2dpdFByb2plY3QvYWxwaGEvZmUtbWFsbC1oNS9zcmMvcGFja2FnZS1saWZlL3BhZ2VzL2dvb2RzLXNlYXJjaC9vcmRlci52dWU","../../../../../../../src/package-life/pages/goods-settle/coupon-picker/index.vue","../../../../../../../uniComponent:/L1VzZXJzL3N1cGF1ci9EZXNrdG9wL2dpdFByb2plY3QvYWxwaGEvZmUtbWFsbC1oNS9zcmMvcGFja2FnZS1saWZlL3BhZ2VzL2dvb2RzLXNldHRsZS9jb3Vwb24tcGlja2VyL2luZGV4LnZ1ZQ","../../../../../../src/package-life/pages/goods-settle/goods-address.vue","../../../../../../uniComponent:/L1VzZXJzL3N1cGF1ci9EZXNrdG9wL2dpdFByb2plY3QvYWxwaGEvZmUtbWFsbC1oNS9zcmMvcGFja2FnZS1saWZlL3BhZ2VzL2dvb2RzLXNldHRsZS9nb29kcy1hZGRyZXNzLnZ1ZQ","../../../../../../src/package-life/pages/goods-settle/goods-item.vue","../../../../../../uniComponent:/L1VzZXJzL3N1cGF1ci9EZXNrdG9wL2dpdFByb2plY3QvYWxwaGEvZmUtbWFsbC1oNS9zcmMvcGFja2FnZS1saWZlL3BhZ2VzL2dvb2RzLXNldHRsZS9nb29kcy1pdGVtLnZ1ZQ","../../../../../../../src/package-life/pages/goods-settle/order-pay/index.vue","../../../../../../../uniComponent:/L1VzZXJzL3N1cGF1ci9EZXNrdG9wL2dpdFByb2plY3QvYWxwaGEvZmUtbWFsbC1oNS9zcmMvcGFja2FnZS1saWZlL3BhZ2VzL2dvb2RzLXNldHRsZS9vcmRlci1wYXkvaW5kZXgudnVl","../../../../../../src/package-life/pages/goods-list/index.vue","../../../../../../uniPage:/cGFja2FnZS1saWZlL3BhZ2VzL2dvb2RzLWxpc3QvaW5kZXgudnVl","../../../../../../src/package-life/pages/ask-everyone-list/index.vue","../../../../../../uniPage:/cGFja2FnZS1saWZlL3BhZ2VzL2Fzay1ldmVyeW9uZS1saXN0L2luZGV4LnZ1ZQ","../../../../../../src/package-life/pages/ask-everyone-detail/index.vue","../../../../../../uniPage:/cGFja2FnZS1saWZlL3BhZ2VzL2Fzay1ldmVyeW9uZS1kZXRhaWwvaW5kZXgudnVl","../../../../../../src/package-life/pages/ask-everyone-published/index.vue","../../../../../../uniPage:/cGFja2FnZS1saWZlL3BhZ2VzL2Fzay1ldmVyeW9uZS1wdWJsaXNoZWQvaW5kZXgudnVl","../../../../../../src/package-life/pages/goods-search/index.vue","../../../../../../uniPage:/cGFja2FnZS1saWZlL3BhZ2VzL2dvb2RzLXNlYXJjaC9pbmRleC52dWU","../../../../../../src/package-life/pages/goods-detail/index.vue","../../../../../../uniPage:/cGFja2FnZS1saWZlL3BhZ2VzL2dvb2RzLWRldGFpbC9pbmRleC52dWU","../../../../../../src/package-life/pages/goods-settle/index.vue","../../../../../../uniPage:/cGFja2FnZS1saWZlL3BhZ2VzL2dvb2RzLXNldHRsZS9pbmRleC52dWU","../../../../../../src/package-life/pages/product-assess-list/index.vue","../../../../../../uniPage:/cGFja2FnZS1saWZlL3BhZ2VzL3Byb2R1Y3QtYXNzZXNzLWxpc3QvaW5kZXgudnVl","../../../../../../src/package-life/pages/store-list/index.vue","../../../../../../uniPage:/cGFja2FnZS1saWZlL3BhZ2VzL3N0b3JlLWxpc3QvaW5kZXgudnVl","../../../../../../src/package-life/pages/payment/index.vue","../../../../../../uniPage:/cGFja2FnZS1saWZlL3BhZ2VzL3BheW1lbnQvaW5kZXgudnVl","../../../../../../src/package-life/pages/payment-success/index.vue","../../../../../../uniPage:/cGFja2FnZS1saWZlL3BhZ2VzL3BheW1lbnQtc3VjY2Vzcy9pbmRleC52dWU"],"names":["cartGoodsNumber","ref","async","getCartNumber","value","getCartGoodsNumber","error","addCart","items","addGoodsToCart","uni","index","showToast","icon","title","couponList","reactive","goodsId","getCounponList","itemId","list","getGoodsCoupon","length","push","getCoupon","data","receiveCoupon","freightTemplate","isFreeShipping","addressStore","useAddressStore","selectedAddress","computed","computed$1","getShipRule","cityCode","shippingAddress","getDeliverInfo","templateId","_a","id","provinceName","districtName","defaultCityCode","cityName","getDefaultAddress","$patch","currentCityCode","province","city","district","useLocationStore","getCityCode","goodsDetail","recommendItems","noMoreRecommendItems","refreshRecommendItems","getMoreRecommendItems","useRecommendGoods","currentSku","goodsEvaluations","applauseRate","defaultNum","itemEvaluationConsumer","totalNum","refreshGoodsDetail","detail","getGoodsDetail","Object","assign","currentSkuNew","skuBasicVO","skuVOList","find","sku","itemActivityVO","lowestPriceSku","activity","forEach","item","skuPrice","itemActivityStatus","actSkuInfo","activitySkuVos","actSku","skuId","activityPrice","price","getLowestPriceSku","itemId2","resData","getItemTwoEva","console","log","getItemTwoEvaList","addPreviewOrder","toCreatePreviewOrder","goodsList","pageNo","noMore","sortKey","sortType","hasSearched","getSearchGoods","keyword","page","size","showLoading","mask","params","pageSize","getSearchGoodsList","hideLoading","refreshGoods","total","nextTick","pageScrollTo","scrollTop","refreshAllGoods","getMoreGoods","setOrder","order","resetSearchGoods","historyList","getStorageSync","saveHistory","toRaw","unshift","Set","pop","setStorageSync","clearHistory","showModal","content","confirmColor","success","res","confirm","removeStorageSync","associateWords","formatedAssociateWords","hotSearchWords","refreshAssociateWord","debounce","getAssociateWord","encodeURIComponent","map","text","str","originalText","nodes","repetString","matchLongestRepetString","parser","parseHtml","replace","RegExp","toGeneratorAssociateWords","clearAssociateWords","refreshHotSearchWords","getSearchRecommendList","listSize","skuAttr","reduce","next","arr","attrVal","orderDetail","businessId","getBisId","getBusinessId","refreshPreviewDetail","getOrderPreviewDetail","createOrder","orderId","addOrder","redirectTo","url","userUsablePoint","coupon","availableLength","availableList","unavailableList","getUsablePoint","point","getUserUsablePoint","itemList","quantity","getToUseCoupon","Number","GoodsActivityPrice","goodsStore","useGoodsStore","pointRatio","priceInfo","payType","props","itemBasicVO","pointPrice","maxPointPrice","formatPrice","activityInfo","activityStatus","toDelayRefreshGoodsDetail","setTimeout","emit","wx","createComponent","Component","SpReceiveCoupon","iconRight","inject","gdp","useCoupon","watch","couponHintString","firstCoupon","threshold","worth","spReceiveCouponRef","openCouponPopup","open","disabledPointIcon","bluePointIcon","pointIcon","bgBlue","bgRed","timeLimitImg","activityIsStarted","Enum","Activity","Status","IsGoing","activityTypeName","getTypeText","activityType","seconds","startTime","endTime","Date","isFreeMixing","Pay","Type","FreeMixing","isPartialMixing","PartialMixing","currentPriceInfo","fee","originFee","originPoint","originPriceInfo","activityFee","activityPoint","countdownColor","countdownBgColor","popup","close","expose","iconDefaultAvatar","goodsEvaluation","evaluation","mediaUrlList","filter","mediaType","slice","goEvaluation","navigateTo","arrowRight","question","questionList","questionCount","goAskEveryone","headImg","Array","isArray","imageInfos","name","onShow","getAskEveryoneList","questionVO","questionDetails","answerCount","couponEmpty","couponBg","couponBgDisabled","formatGeneratorNumSizeClass","num","len","String","balance","sendData","businessDataName","goodsName","businessDataId","couponId","number","locationStore","nearestStore","iconPhone","iconRightBlack","storeList","location","__temp","__restore","_withAsyncContext","getLocation","reverse","sort","a","b","getFlatternDistance","latitude","longitude","phonePopupRef","closePhonePopup","phoneList","mobile","split","openTheMap","storeName","storeAddress","openLocation","address","makePhoneCall","phoneNumber","ascendingImg","descendingImg","orderNoneImg","orderConditions","key","couponPicker","selectedCode","checkChange","couponCode","actived","modelValue","val","initCode","changeVisible","show","oldScrollTop","scroll","e","changeTab","setGeneratorNumSizeClass","isEmpty","addressDetail","details","goSelectAddress","iconPoint","iconOrderPoint","formatedGoods","goods","retailPrice","pointNum","CouponPicker","iconPointDisabled","iconPointSelected","iconPointDark","userStore","useUserStore","useUser","onMounted","getUserInfo","payMethod","changePayMethod","method","customInputFocus","couponPickerVisible","openCouponPicker","shipAmount","couponAccountCode","subtotalAmount","totalWithShip","totalAmount","recordDiscount","totalCouponAmount","necessaryPoint","necessaryPointNum","availablePoint","availablePointNum","defaultPoint","defaultFee","customInputVal","customPoint","hasInputVal","startsWith","substring","customError","msg","submitDisabled","customFee","finnalNew","Decimal","add","toNumber","Math","max","hasPayMethods","some","toSelectCoupon","code","handleSubmit","common_vendor","onLoad","options","onReachBottom","iconBackSquare","toBack","navigateBack","delta","createPage","MiniProgramPage","AskEveryoneHead","AskEveryoneListItem","isLogin","useAppStore","_options","headTitle","img","isEnd","getQuestionList","date","noneQuestion","valueOf","time","param","createEndTime","answerVOList","answerDetails","deleteItem","questionId","splice","goToDetail","goPublishQuestion","getQuestiondetail","questionIsEnd","questionPageNo","customer","business","userPortraitImg","style","toInputFocus","height","toInputBlur","answerCommit","replyFlag","answerPublished","answerList","showPop","handleClick","questionInfo","createTime","showAnswerCount","updateTime","userAvatar","userId","userName","placeholder","getAskEveryoneDetail","pureAssign","answerVOPaging","answerJudge","published","publishQuestion","pages","getCurrentPages","message","handleTextCount","immediate","deep","SearchOrder","searchImg","miniSearchImg","clearImg","useSearchHistory","useSearchWord","useSearchGoods","isShowNoData","search","toKeywordChange","setKeyword","word","clearKeyword","searchFocus","changeOrder","getPointRatio","GoodsEvaluation","GoodsQuestion","GoodsAttrsPopup","GoodsBaseInfo","GoodsStoreInfo","CouponItem","distributer","scene","decodeURIComponent","useGoodsDetail","baseInfo","itemDetail","itemDetailVOList","terminal","imageList","activitySkuInfo","appStore","useCart","isDeliver","type","Item","Deliver","isVirtual","Virtual","isInSale","status","InSale","extra","storeInfo","otherAttr","itemAttributeVOList","attrKeys","attrs","attributeType","attributeName","attrKey","attributeValueList","join","goodsDetailContent","selectedAttrStr","_b","skuAttributeValueVOList","attributeValue","isFirstEnter","duration","shipTemplateId","spSelectSkuRef","openSelectSkuPopup","operateType","popupGoodsParamsRef","openGoodsParamsPopup","iconBack","shoppingCart","handleSkuChange","useDeliver","checkAddress","relogin","handleAddCart","buyNumber","mainImage","shopCode","itemContentVO","itemType","itemName","thumbnail","snapshotPrice","itemPriceVO","minPrice","activityId","handleBuy","vmId","itemToOrderList","useOrder","goodsType","customerInfo","query","JSON","stringify","pinia_address","onBack","switchTab","handleClickCart","GoodsAddress","GoodsItem","OrderPay","orderGoodsList","cinfo","orderChannel","channel","d","parse","keys","customerInfoArray","getUserAddress","userAddressIdStr","changeAddress","addressId","refreshPreviewOrder","previewOrderParams","userAddressId","remark","toSubmit","customInfo","values","includes","criteria","toVirtualSumbit","orderAddressId","toNormalSumbit","productAssessListRef","onloadMore","businessPhone","storeData","getStoreList","getConsumerPlaces","then","loca","popupRef","telephone","phone","isFromPaid","option","t","fromPaid","payPopup","getOrder","payTime","checkPay","wechatImg","loaded","payLeftSeconds","payTypeList","change","oldVal","setTimeup","getOrderInfo","payLeftTime","formatMoney","toPay","login","payOrder","getPayOrder","agencyCode","channelCode","requestPayment","provider","orderInfo","timeStamp","nonceStr","package","signType","paySign","fail","getRecommendList","successImg","recommendList","getPageForParentOrder","recItemTypes","Error","goToIndex","goToOrderDetail"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","sourcesContent":["import { ref } from 'vue'\nimport { getCartGoodsNumber, addGoodsToCart } from '@api/cart'\n\nexport function useCart() {\n  const cartGoodsNumber = ref(0)\n  /**\n   * 获取购物车商品数量\n   */\n  async function getCartNumber() {\n    try {\n      cartGoodsNumber.value = await getCartGoodsNumber()\n    } catch (error) {}\n  }\n\n  /**\n   * 商品加入购物车\n   * @param items\n   */\n  async function addCart(items: Cart.AddCartParams) {\n    try {\n      const res = await addGoodsToCart(items)\n      if (res) {\n        getCartNumber()\n        uni.showToast({ icon: 'success', title: '加入购物车成功' })\n      } else {\n        uni.showToast({ icon: 'none', title: '加入购物车失败' })\n      }\n    } catch (error) {}\n  }\n\n  return {\n    cartGoodsNumber,\n    getCartNumber,\n    addCart\n  }\n}\n","import { reactive } from 'vue'\nimport { getGoodsCoupon, receiveCoupon } from '@api/card'\n\nexport function useCoupon() {\n  const couponList = reactive([]) as Coupon.Item[]\n  // 当前商品id\n  let goodsId: string | number = ''\n\n  /**\n   * 获取商品关联可用卡券\n   * @param itemId\n   */\n  async function getCounponList(itemId: number | string) {\n    goodsId = itemId\n    const list = await getGoodsCoupon(itemId)\n    couponList.length = 0\n    couponList.push(...list)\n  }\n\n  /**\n   * 领取卡券\n   */\n  async function getCoupon(data: Coupon.ReceiveParams) {\n    try {\n      await receiveCoupon(data)\n      uni.showToast({\n        title: '领取成功'\n      })\n      getCounponList(goodsId)\n    } catch (error) {}\n  }\n\n  return {\n    couponList,\n    getCounponList,\n    getCoupon\n  }\n}\n","import { computed, ref } from 'vue'\nimport { getDefaultAddress, getShippingRule } from '@src/api/goods'\nimport { useAddressStore } from '@src/pinia/address'\nimport { useLocationStore } from '@src/pinia/location'\n\n/**\n * 配送商品配送信息\n * @returns\n */\nexport function useDeliver() {\n  // 运费模板\n  const freightTemplate = ref('')\n  // 是否包邮\n  const isFreeShipping = ref(false)\n\n  const addressStore = useAddressStore()\n  const selectedAddress = computed(() => addressStore.selectedAddress)\n  // 配送地址\n  const shippingAddress = computed(() => addressStore.shippingAddress)\n\n  let shipTemplateId = ''\n\n  /**\n   * selectedAddress从地址列表页面返回才会有值\n   * 如果在地址列表页面新增地址后直接返回，此时默认选中的是新增的地址\n   * 没有选中的地址信息则需要获取当前定位地址\n   */\n  async function getDeliverInfo(templateId: string) {\n    shipTemplateId = templateId\n    if (selectedAddress.value) {\n      const cityCode = selectedAddress.value?.cityCode\n      await getShipRule(cityCode)\n    } else {\n      let cityCode = ''\n      const { id, provinceName, districtName, cityCode: defaultCityCode, cityName } = await getDefaultAddress()\n      if (id) {\n        addressStore.$patch({\n          shippingAddress: `${provinceName} ${cityName} ${districtName}`\n        })\n        cityCode = defaultCityCode\n      } else {\n        const { cityCode: currentCityCode, province, city, district } = await useLocationStore().getCityCode()\n        cityCode = currentCityCode\n        addressStore.$patch({\n          shippingAddress: `${province} ${city} ${district}`\n        })\n      }\n      await getShipRule(cityCode)\n    }\n  }\n\n  /**\n   * 获取物流规则\n   */\n  async function getShipRule(cityCode: string) {\n    //   try {\n    //     const { basicUnit, basicPrice, beyondUnit, beyondPrice, isFree } = await getShippingRule({ cityCode, shipTemplateId })\n    //     freightTemplate.value = `${basicUnit}件内,${basicPrice / 100}元,每增加${beyondUnit}件,增加运费${beyondPrice / 100}元`\n    //     isFreeShipping.value = isFree\n    //     addressStore.$patch({\n    //       freightTemplate: freightTemplate.value\n    //     })\n    //   } catch (error) {}\n  }\n\n  return { freightTemplate, shippingAddress, isFreeShipping, getDeliverInfo }\n}\n","import { reactive, ref } from 'vue'\nimport { getGoodsDetail } from '@api/goods'\nimport { getItemTwoEva } from '@api/evaluation'\nimport { useRecommendGoods } from '@src/hooks/recommend-goods'\n\nexport function useGoodsDetail() {\n  const itemId = ref('')\n  // 商品详情\n  const goodsDetail = reactive({}) as Goods.Item\n  const { recommendItems, noMoreRecommendItems, refreshRecommendItems, getMoreRecommendItems } = useRecommendGoods()\n  // 当前展示的sku\n  const currentSku = reactive({}) as Goods.Sku\n\n  /**\n   * 获取商品详情\n   * @param id\n   */\n  async function refreshGoodsDetail(id: string) {\n    try {\n      itemId.value = id\n      const detail = await getGoodsDetail(id)\n      Object.assign(goodsDetail, detail)\n      let currentSkuNew = null\n      if (currentSku.skuBasicVO?.id && (currentSkuNew = detail.skuVOList.find((sku: { skuBasicVO: { id: string } }) => sku.skuBasicVO.id === currentSku.skuBasicVO.id))) {\n        Object.assign(currentSku, currentSkuNew || {})\n      } else {\n        // 刷新商品信息后，没有选中的sku则显示最低价sku\n        Object.assign(currentSku, getLowestPriceSku())\n      }\n      await getItemTwoEvaList(id)\n    } catch (error) {\n      console.log('商品信息获取失败')\n    }\n  }\n  /**\n   * 获取商品最新两条评价\n   * @param itemId\n   */\n  let goodsEvaluations = reactive({\n    applauseRate: 0,\n    defaultNum: 0,\n    itemEvaluationConsumer: [],\n    totalNum: 0\n  }) as Goods.GoodsEvaluations\n  async function getItemTwoEvaList(itemId: string) {\n    try {\n      const resData = await getItemTwoEva(itemId)\n      const { applauseRate, defaultNum, itemEvaluationConsumer, totalNum } = resData\n      goodsEvaluations.applauseRate = applauseRate\n      goodsEvaluations.defaultNum = defaultNum\n      goodsEvaluations.itemEvaluationConsumer = itemEvaluationConsumer\n      goodsEvaluations.totalNum = totalNum\n    } catch (error) {\n      console.log('商品评价信息获取失败')\n    }\n  }\n\n  /**\n   * 初次进入页面，需要从skus中获取默认展示的sku，最低价（包含进行中的活动价）\n   */\n  function getLowestPriceSku(): Goods.Sku {\n    const { skuVOList, itemActivityVO } = goodsDetail\n    let lowestPriceSku = skuVOList[0]\n    // 商品sku活动信息\n    const activity = itemActivityVO && itemActivityVO[0]\n    goodsDetail.skuVOList?.forEach((item: Goods.Sku) => {\n      let skuPrice = 0\n      // 有活动取活动价格\n      if (activity && activity.itemActivityStatus === 1) {\n        const actSkuInfo = activity.activitySkuVos.find((actSku) => actSku.skuId === item.skuBasicVO.id)\n        skuPrice = actSkuInfo ? actSkuInfo.activityPrice : item.skuBasicVO.price\n      } else {\n        skuPrice = item.skuBasicVO.price\n      }\n      if (skuPrice < lowestPriceSku.skuBasicVO.price) {\n        lowestPriceSku = item\n      }\n    })\n    return lowestPriceSku\n  }\n\n  return {\n    goodsDetail,\n    currentSku,\n    recommendItems,\n    noMoreRecommendItems,\n    refreshGoodsDetail,\n    refreshRecommendItems,\n    getMoreRecommendItems,\n    goodsEvaluations\n  }\n}\n","import { toCreatePreviewOrder } from '@api/order'\n\nexport function useOrder() {\n  /**\n   * 创建预订单\n   * @param data\n   * @todo 入参数据类型待声明\n   */\n  async function addPreviewOrder(data: AnyObject) {\n    try {\n      await toCreatePreviewOrder(data)\n    } catch (error) {}\n  }\n\n  return {\n    addPreviewOrder\n  }\n}\n","import { getSearchGoodsList } from '@src/api/recommend'\nimport { nextTick, reactive, Ref, ref } from 'vue'\n\n// eslint-disable-next-line max-lines-per-function\nexport function useSearchGoods() {\n  // 搜索出的商品列表\n  const goodsList: Goods.Item[] = reactive([])\n  const pageNo = ref(1)\n  const noMore = ref(false)\n  const sortKey = ref('')\n  const sortType: Ref<number | null> = ref(null)\n  const pageSize = 20\n  const hasSearched = ref(false)\n\n  async function getSearchGoods(keyword: string, page?: number, size?: number): Promise<PageListInfo<Goods.Item>> {\n    uni.showLoading({\n      mask: true,\n      title: '努力搜索中...'\n    })\n    const params = {\n      keyword,\n      pageNo: page || pageNo.value,\n      pageSize: size || pageSize\n    }\n    if (sortKey.value && sortType.value !== null) {\n      Object.assign(params, {\n        sortKey: sortKey.value,\n        sortType: sortType.value\n      })\n    }\n    const data = await getSearchGoodsList(params)\n    hasSearched.value = true\n    uni.hideLoading()\n    return data\n  }\n\n  async function refreshGoods(keyword: string) {\n    if (keyword === '') {\n      return\n    }\n    pageNo.value = 1\n    noMore.value = false\n    const { data, total } = await getSearchGoods(keyword)\n    goodsList.length = 0\n    goodsList.push(...data)\n    noMore.value = data.length === 0 || total === goodsList.length\n    nextTick(() => {\n      uni.pageScrollTo({\n        scrollTop: 0\n      })\n    })\n  }\n\n  async function refreshAllGoods(keyword: string) {\n    if (keyword === '') {\n      return\n    }\n    const { data, total } = await getSearchGoods(keyword, 1, pageNo.value * pageSize)\n    goodsList.length = 0\n    goodsList.push(...data)\n    noMore.value = data.length === 0 || total === goodsList.length\n  }\n\n  async function getMoreGoods(keyword: string) {\n    if (keyword === '' || noMore.value) {\n      return\n    }\n    pageNo.value++\n    const { data, total } = await getSearchGoods(keyword)\n    goodsList.push(...data)\n    noMore.value = data.length === 0 || total === goodsList.length\n  }\n\n  function setOrder(order: { sortKey: string; sortType: number }) {\n    sortKey.value = order.sortKey\n    sortType.value = order.sortType\n  }\n\n  function resetSearchGoods() {\n    goodsList.length = 0\n    hasSearched.value = false\n  }\n\n  return {\n    hasSearched,\n    goodsList,\n    noMore,\n    refreshGoods,\n    refreshAllGoods,\n    getMoreGoods,\n    setOrder,\n    resetSearchGoods\n  }\n}\n","import { reactive, toRaw } from 'vue'\n/**\n * 搜索历史\n * @returns\n */\nexport function useSearchHistory() {\n  // 搜索记录\n  const historyList: string[] = reactive([])\n\n  historyList.push(...(uni.getStorageSync('GoodsSearchHistory') || []))\n\n  /**\n   * 保存搜索词\n   * @param keyword\n   */\n  function saveHistory(keyword: string) {\n    if (keyword !== undefined && keyword !== null) {\n      let list = toRaw(historyList)\n      list.unshift(keyword)\n      list = [...new Set(list)] // 去重\n      list.length > 14 && list.pop() // 超过14条删除最后一个\n      historyList.length = 0\n      historyList.push(...list)\n      uni.setStorageSync('GoodsSearchHistory', list)\n    }\n  }\n\n  /**\n   * 清空搜索历史\n   */\n  function clearHistory() {\n    uni.showModal({\n      title: '提示',\n      content: '确认清空历史搜索吗？',\n      confirmColor: '#292c2e',\n      success: (res) => {\n        if (res.confirm) {\n          uni.removeStorageSync('GoodsSearchHistory')\n          historyList.length = 0\n        }\n      }\n    })\n  }\n  return {\n    historyList,\n    saveHistory,\n    clearHistory\n  }\n}\n","import { getAssociateWord, getSearchRecommendList } from '@src/api/recommend'\nimport { debounce } from '@src/lib/lodash'\nimport { matchLongestRepetString } from '@src/util/common'\nimport { reactive } from 'vue'\nimport parser from '@src/lib/html-parser'\n\ninterface TextNode {\n  originalText: string\n  text: string\n  nodes: AnyObject[]\n}\n\ninterface HotSearchWord {\n  hotWordValue: string\n  hotWordCount: number\n}\n\nfunction toGeneratorAssociateWords(associateWords: string[], keyword: string): TextNode[] {\n  return associateWords.map((text: string) => {\n    const str = {\n      originalText: text,\n      text: '',\n      nodes: []\n    }\n    // 计算最长匹配字符\n    const repetString = matchLongestRepetString(text, keyword)\n    // #ifdef H5\n    str.text = text.replace(new RegExp(repetString, 'g'), `<span style=\"color: #909CA8;\">${repetString}</span>`)\n    // #endif\n    // #ifdef MP-WEIXIN\n    str.text = text\n    str.nodes = parser('<span>' + text.replace(new RegExp(repetString, 'g'), `<span style=\"color: #909CA8;\">${repetString}</span>`) + '</span>')\n    // #endif\n    return str\n  })\n}\n\nexport function useSearchWord() {\n  // 原始关联词列表\n  const associateWords: string[] = reactive([])\n  // 编译后的关键词节点数据：关键词高高亮，用于显示\n  const formatedAssociateWords: TextNode[] = reactive([])\n  // 热门搜索\n  const hotSearchWords: HotSearchWord[] = reactive([])\n\n  /**\n   * 获取热门搜索\n   */\n  async function refreshHotSearchWords() {\n    try {\n      const list = await getSearchRecommendList({ listSize: 10 })\n      hotSearchWords.length = 0\n      hotSearchWords.push(...list)\n    } catch (error) {}\n  }\n\n  /**\n   * 刷新关联词\n   */\n  const refreshAssociateWord = debounce(async (keyword: string) => {\n    try {\n      const list = await getAssociateWord(encodeURIComponent(keyword))\n      clearAssociateWords()\n      associateWords.push(...list)\n      formatedAssociateWords.push(...toGeneratorAssociateWords(list, keyword))\n    } catch (error) {}\n  }, 300)\n  /**\n   * 清空搜索\n   */\n  function clearAssociateWords() {\n    associateWords.length = 0\n    formatedAssociateWords.length = 0\n  }\n\n  return {\n    formatedAssociateWords,\n    hotSearchWords,\n    refreshAssociateWord,\n    clearAssociateWords,\n    refreshHotSearchWords\n  }\n}\n","import { addOrder, getOrderPreviewDetail } from '@api/order'\nimport { getBusinessId } from '@src/api/pay'\nimport { reactive, ref } from 'vue'\n\n// 生成商品属性\nexport function toGeneratorSkuAttr(skuAttr: Goods.Attribute[]) {\n  return skuAttr\n    ? skuAttr.reduce((str, next, index, arr) => {\n        return str + (index === arr.length - 1 ? next.attrVal : `${next.attrVal}/`)\n      }, '')\n    : ''\n}\n\nexport function useOrder() {\n  // 预订单详情\n  const orderDetail = reactive({}) as Order.PreviewOrderInfo\n  // 交易id\n  const businessId = ref('')\n  /**\n   * 创建订单\n   * @param data\n   */\n  async function createOrder(data: Order.CreateOrderParams) {\n    uni.showLoading({\n      mask: true,\n      title: '正在提交订单'\n    })\n    try {\n      const orderId = await addOrder(data)\n      uni.hideLoading()\n      uni.showToast({\n        icon: 'none',\n        title: '订单提交成功'\n      })\n      // 跳转支付页面\n      uni.redirectTo({\n        url: '/package-life/pages/payment/index?type=1&orderId=' + orderId\n      })\n    } catch (error) {\n      uni.hideLoading()\n    }\n  }\n\n  // 获取交易编码\n  async function getBisId() {\n    businessId.value = await getBusinessId()\n  }\n\n  // 获取缓存的用于预览的订单\n  async function refreshPreviewDetail() {\n    Object.assign(orderDetail, await getOrderPreviewDetail())\n  }\n\n  return {\n    orderDetail,\n    businessId,\n    getBisId,\n    refreshPreviewDetail,\n    createOrder\n  }\n}\n","import { getToUseCoupon } from '@src/api/card'\nimport { getUserUsablePoint } from '@src/api/user'\nimport { reactive, ref } from 'vue'\n\nexport function useUser() {\n  const userUsablePoint = ref(0)\n  const coupon: Coupon.PickerInfo = reactive({\n    availableLength: 0,\n    availableList: [],\n    unavailableList: []\n  })\n\n  /**\n   * 获取用户可用积分\n   */\n  async function getUsablePoint() {\n    try {\n      const point = await getUserUsablePoint()\n      userUsablePoint.value = point\n    } catch (error) {}\n  }\n\n  /**\n   * 获取订单关联卡券\n   */\n  async function getCoupon(orderDetail: Order.PreviewOrderInfo) {\n    const params = orderDetail?.itemList?.map((item: AnyObject) => {\n      return {\n        skuId: item.skuId,\n        itemId: item.itemId,\n        quantity: item.quantity\n      }\n    })\n    const res = await getToUseCoupon(params)\n    Object.assign(coupon, {\n      availableLength: Number(res.availableList.length),\n      availableList: res.availableList,\n      unavailableList: res.unavailableList\n    })\n  }\n\n  return {\n    userUsablePoint,\n    coupon,\n    getUsablePoint,\n    getCoupon\n  }\n}\n","<template>\n  <!-- 轮播图 -->\n  <view v-if=\"imgList\" class=\"top-swiper\">\n    <sp-swiper :img-list=\"imgList\" :control-bottom=\"20\" />\n  </view>\n  <!-- 商品活动信息 -->\n  <goods-activity-price\n    v-if=\"activityInfo\"\n    class=\"goods-detail-price\"\n    :activity-info=\"activityInfo\"\n    :pay-type=\"baseInfo.payType\"\n    :price-info=\"priceInfo\"\n    :stock-quantity=\"currentSku.stockVO.availableQuantity\"\n    :is-free=\"isFree\"\n    @timeup=\"toDelayRefreshGoodsDetail\"\n  />\n  <!-- 商品名称 + 价格 -->\n  <view v-if=\"baseInfo\" class=\"goods-base-info\">\n    <view class=\"name ellipsis\">{{ baseInfo.name }}</view>\n    <view v-if=\"baseInfo.advertise\" class=\"desc ellipsis\">{{ baseInfo.advertise }}</view>\n    <sp-goods-price v-if=\"!activityInfo\" :single-line-max-length=\"30\" :sku-id=\"currentSku.skuBasicVO?.id\" :item-detail=\"goodsDetail\" :is-free=\"isFree\" :point-ratio=\"pointRatio\" />\n    <!-- 价格展示 end -->\n  </view>\n</template>\n\n<script setup lang=\"ts\" name=\"GoodsBaseInfo\">\nimport GoodsActivityPrice from './goods-activity-price.vue'\n\nimport { computed, PropType } from 'vue'\nimport { useGoodsStore } from '@src/pinia/goods'\nimport { formatPrice } from '@util/money'\n\nconst goodsStore = useGoodsStore()\n\nconst props = defineProps({\n  baseInfo: {\n    type: Object as PropType<Goods.BaseInfo>,\n    default: null,\n    required: true\n  },\n  activityInfo: {\n    type: Object as PropType<Goods.Activity.Sku>,\n    default: null\n  },\n  imgList: {\n    type: Array as PropType<string[]>,\n    default: null\n  },\n  currentSku: {\n    type: Object as PropType<Goods.Sku>,\n    required: true\n  },\n  isFree: {\n    type: Boolean,\n    default: false\n  },\n  goodsDetail: {\n    type: Object as PropType<Goods.Item>,\n    required: true\n  }\n})\n\nconst pointRatio = computed(() => goodsStore.pointRatio)\n\nconst priceInfo = computed(() => {\n  const { payType } = props.goodsDetail.itemBasicVO\n  const { price, pointPrice, maxPointPrice, id } = props.currentSku.skuBasicVO\n  const { itemActivityVO } = props.goodsDetail\n  const actSkuInfo = itemActivityVO && itemActivityVO[0].activitySkuVos.find((item) => item.skuId === id)\n  return formatPrice({\n    payType: payType,\n    price: Number(price),\n    pointPrice: Number(pointPrice),\n    pointRatio: pointRatio.value,\n    maxPointPrice: Number(maxPointPrice),\n    activityInfo: itemActivityVO && {\n      activityPrice: Number(actSkuInfo?.activityPrice),\n      activityStatus: itemActivityVO[0].itemActivityStatus\n    }\n  })\n})\nconst emit = defineEmits(['refresh'])\n\nfunction toDelayRefreshGoodsDetail() {\n  setTimeout(() => {\n    emit('refresh')\n  }, 500)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n// 轮播图\n.top-swiper {\n  width: 100vw;\n  height: 685rpx;\n  position: relative;\n  background-color: $uni-bg-color;\n}\n\n// 商品名、描述、价格等基础信息\n.goods-base-info {\n  padding: 40rpx 40rpx 67rpx;\n  background-color: $uni-bg-color;\n  min-height: 226rpx;\n\n  .name {\n    font-size: 48rpx;\n    color: #292c2e;\n    font-weight: 600;\n    margin-bottom: 6rpx;\n  }\n\n  .desc {\n    margin-bottom: 24rpx;\n    font-size: 24rpx;\n    color: #92969a;\n  }\n}\n\n.goods-detail-price + .goods-base-info {\n  min-height: unset;\n}\n</style>\n","import Component from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-life/pages/goods-detail/base-info.vue'\nwx.createComponent(Component)","<template>\n  <view v-if=\"couponList.length\" class=\"item\">\n    <text class=\"left\">优惠</text>\n    <view class=\"right\">\n      <text class=\"desc ellipsis\">{{ couponHintString }}</text>\n      <view class=\"wrap-btn\" @click=\"openCouponPopup\">\n        领券\n        <image class=\"icon-right\" :src=\"iconRight\" mode=\"scaleToFill\" />\n      </view>\n    </view>\n  </view>\n  <!-- 选择优惠券弹窗 -->\n  <sp-receive-coupon ref=\"spReceiveCouponRef\" :goods-id=\"itemId\" :goods-name=\"itemName\" :coupon-list=\"couponList\" @receive=\"getCoupon\" />\n</template>\n\n<script lang=\"ts\" setup>\nimport { inject, computed, ref, Ref, watch } from 'vue'\nimport SpReceiveCoupon from './receive-coupon.vue'\nimport { useCoupon } from './coupon'\n\nconst props = defineProps({\n  itemName: {\n    type: String,\n    default: ''\n  },\n  itemId: {\n    type: [String, Number],\n    default: ''\n  }\n})\n\nconst gdp = inject('$gdp') as GeneratorDynamicPicFunc<string>\nconst iconRight = gdp('icon-right.png')\n\n// 卡券信息\nconst { couponList, getCounponList, getCoupon } = useCoupon()\n\nwatch(\n  () => props.itemId,\n  () => {\n    getCounponList(props.itemId)\n  }\n)\n\nconst couponHintString = computed(() => {\n  const firstCoupon = couponList[0]\n  if (!firstCoupon) {\n    return ''\n  }\n  const { threshold, worth } = firstCoupon\n  return `满${threshold / 100}减${worth / 100}`\n})\n\nconst spReceiveCouponRef: Ref<SpPopup | null> = ref(null)\nfunction openCouponPopup() {\n  spReceiveCouponRef.value?.open()\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.item {\n  width: 100%;\n  height: 120rpx;\n  line-height: 120rpx;\n  display: flex;\n\n  & > .left {\n    width: 136rpx;\n    text-align: center;\n  }\n\n  & > .right {\n    width: calc(100% - 136rpx);\n    display: flex;\n    justify-content: space-between;\n    border-bottom: 1rpx solid #e4e7ea;\n    overflow: hidden;\n\n    & > .desc {\n      font-size: 28rpx;\n      color: #292c2e;\n      flex: 1;\n    }\n\n    & > .wrap-btn {\n      font-size: 30rpx;\n      color: #4e6175;\n      display: flex;\n      align-items: center;\n\n      .icon-right {\n        width: 48rpx;\n        height: 48rpx;\n        margin-right: 40rpx;\n      }\n    }\n\n    .freight-template {\n      width: calc(100% - 88rpx);\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      line-height: initial;\n      font-size: 28rpx;\n\n      .shipping-address {\n        color: #bababa;\n        font-size: 24rpx;\n        margin-top: 10rpx;\n      }\n    }\n  }\n\n  &:last-of-type .right {\n    border-bottom: none;\n  }\n}\n</style>\n","import Component from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-life/pages/goods-detail/coupon-item.vue'\nwx.createComponent(Component)","<template>\n  <view v-if=\"activityInfo\" class=\"activity-info\" :class=\"{ 'not-start': !activityIsStarted }\">\n    <view class=\"flex-row items-center justify-between\">\n      <!-- 当前价格：活动未开始显示商品原始价格；活动开始即为活动价格 -->\n      <view class=\"activity-price items-center\">\n        <view v-if=\"currentPriceInfo.fee\">\n          <text class=\"symbal\">￥</text>\n          <text>{{ currentPriceInfo.fee }}</text>\n        </view>\n        <text v-if=\"isPartialMixing\" class=\"symbal\">+</text>\n        <text v-if=\"isFreeMixing && currentPriceInfo.point\" class=\"symbal\">（</text>\n        <view v-if=\"currentPriceInfo.point\">\n          <image class=\"point-icon\" :src=\"pointIcon\" mode=\"aspectFit\" />\n          <text>{{ currentPriceInfo.point }}</text>\n        </view>\n        <text v-if=\"isFreeMixing && currentPriceInfo.point\" class=\"symbal\">）</text>\n        <view v-if=\"isFree\" class=\"isfree-box\">包邮</view>\n      </view>\n\n      <!-- 当前库存：活动未开始显示活动库存，活动开始即为活动库存 -->\n      <view class=\"activity-stock\">{{ activityIsStarted ? '库存剩余' : '库存' }} {{ (activityIsStarted ? activityInfo?.skuQuantity : stockQuantity) || 0 }}</view>\n    </view>\n    <!-- 原价格：活动未开始显示活动价格；活动开始即为商品原始价格 -->\n    <view class=\"origin-price items-center\">\n      <text>{{ activityIsStarted ? '原价' : '活动价' }}</text>\n      <view v-if=\"originPriceInfo.fee\">\n        <text class=\"symbal\">￥</text>\n        <text>{{ originPriceInfo.fee }}</text>\n      </view>\n      <text v-if=\"isPartialMixing\" class=\"symbal\">+</text>\n      <text v-if=\"isFreeMixing && originPriceInfo.point\" class=\"symbal\">（</text>\n      <view v-if=\"originPriceInfo.point\">\n        <image class=\"point-icon\" :src=\"activityIsStarted ? disabledPointIcon : bluePointIcon\" mode=\"aspectFit\" />\n        <text>{{ originPriceInfo.point }}</text>\n      </view>\n      <text v-if=\"isFreeMixing && originPriceInfo.point\" class=\"symbal\">）</text>\n    </view>\n    <!-- 活动开始/结束倒计时 -->\n    <view class=\"activity-countdown items-center justify-between\">\n      <image class=\"bg\" :src=\"activityIsStarted ? bgRed : bgBlue\" />\n      <view class=\"activity-name items-center\">\n        <image class=\"time-limit-img\" :src=\"timeLimitImg\" mode=\"aspectFit\" />\n        <text>{{ activityTypeName }}</text>\n      </view>\n      <view class=\"activity-countdown-num items-center\">\n        <text>{{ activityIsStarted ? '距结束' : '距开始' }}</text>\n        <uni-countdown\n          v-if=\"seconds\"\n          :color=\"countdownColor\"\n          :background-color=\"countdownBgColor\"\n          :special-style=\"true\"\n          splitor-color=\"#fff\"\n          :second=\"seconds\"\n          @timeup=\"emit('timeup')\"\n        />\n      </view>\n    </view>\n  </view>\n</template>\n\n<script lang=\"ts\" setup>\nimport { Enum } from '@src/lib/enmu'\nimport { FormatedPriceInfo } from '@src/util/money'\nimport { inject, computed, PropType } from 'vue'\n\nconst gdp = inject('$gdp') as GeneratorDynamicPicFunc<string[]>\nconst [disabledPointIcon, bluePointIcon, pointIcon, bgBlue, bgRed, timeLimitImg] = gdp([\n  'icon-point-disabled.png',\n  'icon-point-blue.png',\n  'icon-point.png',\n  'blue-bg.png',\n  'red-bg.png',\n  'time-limit.png'\n])\n\nconst props = defineProps({\n  payType: {\n    type: Number,\n    default: null\n  },\n  activityInfo: {\n    type: Object as PropType<Goods.Activity.Sku>,\n    default: null\n  },\n  priceInfo: {\n    type: Object as PropType<FormatedPriceInfo>,\n    default: null\n  },\n  stockQuantity: {\n    type: Number,\n    default: 0\n  },\n  isFree: {\n    type: Boolean,\n    default: false\n  }\n})\n\nconst activityIsStarted = computed(() => props.activityInfo && props.activityInfo.itemActivityStatus === Enum.Activity.Status.IsGoing)\n// 活动类型中文\nconst activityTypeName = computed(() => {\n  return Enum.Activity.getTypeText(props.activityInfo.activityType)\n})\n// 据活动开始/结束时间，单位s\nconst seconds = computed(() => {\n  const { startTime, endTime } = props.activityInfo\n  return (activityIsStarted.value ? endTime - +new Date() : startTime - +new Date()) / 1000\n})\n// 自由混合支付\nconst isFreeMixing = computed(() => props.payType === Enum.Pay.Type.FreeMixing)\n// 定额积分+现金\nconst isPartialMixing = computed(() => props.payType === Enum.Pay.Type.PartialMixing)\n\n// 当前价格：活动未开始显示商品原始价格；活动开始即为活动价格\nconst currentPriceInfo = computed(() => {\n  return {\n    fee: activityIsStarted.value ? props.priceInfo.fee : props.priceInfo.originFee,\n    point: activityIsStarted.value ? props.priceInfo.point : props.priceInfo.originPoint\n  }\n})\n\n// 原价格：活动未开始显示活动价格；活动开始即为商品原始价格\nconst originPriceInfo = computed(() => {\n  return {\n    fee: activityIsStarted.value ? props.priceInfo.originFee : props.priceInfo.activityFee,\n    point: activityIsStarted.value ? props.priceInfo.originPoint : props.priceInfo.activityPoint\n  }\n})\n\nconst countdownColor = computed(() => (props.activityInfo?.itemActivityStatus === -1 ? '#5586B9' : '#ffffff'))\nconst countdownBgColor = computed(() => (props.activityInfo?.itemActivityStatus === -1 ? '#ffffff' : '#9E3A38'))\n\nconst emit = defineEmits(['timeup'])\n</script>\n\n<style lang=\"scss\" scoped>\n.activity-info {\n  padding: 32rpx 40rpx 0;\n  background-color: $uni-bg-color;\n\n  .activity-price {\n    font-size: 44rpx;\n    font-weight: bold;\n\n    .symbal {\n      font-weight: normal;\n      font-size: 32rpx;\n      color: #1a1a1a;\n    }\n\n    .point-icon {\n      width: 28rpx;\n      height: 28rpx;\n    }\n\n    .isfree-box {\n      width: 60rpx;\n      height: 36rpx;\n      line-height: 36rpx;\n      text-align: center;\n      background: #edeff1;\n      border-radius: 2rpx;\n      font-size: 22rpx;\n      color: #696b6c;\n      margin-left: 12rpx;\n      font-weight: normal;\n    }\n  }\n\n  .activity-stock {\n    font-size: 24rpx;\n    color: #c8504e;\n  }\n\n  .origin-price {\n    color: #92969a;\n    font-size: 26rpx;\n    margin: 16rpx 0;\n\n    .point-icon {\n      width: 24rpx;\n      height: 24rpx;\n    }\n  }\n\n  .activity-countdown {\n    position: relative;\n    width: 100%;\n    height: 88rpx;\n    color: #fff0f0;\n    border-radius: 4rpx;\n    padding: 0 32rpx;\n    font-size: 28rpx;\n\n    .bg {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      z-index: 0;\n    }\n\n    .activity-name {\n      font-weight: bold;\n      font-size: 28rpx;\n      color: #fff0f0;\n      z-index: 1;\n    }\n\n    .time-limit-img {\n      width: 26rpx;\n      height: 26rpx;\n      margin-right: 9rpx;\n    }\n\n    .activity-countdown-num {\n      z-index: 1;\n    }\n  }\n\n  &.not-start {\n    .activity-stock {\n      color: #92969a;\n    }\n\n    .origin-price {\n      color: #5586b9;\n    }\n  }\n}\n</style>\n","import Component from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-life/pages/goods-detail/goods-activity-price.vue'\nwx.createComponent(Component)","<template>\n  <uni-popup ref=\"popup\" type=\"bottom\">\n    <view class=\"content\">\n      <view class=\"popup-title\">产品参数</view>\n      <scroll-view scroll-y class=\"wrap-list\">\n        <view class=\"params-list\">\n          <view v-for=\"(attr, index) in attrs\" :key=\"index\" class=\"item\">\n            <text class=\"attr-key\">{{ attr.attrKey }}</text>\n            <text class=\"attr-val ellipsis\">{{ attr.attrVal }}</text>\n          </view>\n        </view>\n      </scroll-view>\n      <view class=\"popup-btn\">\n        <view class=\"btn\" @click=\"close\">关闭</view>\n      </view>\n    </view>\n  </uni-popup>\n</template>\n\n<script lang=\"ts\" setup>\nimport { PropType, ref, Ref } from 'vue'\n\ndefineProps({\n  attrs: {\n    type: Array as PropType<Goods.Attribute[]>,\n    default: () => []\n  }\n})\n\nconst popup: Ref<SpPopup | null> = ref(null)\nfunction open() {\n  popup.value?.open()\n}\nfunction close() {\n  popup.value?.close()\n}\n\ndefineExpose({\n  open,\n  close\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.content {\n  height: 70vh;\n  background-color: white;\n\n  .popup-title {\n    height: 120rpx;\n    line-height: 120rpx;\n    font-size: 34rpx;\n    color: #292c2e;\n    text-align: center;\n  }\n\n  .wrap-list {\n    // 弹窗高度 - 头 - 底部\n    height: calc(70vh - 120rpx - 120rpx);\n\n    .params-list {\n      padding: 0 20px;\n\n      > .item {\n        display: flex;\n        justify-content: space-between;\n        height: 120rpx;\n        line-height: 120rpx;\n        font-size: 28rpx;\n        border-bottom: 1rpx solid rgb(228 231 234 / 50%);\n\n        .attr-key {\n          margin-right: 28rpx;\n          color: #909ca8;\n        }\n\n        .attr-val {\n          color: #696b6c;\n          flex: 3;\n        }\n      }\n\n      > .item:last-child {\n        border-bottom: none;\n      }\n    }\n  }\n\n  .popup-btn {\n    width: 100%;\n    background: #fff;\n    height: 120rpx;\n    padding: 18rpx 40rpx;\n\n    .btn {\n      background: #1a1a1a;\n      font-size: 28rpx;\n      color: #fff;\n      text-align: center;\n      height: 84rpx;\n      line-height: 84rpx;\n    }\n  }\n}\n</style>\n","import Component from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-life/pages/goods-detail/goods-attrs-popup.vue'\nwx.createComponent(Component)","<template>\n  <view class=\"container\">\n    <!-- 评价概述 -->\n    <view class=\"evaluation-overview\">\n      <view>\n        <text>用户评价</text>\n        <text v-if=\"totalNum\" class=\"evaluation-num\">({{ totalNum }})</text>\n      </view>\n      <view v-if=\"totalNum\" @click=\"goEvaluation\">\n        <text class=\"item-h-high-rate\">{{ applauseRate }}%</text>\n        <text>好评率</text>\n        <image class=\"icon-right\" :src=\"iconRight\" mode=\"scaleToFill\" />\n      </view>\n      <view v-else>商品暂无评价</view>\n    </view>\n    <!-- 评价概述 end -->\n\n    <view v-if=\"goodsEvaluation.length > 0\" class=\"goods-evaluation-list\">\n      <view v-for=\"item in goodsEvaluation\" :key=\"item.id\" class=\"evaluation-item\" @click=\"goEvaluation\">\n        <view class=\"item-header\">\n          <!-- 头像 -->\n          <image class=\"avator\" :src=\"item.userAvatar || iconDefaultAvatar\" mode=\"aspectFill\" />\n          <view class=\"base-info\">\n            <view class=\"name\">{{ item.userName }}</view>\n            <view class=\"time\">{{ item.createTime }}</view>\n          </view>\n        </view>\n        <view class=\"evaluation-content ellipsis-2\">\n          {{ item.content }}\n        </view>\n        <view class=\"evaluation-media\">\n          <view v-if=\"item.mediaUrlList && item.mediaUrlList.length > 0\" class=\"image-group\">\n            <template v-for=\"(mediaItem, index) in item.mediaUrlList\">\n              <image v-if=\"mediaItem.mediaUrl && index < 3\" :key=\"index\" class=\"img\" :src=\"mediaItem.mediaUrl\" mode=\"aspectFill\" />\n            </template>\n          </view>\n        </view>\n      </view>\n    </view>\n    <view v-else-if=\"defaultNum\" class=\"default-evaluation-num\">{{ defaultNum }}位用户默认评价了该商品</view>\n  </view>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, inject, PropType } from 'vue'\nconst props = defineProps({\n  goodsDetail: {\n    type: Object as PropType<Goods.Item>,\n    default: null\n  },\n  goodsEvaluations: {\n    type: Object as PropType<Goods.GoodsEvaluations>,\n    default: null\n  }\n})\n\nconst gdp = inject('$gdp') as GeneratorDynamicPicFunc<string[]>\nconst [iconRight, iconDefaultAvatar] = gdp(['icon-right.png', 'icon-default-avatar.png'])\n\nconst goodsEvaluation = computed(() => {\n  // 最多只展示两个评价\n  let evaluations = props.goodsEvaluations.itemEvaluationConsumer\n  return evaluations.map((evaluation: Goods.ItemEvaluationConsumer) => {\n    // 需要过滤掉视频、且只展示三张图片\n    evaluation.mediaUrlList = evaluation.mediaUrlList?.filter((item) => item.mediaType === 1).slice(0, 3) || []\n    return evaluation\n  })\n})\nconst defaultNum = computed(() => props.goodsEvaluations?.defaultNum)\nconst totalNum = computed(() => props.goodsEvaluations?.totalNum)\nconst applauseRate = computed(() => props.goodsEvaluations?.applauseRate)\n\nfunction goEvaluation() {\n  uni.navigateTo({ url: `/package-life/pages/product-assess-list/index?itemId=${props.goodsDetail?.itemBasicVO.id}` })\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  padding: 40rpx;\n  background-color: white;\n}\n\n.evaluation-overview {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 28rpx;\n  color: #92969a;\n\n  .item-h-high-rate {\n    color: #c14947;\n    margin-right: 10rpx;\n  }\n\n  .evaluation-num {\n    margin-left: 15rpx;\n  }\n\n  .icon-right {\n    width: 40rpx;\n    height: 40rpx;\n    vertical-align: text-bottom;\n  }\n}\n\n.goods-evaluation-list {\n  overflow: hidden;\n\n  .evaluation-item {\n    padding-top: 48rpx;\n    border-bottom: 1rpx solid #e4e7ea;\n\n    &:last-child {\n      border-bottom: none;\n    }\n\n    .item-header {\n      display: flex;\n      align-items: center;\n\n      .avator {\n        width: 64rpx;\n        height: 64rpx;\n        border-radius: 50%;\n        margin-right: 24rpx;\n      }\n\n      .base-info {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n\n        .name {\n          height: 41rpx;\n          font-size: 28rpx;\n          font-family: SourceHanSansSC-Medium, SourceHanSansSC;\n          font-weight: 500;\n          color: #1a1a1a;\n          line-height: 41rpx;\n        }\n\n        .time {\n          height: 33rpx;\n          font-size: 22rpx;\n          font-family: SourceHanSansSC-Regular, SourceHanSansSC;\n          font-weight: 400;\n          color: #909ca8;\n          line-height: 33rpx;\n        }\n      }\n    }\n\n    .evaluation-content {\n      margin-top: 13rpx;\n      width: 655rpx;\n      font-size: 26rpx;\n      font-family: SourceHanSansSC-Regular, SourceHanSansSC;\n      font-weight: 400;\n      color: #292c2e;\n      line-height: 34rpx;\n      word-break: break-all;\n    }\n\n    .evaluation-media {\n      margin: 26rpx 0 56rpx;\n\n      .image-group {\n        display: flex;\n        flex-flow: row wrap;\n        align-content: flex-start;\n\n        .img {\n          width: 32%;\n          height: 212rpx;\n\n          // margin-top: 26rpx;\n          margin-right: 2%;\n          border-radius: 4rpx;\n\n          &:nth-child(3) {\n            margin-right: 0;\n          }\n        }\n      }\n    }\n  }\n}\n\n.default-evaluation-num {\n  margin-top: 48rpx;\n  font-size: 24rpx;\n  font-family: PingFangSC-Regular, 'PingFang SC';\n  font-weight: 400;\n  color: #909ca8;\n  text-align: center;\n}\n</style>\n","import Component from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-life/pages/goods-detail/goods-evaluation.vue'\nwx.createComponent(Component)","<template>\n  <view class=\"question\">\n    <view class=\"question-head\" @click=\"goAskEveryone()\">\n      <view class=\"question-head-left\">问答（{{ questionCount }}）</view>\n      <view v-if=\"questionList.length > 0\" class=\"question-head-right\">\n        <text class=\"text\">更多</text>\n        <image class=\"arrow\" :src=\"arrowRight\" />\n      </view>\n    </view>\n    <view v-if=\"questionList.length > 0\" class=\"question-list\" @click=\"goAskEveryone()\">\n      <view v-for=\"item in questionList\" :key=\"item.questionVO.questionId\" class=\"question-list-item\">\n        <view class=\"question-list-item-left ellipsis\">\n          <image class=\"question-list-item-left-img\" :src=\"question\" />\n          <view class=\"question-list-item-left-title ellipsis\">{{ item.questionVO.questionDetails }}</view>\n        </view>\n        <view class=\"question-list-item-right\">{{ formatFormAnswerCount(item.questionVO.showAnswerCount) }}个回答</view>\n      </view>\n    </view>\n    <view v-else class=\"question-none\">\n      <view class=\"question-none-left\">商品怎么样，去问问已买过的人？</view>\n      <view class=\"question-none-right\" @click=\"goAskEveryone()\">去提问</view>\n    </view>\n  </view>\n</template>\n<script setup lang=\"ts\">\nimport { getAskEveryoneList } from '@api/question'\nimport { reactive, ref, inject } from 'vue'\nimport { onShow } from '@dcloudio/uni-app'\nconst props = defineProps<{\n  itemId: string\n  name: string\n  imageInfos: string | string[]\n}>()\n\nconst gdp = inject('$gdp') as GeneratorDynamicPicFunc<string>\nconst arrowRight = gdp('icon-arrow-right.png')\nconst question = gdp('icon-question.png')\n\n// 格式化处理问题数量\nfunction formatFormAnswerCount(answerCount: number) {\n  if (answerCount > 999) {\n    return '999+'\n  } else {\n    return answerCount\n  }\n}\n\n// 获取最新的两个问题\nconst questionList: any = reactive([]) // 问题列表\nconst questionCount = ref(0) // 问题数量\nasync function getQuestions() {\n  try {\n    questionList.length = 0\n    const res = (await getAskEveryoneList(props.itemId, {\n      pageNo: 1,\n      pageSize: 2\n    })) as { data: Array<AnyObject>; total: number }\n    res.data.map((item: AnyObject, index: number) => {\n      res.data[index].questionVO.questionDetails = item.questionVO.questionDetails.replace(/[\\r\\n]/g, ' ') //去掉回车换行\n    })\n    questionCount.value = res.total\n    questionList.push(...res.data)\n  } catch (error) {}\n}\n// 跳转问答列表\nfunction goAskEveryone() {\n  const headImg: string = Array.isArray(props.imageInfos) ? props.imageInfos[0] : props.imageInfos\n  uni.navigateTo({\n    url: `/package-life/pages/ask-everyone-list/index?id=${props.itemId}&title=${props.name}&img=${headImg}`\n  })\n}\n// 从问答列表返回时需要重新更新数据\nonShow(() => {\n  getQuestions()\n})\n</script>\n<style lang=\"scss\" scoped>\n.question {\n  padding: 40rpx;\n  background-color: #ffff;\n\n  &-head {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    &-left {\n      font-size: 28rpx;\n      font-family: SourceHanSansSC-Regular, SourceHanSansSC;\n      color: #92969a;\n    }\n\n    &-right {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      font-size: 30rpx;\n      color: #4e6175;\n\n      .arrow {\n        width: 48rpx;\n        height: 48rpx;\n      }\n\n      .text {\n        vertical-align: top;\n      }\n    }\n  }\n\n  &-list {\n    margin-top: 30rpx;\n\n    &-item {\n      display: flex;\n      margin-top: 15rpx;\n      justify-content: space-between;\n\n      &-left {\n        width: 500rpx;\n        display: flex;\n\n        &-img {\n          // margin-top: 5rpx;\n          width: 34rpx;\n          height: 34rpx;\n        }\n\n        &-title {\n          margin-left: 6rpx;\n          font-size: 28rpx;\n          font-family: SourceHanSansSC-Regular, SourceHanSansSC;\n          font-weight: 400;\n          width: 90%;\n          color: #292c2e;\n\n          // word-break: break-all;\n          // word-wrap: break-word;\n          white-space: pre;\n          vertical-align: top;\n        }\n      }\n\n      &-right {\n        font-size: 28rpx;\n        font-family: SourceHanSansSC-Regular, SourceHanSansSC;\n        font-weight: 400;\n        color: #92969a;\n      }\n    }\n  }\n\n  &-none {\n    margin-top: 40rpx;\n    display: flex;\n    justify-content: space-between;\n\n    &-left {\n      font-size: 28rpx;\n      font-family: SourceHanSansSC-Regular, SourceHanSansSC;\n      font-weight: 400;\n      color: #292c2e;\n    }\n\n    &-right {\n      width: 104rpx;\n      height: 46rpx;\n      text-align: center;\n      line-height: 46rpx;\n      font-size: 26rpx;\n      font-family: SourceHanSansSC-Regular, SourceHanSansSC;\n      color: #fff;\n      background: #1a1a1a;\n      border-radius: 2rpx;\n    }\n  }\n}\n</style>\n","import Component from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-life/pages/goods-detail/goods-question.vue'\nwx.createComponent(Component)","<template>\n  <uni-popup ref=\"popup\" type=\"bottom\">\n    <view class=\"content\">\n      <view class=\"popup-title\">领取优惠券</view>\n      <scroll-view scroll-y class=\"wrap-list\">\n        <!-- 没有优惠券 -->\n        <template v-if=\"couponList.length === 0\">\n          <view class=\"coupon-none\">\n            <image class=\"not-coupon-image\" :src=\"couponEmpty\" />\n            <view class=\"txt\">无可用优惠券</view>\n          </view>\n        </template>\n        <!-- 有优惠券时，优惠券列表 -->\n        <view v-else class=\"coupon-list\">\n          <view v-for=\"(item, key) of couponList\" :key=\"key\" class=\"coupon-item-choose\">\n            <view class=\"item-content\" :class=\"{ disabled: item.balance == 0 }\" @click=\"receiveCoupon(item)\">\n              <image class=\"img\" :src=\"item.balance == 0 ? couponBgDisabled : couponBg\" mode=\"scaleToFill\" />\n              <!-- 左侧金额 -->\n              <view class=\"left\" :class=\"[formatGeneratorNumSizeClass(item.worth / 100)]\">\n                <text class=\"money-symbol\">¥</text>\n                <text class=\"num ellipsis\">{{ item.worth / 100 }}</text>\n              </view>\n              <!-- 右侧内容 -->\n              <view class=\"right\">\n                <view class=\"info\">\n                  <view v-if=\"item.threshold === 0\" class=\"title ellipsis\">无门槛({{ item.applicability }})</view>\n                  <view v-else class=\"title ellipsis\">满{{ item.threshold / 100 }}可用 ({{ item.applicability }})</view>\n                  <template v-if=\"item.validityTimeType == 1\">\n                    <view class=\"limit\">有效期至{{ item.validityEndTime }}</view>\n                  </template>\n                  <template v-else-if=\"item.validityTimeType == 2\">\n                    <view class=\"limit\">有效期限{{ item.validityTime }}{{ item.validityUnit == 1 ? '日' : '个月' }}</view>\n                  </template>\n                </view>\n                <view class=\"operate\">\n                  <view v-if=\"item.balance == 0\" class=\"disabled\">已领完</view>\n                  <view v-else>\n                    <view>立即领取</view>\n                    <view v-if=\"item.balance <= 5\" class=\"balance-number\">还剩{{ item.balance }}张</view>\n                  </view>\n                </view>\n              </view>\n            </view>\n          </view>\n        </view>\n      </scroll-view>\n      <view class=\"popup-footer\">\n        <view class=\"btn\" @click=\"close\">关闭</view>\n      </view>\n    </view>\n  </uni-popup>\n</template>\n\n<script lang=\"ts\" setup>\nimport { inject, PropType, ref, Ref } from 'vue'\n\nconst props = defineProps({\n  couponList: {\n    type: Array as PropType<Coupon.Item[]>,\n    default: () => []\n  },\n  goodsName: {\n    type: String,\n    default: ''\n  },\n  goodsId: {\n    type: [Number, String],\n    required: true\n  }\n})\n\nconst emit = defineEmits(['receive'])\n\nconst gdp = inject('$gdp') as GeneratorDynamicPicFunc<string[]>\nconst [couponEmpty, couponBg, couponBgDisabled] = gdp(['coupon-empty.png', 'bg-coupon.png', 'bg-coupon-disabled.png'])\n\nconst formatGeneratorNumSizeClass = (num: number) => {\n  const len = String(num).length\n  return len > 7 ? 'size-mini' : len > 5 ? 'size-small' : len > 4 ? 'size-middle' : ''\n}\n\nasync function receiveCoupon(item: Coupon.Item) {\n  if (item.balance > 0) {\n    const sendData: Coupon.ReceiveParams = {\n      businessDataName: props.goodsName,\n      businessDataId: props.goodsId,\n      couponList: [{ couponId: item.id, number: 1 }]\n    }\n    emit('receive', sendData)\n  }\n}\n\nconst popup: Ref<SpPopup | null> = ref(null)\nfunction open() {\n  popup.value?.open()\n}\nfunction close() {\n  popup.value?.close()\n}\n\ndefineExpose({\n  open,\n  close\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.content {\n  height: 70vh;\n  background-color: #fff;\n}\n\n.popup-title {\n  height: 120rpx;\n  line-height: 120rpx;\n  font-size: 34rpx;\n  color: #292c2e;\n  text-align: center;\n}\n\n.popup-footer {\n  height: 120rpx;\n  padding-top: 18rpx;\n  border-top: 1rpx solid #e4e7ea;\n\n  .btn {\n    background: #1a1a1a;\n    font-size: 28rpx;\n    color: #fff;\n    text-align: center;\n    width: 94%;\n    margin: 0 auto;\n    height: 84rpx;\n    line-height: 84rpx;\n  }\n}\n\n.coupon-none {\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  justify-content: center;\n  height: 680rpx;\n\n  .not-coupon-image {\n    width: 144rpx;\n    height: 144rpx;\n  }\n\n  .txt {\n    font-size: 26rpx;\n    color: #909ca8;\n    text-align: center;\n    margin-top: 32rpx;\n  }\n}\n\n.wrap-list {\n  // 弹窗高度 - 头部高度 - 底部按钮容器\n  height: calc(70vh - 120rpx - 120rpx);\n}\n\n.coupon-list {\n  padding-bottom: 20rpx;\n\n  .coupon-item-choose {\n    margin: 40rpx 0;\n\n    .item-content {\n      display: flex;\n      align-items: center;\n      position: relative;\n\n      &.disabled {\n        opacity: 0.7;\n      }\n\n      .img {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 200rpx;\n      }\n\n      .left {\n        font-size: 28rpx;\n        color: #fff;\n        line-height: 170rpx;\n        position: relative;\n        height: 170rpx;\n        width: 28%;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        z-index: 10;\n        margin-left: 32rpx;\n\n        .money-symbol {\n          position: relative;\n          top: 22rpx;\n        }\n\n        .num {\n          font-size: 80rpx;\n          margin-left: 4rpx;\n        }\n\n        &.size-middle {\n          .money-symbol {\n            top: 12rpx;\n          }\n\n          .num {\n            font-size: 60rpx;\n          }\n        }\n\n        &.size-small {\n          .money-symbol {\n            top: 4rpx;\n          }\n\n          .num {\n            font-size: 46rpx;\n          }\n        }\n\n        &.size-mini {\n          .money-symbol {\n            top: 4rpx;\n          }\n\n          .num {\n            font-size: 40rpx;\n            max-width: 180rpx;\n          }\n        }\n      }\n\n      .right {\n        // 剩余宽度 - 左边margin\n        width: calc(72% - 32rpx);\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        padding: 0 60rpx 0rpx 20rpx;\n        height: calc(168rpx - 40rpx);\n        z-index: 10;\n\n        .info {\n          width: 70%;\n\n          .title {\n            font-size: 30rpx;\n            color: #1a1a1a;\n            font-weight: 600;\n            width: 98%;\n          }\n\n          .limit {\n            font-size: 24rpx;\n            color: #909ca8;\n            margin-top: 4rpx;\n            font-weight: 400;\n          }\n        }\n\n        .operate {\n          text-align: center;\n          flex-shrink: 0;\n          color: #4e6175;\n          font-size: 32rpx;\n          font-weight: 600;\n\n          .disabled {\n            color: #bababa;\n          }\n\n          .balance-number {\n            font-size: 24rpx;\n            color: #909ca8;\n            font-weight: 400;\n          }\n        }\n      }\n    }\n  }\n\n  .coupon-item-choose:first-child {\n    margin-top: 20rpx;\n  }\n}\n</style>\n","import Component from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-life/pages/goods-detail/receive-coupon.vue'\nwx.createComponent(Component)","<template>\n  <view class=\"shop-modular\">\n    <view class=\"modular-title\">适用门店</view>\n    <view class=\"shop-list\">\n      <view class=\"item-detail-info\" @click=\"openTheMap\">\n        <view class=\"store-name\">{{ nearestStore.storeName }}</view>\n        <view class=\"store-address\">\n          <text class=\"text\">{{ nearestStore.storeAddress }}</text>\n          <image class=\"img\" :src=\"iconRight\" />\n        </view>\n      </view>\n      <view class=\"icon-info\" @click=\"toShowPhonePop()\">\n        <image class=\"img\" :src=\"iconPhone\" mode=\"scaleToFill\" />\n      </view>\n    </view>\n    <navigator :url=\"'/package-life/pages/store-list/index?id=' + itemId\" hover-class=\"none\">\n      <view v-if=\"storeList.length > 1\" class=\"more-shop\">\n        <text class=\"text\">查看更多门店</text>\n        <image class=\"img\" :src=\"iconRightBlack\" mode=\"scaleToFill\" />\n      </view>\n    </navigator>\n  </view>\n  <uni-popup ref=\"phonePopupRef\" type=\"bottom\">\n    <view class=\"phone-popup-content\">\n      <view class=\"phone-number-box\">\n        <view v-for=\"phone in phoneList\" :key=\"phone\" @click=\"onCall(phone)\">{{ phone }}</view>\n      </view>\n      <view class=\"popup-btn\">\n        <view class=\"btn\" @click=\"closePhonePopup\">取消</view>\n      </view>\n    </view>\n  </uni-popup>\n</template>\n\n<script lang=\"ts\" setup>\nimport { inject, computed, reactive, ref, Ref, PropType } from 'vue'\nimport { getFlatternDistance } from '@util/map'\nimport { useLocationStore } from '@src/pinia/location'\n\nconst locationStore = useLocationStore()\n\nconst props = defineProps({\n  itemId: {\n    type: [String, Number],\n    default: null\n  },\n  storeList: {\n    type: Array as PropType<Goods.StoreInfo[]>,\n    default: () => []\n  }\n})\n// 最近的门店\nconst nearestStore = reactive({}) as StoreInfo\n\nconst gdp = inject('$gdp') as GeneratorDynamicPicFunc<string[]>\nconst [iconRight, iconPhone, iconRightBlack] = gdp(['icon-right.png', 'icon-phone.png', 'icon-right-black.png'])\n\nif (props.storeList.length) {\n  try {\n    const location = await locationStore.getLocation()\n    // 门店按照直线距离远近排序\n    const reversedStoreList = [...props.storeList].reverse()\n    reversedStoreList.sort((a: StoreInfo, b: StoreInfo) => {\n      return (\n        getFlatternDistance(Number(a.latitude), Number(a.longitude), Number(location.latitude), Number(location.longitude)) -\n        getFlatternDistance(Number(b.latitude), Number(b.longitude), Number(location.latitude), Number(location.longitude))\n      )\n    })\n    // 显示最近的门店\n    Object.assign(nearestStore, props.storeList[0])\n  } catch (error) {\n    Object.assign(nearestStore, props.storeList[props.storeList.length - 1])\n    console.log('获取定位失败', nearestStore)\n  }\n}\n\nconst phonePopupRef: Ref<SpPopup | null> = ref(null)\n\nfunction toShowPhonePop() {\n  phonePopupRef.value?.open()\n}\nfunction closePhonePopup() {\n  phonePopupRef.value?.close()\n}\n\nconst phoneList = computed(() => (nearestStore.mobile || '').split(','))\n// 调用地图\nconst openTheMap = async () => {\n  const { latitude, longitude, storeName, storeAddress } = nearestStore\n  uni.openLocation({\n    latitude: Number(latitude),\n    longitude: Number(longitude),\n    name: storeName,\n    address: storeAddress\n  })\n}\n\n// 联系商家拨打电话\nfunction onCall(mobile: string) {\n  uni.makePhoneCall({\n    phoneNumber: mobile\n  })\n}\n</script>\n<style lang=\"scss\" scoped>\n// 适用门店\n.shop-modular {\n  padding: 40rpx;\n  background-color: #fff;\n\n  .modular-title {\n    color: #92969a;\n    margin-bottom: 10rpx;\n  }\n\n  .shop-list {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    .item-detail-info {\n      width: 90%;\n\n      .store-name {\n        font-size: 30rpx;\n        color: #292c2e;\n      }\n\n      .store-address {\n        width: 100%;\n        display: flex;\n        justify-content: flex-start;\n        align-items: center;\n        font-size: 24rpx;\n        color: #92969a;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n\n        .text {\n          width: 83%;\n          overflow: hidden;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n        }\n\n        .img {\n          width: 40rpx;\n          height: 40rpx;\n        }\n      }\n    }\n\n    .icon-info {\n      .img {\n        width: 72rpx;\n        height: 72rpx;\n      }\n    }\n  }\n\n  .more-shop {\n    width: 100%;\n    margin-top: 40rpx;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    .text {\n      color: #4e6175;\n    }\n\n    .img {\n      width: 40rpx;\n      height: 40rpx;\n    }\n  }\n}\n\n// 弹窗，选择需要拨打的电话\n.phone-popup-content {\n  width: 94%;\n  margin: 0 auto;\n  color: #008eff;\n  padding-bottom: env(safe-area-inset-bottom);\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  .phone-number-box {\n    border-radius: 16rpx;\n    margin-bottom: 20rpx;\n    background: #fff;\n\n    > view {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      height: 120rpx;\n      font-size: 34rpx;\n      border-bottom: 1rpx solid rgb(228 231 234 / 50%);\n    }\n\n    > view:last-child {\n      border-bottom: none;\n    }\n  }\n\n  .popup-btn {\n    background: #fff;\n\n    .btn {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      height: 120rpx;\n      font-size: 38rpx;\n    }\n  }\n}\n</style>\n","import Component from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-life/pages/goods-detail/store.vue'\nwx.createComponent(Component)","<template>\n  <view class=\"order items-center\">\n    <view v-for=\"item in orderConditions\" :key=\"item.key\" class=\"order-item items-center\" :class=\"{ active: sortKey === item.key }\" @click=\"changeOrder(item)\">\n      <text class=\"text\">{{ item.name }}</text>\n      <template v-if=\"item.key !== 'default'\">\n        <image v-show=\"sortKey !== item.key || sortType === null\" class=\"icon\" :src=\"orderNoneImg\" />\n        <image v-show=\"sortKey === item.key && sortType === 0\" class=\"icon\" :src=\"descendingImg\" />\n        <image v-show=\"sortKey === item.key && sortType === 1\" class=\"icon\" :src=\"ascendingImg\" />\n      </template>\n    </view>\n  </view>\n</template>\n\n<script lang=\"ts\" setup>\nimport { inject, reactive, ref, Ref } from 'vue'\n\ninterface OrderItemInfo {\n  name: string\n  key: string\n}\n\nconst emit = defineEmits(['change'])\n\nconst gdp = inject('$gdp') as GeneratorDynamicPicFunc<string[]>\nconst [ascendingImg, descendingImg, orderNoneImg] = gdp(['order-ascending.png', 'order-descending.png', 'order-none.png'])\n\nconst sortKey = ref('default')\n// 0 降序 1 升序\nconst sortType: Ref<number | null> = ref(null)\n\nconst orderConditions: OrderItemInfo[] = reactive([\n  { name: '默认', key: 'default' },\n  { name: '销量', key: 'quantity' },\n  { name: '价格', key: 'price' }\n])\n\nfunction changeOrder(item: OrderItemInfo) {\n  if (item.key === 'default' && sortKey.value === item.key) {\n    return\n  }\n  if (item.key === 'default') {\n    sortType.value = null\n  } else if (sortKey.value === item.key) {\n    sortType.value = sortType.value === 0 ? 1 : 0\n  } else {\n    sortType.value = 0\n  }\n  sortKey.value = sortType.value === null ? 'default' : item.key\n  emit('change', {\n    sortKey: sortKey.value,\n    sortType: sortType.value\n  })\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.order {\n  padding: 0 40rpx;\n  height: 100rpx;\n\n  .order-item {\n    padding: 0 15rpx;\n    margin-right: 15rpx;\n\n    &.active {\n      .text {\n        color: #292c2e;\n        font-weight: 500;\n      }\n    }\n  }\n\n  .text {\n    color: #92969a;\n    font-size: 30rpx;\n    margin-right: 6rpx;\n  }\n\n  .icon {\n    width: 28rpx;\n    height: 28rpx;\n  }\n}\n</style>\n","import Component from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-life/pages/goods-search/order.vue'\nwx.createComponent(Component)","<template>\n  <uni-popup ref=\"couponPicker\" type=\"bottom\" @change=\"changeVisible\">\n    <view class=\"picker-container\">\n      <view class=\"tab flex-row\">\n        <view class=\"tab-item items-center\" :class=\"[actived === 0 ? 'active' : '']\" @click=\"changeTab(0)\" />\n        可用优惠券 {{ availableList.length || '' }}\n      </view>\n      <view class=\"tab-item items-center\" :class=\"[actived === 1 ? 'active' : '']\" @click=\"changeTab(1)\">不可用优惠券 {{ unavailableList.length || '' }}</view>\n    </view>\n    <view v-if=\"isEmpty\" class=\"empty flex-col items-center justify-center\">\n      <image class=\"image\" :src=\"couponEmpty\" />\n      <text>{{ actived === 0 ? '无可用优惠券' : '无不可用优惠券' }}</text>\n    </view>\n    <template v-else>\n      <view class=\"picker-counter items-center\">\n        您已选中优惠券\n        <text class=\"num\">{{ selectedCode ? 1 : 0 }}</text>\n        张，共可抵扣\n        <text class=\"num\">￥{{ discount }}</text>\n      </view>\n      <scroll-view scroll-y :scroll-top=\"scrollTop\" class=\"scroll-content\" @scroll=\"scroll\">\n        <view class=\"coupon-list\">\n          <view v-for=\"coupon in couponList\" :key=\"coupon.couponAccountCode\" class=\"coupon-item items-center\" @click=\"checkChange(coupon.couponAccountCode)\">\n            <image class=\"bg-image\" :src=\"actived == 0 ? couponBg : couponBgDisabled\" mode=\"scaleToFill\" />\n            <view class=\"coupon-info items-center\">\n              <!-- 左侧金额 -->\n              <view class=\"left items-center justify-center\" :class=\"[setGeneratorNumSizeClass(coupon.worth / 100)]\">\n                <text class=\"symbol\">¥</text>\n                <text class=\"num ellipsis\">{{ coupon.worth / 100 }}</text>\n              </view>\n              <!-- 右侧内容 -->\n              <view class=\"right items-center justify-between\">\n                <view class=\"info\">\n                  <view v-if=\"coupon.threshold === 0\" class=\"title ellipsis\">无门槛({{ coupon.applicability }})</view>\n                  <view v-else class=\"title ellipsis\">满{{ coupon.threshold / 100 }}可用 ({{ coupon.applicability }})</view>\n                  <view class=\"limit\">{{ formatDate(coupon.effectiveStartTime) }}至{{ formatDate(coupon.effectiveEndTime) }}</view>\n                </view>\n                <view v-if=\"actived === 0\" class=\"operate\">\n                  <sp-checkbox :checked=\"selectedCode === coupon.couponAccountCode\" round size=\"large\" @change=\"checkChange(coupon.couponAccountCode)\" @click.stop />\n                </view>\n              </view>\n            </view>\n          </view>\n        </view>\n      </scroll-view>\n    </template>\n    <view class=\"footer items-center justify-center\">\n      <view class=\"btn items-center justify-center\" @click=\"close\">关闭</view>\n    </view>\n  </uni-popup>\n</template>\n\n<script lang=\"ts\" setup name=\"CouponPicker\">\nimport { PropType, inject, watch, ref, computed, nextTick, Ref } from 'vue'\nimport { formatDate } from '@util/date-time'\n\nconst props = defineProps({\n  modelValue: Boolean,\n  initCode: {\n    type: String,\n    default: ''\n  },\n  availableList: {\n    type: Array as PropType<Coupon.Item[]>,\n    default: () => []\n  },\n  unavailableList: {\n    type: Array as PropType<Coupon.Item[]>,\n    default: () => []\n  },\n  discount: {\n    type: Number,\n    default: 0\n  }\n})\nconst emit = defineEmits(['update:modelValue', 'selected', 'input'])\n\nconst gdp = inject('$gdp') as GeneratorDynamicPicFunc<string[]>\nconst [couponEmpty, couponBg, couponBgDisabled] = gdp(['coupon-empty.png', 'bg-coupon.png', 'bg-coupon-disabled.png'])\n\nconst couponPicker: Ref<SpPopup | null> = ref(null)\n\nconst open = () => {\n  couponPicker.value?.open()\n}\nconst close = () => {\n  couponPicker.value?.close()\n}\n\nconst selectedCode = ref('')\n\nconst checkChange = (couponCode: string) => {\n  if (actived.value === 1) {\n    return\n  }\n  selectedCode.value = selectedCode.value === couponCode ? '' : couponCode\n  emit('selected', selectedCode.value)\n}\n\nwatch(\n  () => props.modelValue,\n  async (val) => {\n    if (val) {\n      selectedCode.value = props.initCode\n      open()\n    } else {\n      close()\n    }\n  }\n)\n\nconst changeVisible = (data: { show: boolean; type: string }) => {\n  emit('update:modelValue', data.show)\n  // #ifdef MP-WEIXIN\n  // vue3 小程序 update:modelValue 不生效的临时方案\n  emit('input', data.show)\n  // #endif\n}\n\n/**\n * 页面滚动条处理\n */\nlet oldScrollTop = 0\nconst scrollTop = ref(0)\n// 滚动\nconst scroll = (e: ScrollEvent) => {\n  oldScrollTop = e.detail.scrollTop\n}\n// 返回顶部\nconst goTop = () => {\n  scrollTop.value = oldScrollTop\n  nextTick(() => {\n    scrollTop.value = 0\n  })\n}\n\nconst actived = ref(0)\n\nconst changeTab = (index: number) => {\n  actived.value = index\n  goTop()\n}\n\n// 根据金额长度调整字体样式\nconst setGeneratorNumSizeClass = (num: number) => {\n  const len = String(num).length\n  return len > 7 ? 'size-mini' : len > 5 ? 'size-small' : len > 4 ? 'size-middle' : ''\n}\n\nconst isEmpty = computed(() => {\n  return actived.value === 0 ? !props.availableList.length : !props.unavailableList.length\n})\n\nconst couponList = computed(() => (actived.value === 0 ? props.availableList : props.unavailableList))\n</script>\n\n<style lang=\"scss\" scoped>\n@import './index.scss';\n</style>\n","import Component from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-life/pages/goods-settle/coupon-picker/index.vue'\nwx.createComponent(Component)","<template>\n  <view class=\"wrap-address padding-40\" @click=\"goSelectAddress\">\n    <view v-if=\"selectedAddress\" class=\"address-detail\">\n      <view class=\"left\">\n        <view class=\"name-mobile font-medium\">\n          <text class=\"receiver-name ellipsis\">{{ selectedAddress.receiverName }}</text>\n          <text>{{ selectedAddress.mobile }}</text>\n        </view>\n        <view class=\"detail ellipsis-2\">{{ addressDetail }}</view>\n      </view>\n      <view class=\"right\">\n        <image class=\"icon-right\" :src=\"iconRight\" mode=\"scaleToFill\" />\n      </view>\n    </view>\n    <view v-else class=\"selcted-address\">\n      <text class=\"plus\">+</text>\n      <text class=\"txt\">添加地址</text>\n    </view>\n  </view>\n</template>\n\n<script lang=\"ts\" setup>\nimport { useAddressStore } from '@src/pinia/address'\nimport { computed, inject, watch } from 'vue'\n\n// 静态图片\nconst gdp = inject('$gdp') as GeneratorDynamicPicFunc<string>\nconst iconRight = gdp('icon-right-new.png')\n\nconst addressStore = useAddressStore()\n\nconst emit = defineEmits(['change'])\n// 地址相关\nconst selectedAddress = computed(() => addressStore.selectedAddress)\nconst addressDetail = computed(() => {\n  const { province, city, district, details } = selectedAddress.value || {}\n  return province ? province + city + district + details : ''\n})\n\nwatch(\n  () => selectedAddress.value,\n  (value) => {\n    emit('change', value?.id || null)\n  }\n)\n\n// 去选择地址\nconst goSelectAddress = () => {\n  uni.navigateTo({ url: `/package-mine/pages/address-list/index?is-picker=1&isFromPage=goodsSettle` })\n}\n</script>\n<style lang=\"scss\" scoped>\n.padding-40 {\n  padding: 0 40rpx;\n}\n\n// 地址\n.wrap-address {\n  height: 180rpx;\n  display: flex;\n  align-items: center;\n  border-bottom: 1rpx solid #f2f3f3;\n  border-top: 1rpx solid #f2f3f3;\n\n  // 已选的地址详情\n  .address-detail {\n    flex: 1;\n    display: flex;\n\n    .left {\n      flex: 1;\n\n      .name-mobile {\n        font-size: 32rpx;\n        font-weight: 500;\n        color: #1a1a1a;\n      }\n\n      .detail {\n        font-size: 26rpx;\n        color: #92969a;\n        margin-top: 6rpx;\n      }\n\n      .receiver-name {\n        display: inline-block;\n        margin-right: 16rpx;\n        max-width: 200rpx;\n        vertical-align: bottom;\n      }\n    }\n\n    .right {\n      display: flex;\n      align-items: center;\n\n      .icon-right {\n        width: 48rpx;\n        height: 48rpx;\n      }\n    }\n  }\n\n  // 没有选择地址时\n  .selcted-address {\n    font-size: 34rpx;\n    font-weight: 500;\n    color: #1a1a1a;\n\n    .plus {\n      font-size: 60rpx;\n      margin-right: 6rpx;\n    }\n\n    .txt {\n      position: relative;\n      top: -8rpx;\n    }\n  }\n}\n</style>\n","import Component from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-life/pages/goods-settle/goods-address.vue'\nwx.createComponent(Component)","<template>\n  <view class=\"wrap-single-goods\">\n    <view class=\"left\">\n      <image class=\"img\" :src=\"goods.skuImage\" mode=\"scaleToFill\" />\n    </view>\n    <view class=\"right\">\n      <view class=\"name-quantity items-center justify-between\">\n        <view class=\"name font-medium ellipsis\">{{ goods.itemName }}</view>\n        <view class=\"quantity\">x{{ goods.quantity }}</view>\n      </view>\n      <view class=\"sku ellipsis\">\n        {{ toGeneratorSkuAttr(goods.skuSaleAttributes) }}\n      </view>\n      <!-- 活动信息 -->\n      <view v-if=\"goods.activityTypeList && goods.activityTypeList[0] === 5\" class=\"activity-tag\">限时抢购</view>\n      <!-- 商品价格 -->\n      <!-- payType = 1 只显示金钱 ￥10 -->\n      <!-- payType = 2 只显示积分 1000 -->\n      <!-- payType = 3 显示金钱+积分 ￥10+1000 -->\n      <!-- payType = 4 显示金钱（积分） ￥10（1000） -->\n      <view class=\"price items-center font-normal\">\n        <!-- 库存充足显示价格 -->\n        <view v-if=\"formatedGoods.priceInfo.fee\">\n          <text>￥</text>\n          <text>{{ formatedGoods.priceInfo.fee }}</text>\n        </view>\n        <view v-if=\"formatedGoods.priceInfo.point\">\n          <text v-if=\"goods.payType === 3\">+</text>\n          <text v-if=\"goods.payType === 4\">（</text>\n          <image class=\"point-icon\" :src=\"iconPoint\" mode=\"aspectFit\" />\n          <text>{{ formatedGoods.priceInfo.point }}</text>\n        </view>\n        <text v-if=\"goods.payType === 4\">）</text>\n      </view>\n      <!-- 原价 -->\n      <view v-if=\"goods.activityTypeList && goods.activityTypeList[0] === 5\" class=\"origin-price items-center\">\n        <view class=\"line-through\">\n          <view v-if=\"formatedGoods.priceInfo.originFee\">\n            <text>￥</text>\n            <text>{{ formatedGoods.priceInfo.originFee }}</text>\n          </view>\n          <view v-if=\"formatedGoods.priceInfo.originPoint\">\n            <text v-if=\"goods.payType === 3\">+</text>\n            <text v-if=\"goods.payType === 4\">（</text>\n            <image class=\"point-icon\" :src=\"iconOrderPoint\" mode=\"aspectFit\" />\n            <text>{{ formatedGoods.priceInfo.originPoint }}</text>\n          </view>\n          <text v-if=\"goods.payType === 4\">）</text>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script lang=\"ts\" setup>\nimport { formatPrice } from '@src/util/money'\nimport { PropType, computed, inject } from 'vue'\nimport { toGeneratorSkuAttr } from './order'\n\nconst props = defineProps({\n  goods: {\n    type: Object as PropType<Order.PreviewOrderItem>,\n    default: null\n  },\n  pointRatio: {\n    type: Number,\n    default: 1\n  }\n})\n\n// 静态图片\nconst gdp = inject('$gdp') as GeneratorDynamicPicFunc<string[]>\nconst [iconPoint, iconOrderPoint] = gdp(['icon-point-settle.png', 'order-detail-point-detail.png'])\n\nconst formatedGoods = computed(() => {\n  const item = props.goods\n  return {\n    ...item,\n    priceInfo: formatPrice({\n      payType: item.payType,\n      price: Number(item.retailPrice),\n      pointPrice: Number(item.pointNum),\n      pointRatio: props.pointRatio,\n      maxPointPrice: Number(item.retailPrice),\n      activityInfo: item.activityPrice\n        ? {\n            activityPrice: item.activityPrice,\n            activityStatus: 1\n          }\n        : null\n    })\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n// 商品行\n.wrap-single-goods {\n  display: flex;\n  padding: 40rpx 40rpx 0;\n\n  .left {\n    display: flex;\n    flex-basis: 160rpx;\n\n    .img {\n      width: 160rpx;\n      height: 160rpx;\n      background-color: #f4f5f6;\n    }\n  }\n\n  .right {\n    flex: 1;\n    padding-left: 24rpx;\n    padding-top: 11rpx;\n\n    .name-quantity {\n      font-size: 28rpx;\n\n      .name {\n        color: #1a1a1a;\n        font-weight: 600;\n        flex: 1;\n        max-width: 420rpx;\n      }\n\n      .quantity {\n        color: #292c2e;\n        flex-basis: 60rpx;\n        text-align: right;\n        margin-left: auto;\n      }\n    }\n\n    .sku {\n      margin-top: 6rpx;\n      font-size: 26rpx;\n      color: #909ca8;\n      max-width: 490rpx;\n    }\n\n    .activity-tag {\n      box-sizing: border-box;\n      color: #c14947;\n      font-size: 22rpx;\n      height: 36rpx;\n      padding: 0 8rpx;\n      border-radius: 4rpx;\n      border: 1rpx solid #c14947;\n      display: flex;\n      align-items: center;\n      width: fit-content;\n      margin-top: 16rpx;\n    }\n  }\n\n  .price {\n    font-size: 28rpx;\n    margin-top: 16rpx;\n  }\n\n  .point-icon {\n    width: 24rpx;\n    height: 24rpx;\n    position: relative;\n    top: 2rpx;\n  }\n\n  .origin-price {\n    position: relative;\n    font-size: 28rpx;\n    color: #92969a;\n\n    .line-through {\n      display: inline-flex;\n      position: relative;\n\n      &::after {\n        content: '';\n        position: absolute;\n        top: 50%;\n        left: 0;\n        right: 0;\n        height: 1rpx;\n        background-color: #92969a;\n        z-index: 5;\n      }\n    }\n  }\n}\n</style>\n","import Component from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-life/pages/goods-settle/goods-item.vue'\nwx.createComponent(Component)","<template>\n  <!-- 订单基础信息 -->\n  <view class=\"order-base-info padding-40\">\n    <view class=\"item items-center\">\n      <text class=\"left\">商品金额</text>\n      <view class=\"right items-center\">\n        <text v-if=\"fee\">￥{{ fee }}</text>\n        <template v-if=\"necessaryPoint > 0\">\n          <text v-if=\"fee > 0\">+</text>\n          <image class=\"price-points-icon\" :src=\"iconPoint\" />\n          <text>{{ necessaryPoint }}</text>\n        </template>\n      </view>\n    </view>\n    <view class=\"item items-center\">\n      <text class=\"left\">运费金额</text>\n      <text class=\"right\">￥{{ shipAmount }}</text>\n    </view>\n    <view class=\"item items-center\">\n      <text class=\"left\">优惠券</text>\n      <view v-if=\"couponAccountCode\" class=\"right items-center\" @click=\"openCouponPicker\">\n        <text>-￥{{ recordDiscount / 100 }}</text>\n        <image class=\"img\" :src=\"iconRight\" mode=\"scaleToFill\" />\n      </view>\n      <view v-else class=\"right items-center\" @click=\"openCouponPicker\">\n        <text v-if=\"coupon.availableLength === 0\">无可用优惠券</text>\n        <text v-else>{{ coupon.availableLength }}张可用</text>\n        <image class=\"img\" :src=\"iconRight\" />\n      </view>\n    </view>\n  </view>\n  <!-- 订单基础信息 end -->\n  <!-- 订单支付方式 -->\n  <view v-if=\"hasPayMethods\" class=\"pay-methods\">\n    <view class=\"pay-header items-center justify-between\">\n      <text class=\"title font-medium\">订单支付方式选择</text>\n      <text class=\"desc\">你有{{ userUsablePoint }}积分可用</text>\n    </view>\n    <view class=\"pay-methods-box\">\n      <view class=\"pay-methods-item\" :class=\"[payMethod === 'DEFAULT' ? 'selected' : '']\" @click=\"changePayMethod('DEFAULT')\">\n        <text v-if=\"defaultFee\">￥{{ formatMoney(defaultFee) }}</text>\n        <template v-if=\"defaultPoint\">\n          <text v-if=\"defaultFee\">+</text>\n          <image class=\"price-points-icon\" :src=\"payMethod === 'DEFAULT' ? iconPointSelected : iconPointDisabled\" />\n          <text>{{ defaultPoint }}</text>\n        </template>\n      </view>\n      <view class=\"pay-methods-item\" :class=\"[payMethod === 'CUSTOM-POINT' ? 'selected' : '']\" @click=\"changePayMethod('CUSTOM-POINT')\">\n        <text v-if=\"payMethod === 'DEFAULT'\">自定义积分支付</text>\n        <template v-else>\n          <text v-if=\"customFee\">￥{{ formatMoney(customFee) }}+</text>\n          <image class=\"price-points-icon\" :src=\"payMethod === 'CUSTOM-POINT' ? iconPointSelected : iconPointDisabled\" />\n          <input\n            v-model=\"customInputVal\"\n            class=\"custom-input\"\n            cursor-spacing=\"30\"\n            type=\"number\"\n            placeholder-class=\"custom-input-placeholder\"\n            placeholder=\"请输入使用积分\"\n            :max=\"userUsablePoint\"\n            :min=\"necessaryPoint\"\n            :focus=\"customInputFocus\"\n          />\n        </template>\n      </view>\n    </view>\n    <view v-if=\"customError.show && hasInputVal\" class=\"custom-error-tip\">{{ customError.msg }}</view>\n  </view>\n  <view v-if=\"userUsablePoint < necessaryPoint\" class=\"error-tip items-center justify-center\">当前仅{{ userUsablePoint }}积分可用 至少需用{{ necessaryPoint }}积分</view>\n  <!-- 底部合计与操作按钮 -->\n  <view class=\"footer\">\n    <view class=\"left\">\n      <view class=\"label\">合计：</view>\n      <view class=\"money items-center\">\n        <template v-if=\"payMethod === 'DEFAULT'\">\n          <text v-if=\"defaultFee\" class=\"price\">￥{{ formatMoney(defaultFee) }}</text>\n          <template v-if=\"defaultPoint\">\n            <text v-if=\"defaultFee\" class=\"symbol\">+</text>\n            <image class=\"point-icon\" :src=\"iconPointDark\" mode=\"aspectFit\" />\n            <text class=\"point\">{{ defaultPoint }}</text>\n          </template>\n        </template>\n        <template v-if=\"payMethod === 'CUSTOM-POINT'\">\n          <text v-if=\"customFee\" class=\"price\">￥{{ formatMoney(customFee) }}</text>\n          <template v-if=\"customPoint\">\n            <text v-if=\"customFee\" class=\"symbol\">+</text>\n            <image class=\"point-icon\" :src=\"iconPointDark\" mode=\"aspectFit\" />\n            <text class=\"point\">{{ customPoint }}</text>\n          </template>\n        </template>\n      </view>\n    </view>\n    <view class=\"right\" :class=\"[submitDisabled ? 'disabled' : '']\" @click=\"handleSubmit\">提交订单</view>\n  </view>\n  <coupon-picker\n    v-model=\"couponPickerVisible\"\n    :init-code=\"couponAccountCode\"\n    :available-list=\"coupon.availableList\"\n    :unavailable-list=\"coupon.unavailableList\"\n    :discount=\"recordDiscount / 100\"\n    @selected=\"toSelectCoupon\"\n  />\n</template>\n<script lang=\"ts\" setup>\nimport { computed, ComputedRef, inject, onMounted, PropType, ref, watch } from 'vue'\nimport CouponPicker from '../coupon-picker/index.vue'\nimport { formatMoney } from '@src/util/money'\nimport Decimal from '@src/lib/decimal' // 处理精度丢失\nimport { useUser } from '../user'\nimport { useUserStore } from '@src/pinia/user'\n\ninterface CustomErrorInfo {\n  show: boolean\n  msg: string\n}\ntype PayType = 'DEFAULT' | 'CUSTOM-POINT'\n\n// 静态图片\nconst gdp = inject('$gdp') as GeneratorDynamicPicFunc<string[]>\nconst [iconRight, iconPoint, iconPointDisabled, iconPointSelected, iconPointDark] = gdp([\n  'icon-right-new.png',\n  'icon-point-settle.png',\n  'icon-point-disabled.png',\n  'icon-point-actived.png',\n  'icon-point-dark.png'\n])\n\nconst userStore = useUserStore()\nconst { userUsablePoint, coupon, getUsablePoint, getCoupon } = useUser()\n\nonMounted(async () => {\n  const userInfo = await userStore.getUserInfo()\n  getUsablePoint()\n})\n\nconst props = defineProps({\n  orderDetail: {\n    type: Object as PropType<Order.PreviewOrderInfo>,\n    default: null\n  }\n})\n\n// 商品列表\nconst goodsList = computed(() => props.orderDetail?.itemList || [])\n\nwatch(\n  () => props.orderDetail,\n  (detail) => {\n    getCoupon(detail)\n  }\n)\n\nconst emit = defineEmits(['refresh', 'submit'])\n\nconst payMethod = ref('DEFAULT')\n\nconst changePayMethod = (method: PayType) => {\n  payMethod.value = method\n  if (method === 'CUSTOM-POINT') {\n    customInputFocus.value = true\n  }\n}\n\nconst couponPickerVisible = ref(false)\n// 打开卡券选择弹窗\nconst openCouponPicker = () => {\n  couponPickerVisible.value = true\n}\n// 运费\nconst shipAmount = computed(() => Number(props.orderDetail?.shipAmount) / 100)\n// 选中的卡券编码\nconst couponAccountCode = ref('')\n// 总价值，单位分，不包含运费\nconst total = computed(() => Number(props.orderDetail.subtotalAmount))\n\n// 总价值，单位分，不包含运费\nconst totalWithShip = computed(() => Number(props.orderDetail.totalAmount))\n\n// 优惠券优惠金额， 单位分\nconst recordDiscount = computed(() => Number(props.orderDetail.totalCouponAmount))\n\n// 必要积分\nconst necessaryPoint = computed(() => Number(props.orderDetail.necessaryPointNum))\n\n// 可用积分支付总额\nconst availablePoint = computed(() => Number(props.orderDetail.availablePointNum))\n\n// 默认支付方式积分值\nconst defaultPoint = computed(() => {\n  if (necessaryPoint.value > userUsablePoint.value) {\n    return necessaryPoint.value\n  }\n  if (availablePoint.value > userUsablePoint.value) {\n    return userUsablePoint.value\n  }\n  return availablePoint.value\n})\n\n// 默认支付方式金额\nconst defaultFee = computed(() => {\n  if (necessaryPoint.value > userUsablePoint.value) {\n    return totalWithShip.value - necessaryPoint.value\n  }\n  if (availablePoint.value > userUsablePoint.value) {\n    return totalWithShip.value - userUsablePoint.value\n  }\n  return totalWithShip.value - availablePoint.value\n})\n\nconst customInputVal = ref('')\n\nconst customPoint = computed(() => Number(customInputVal.value))\n\n// 是否输入自定义积分\nconst hasInputVal = ref(false)\n\n// 去除首位0\nwatch(customInputVal, (val) => {\n  hasInputVal.value = true\n  if (val.length > 1 && val.startsWith('0')) {\n    customInputVal.value = val.substring(1)\n  }\n})\n\nconst customInputFocus = ref(false)\n\nconst customError: ComputedRef<CustomErrorInfo> = computed(() => {\n  if (payMethod.value === 'DEFAULT') {\n    return {\n      show: false,\n      msg: ''\n    }\n  }\n  let show = false\n  let msg = ''\n  if (customInputVal.value === '') {\n    show = true\n    msg = '请输入使用积分'\n  }\n  if (customPoint.value > availablePoint.value) {\n    show = true\n    msg = '超出订单可用积分'\n  }\n  if (customPoint.value < necessaryPoint.value) {\n    show = true\n    msg = '少于订单需使用积分'\n  }\n  if (customPoint.value > userUsablePoint.value) {\n    show = true\n    msg = `仅${userUsablePoint.value}积分可用`\n  }\n  return {\n    show,\n    msg\n  }\n})\n\nconst submitDisabled = computed(() => userUsablePoint.value < necessaryPoint.value || customError.value.show)\n\nconst customFee = computed(() => {\n  if (Number(customPoint.value) > defaultPoint.value) {\n    return 0\n  }\n  const pointNum = Number(customPoint.value) > necessaryPoint.value ? Number(customPoint.value) : necessaryPoint.value\n  const num = (total.value - recordDiscount.value - pointNum) / 100\n  const finnalNew = new Decimal(num).add(new Decimal(shipAmount.value)).toNumber() * 100\n  return Math.max(finnalNew, 0)\n})\n// 是否有多种支付方式\nconst hasPayMethods = computed(() => {\n  const { necessaryPointNum } = props.orderDetail\n  return !!(goodsList.value.some((item: AnyObject) => item.payType === 4) && userUsablePoint.value && Number(necessaryPointNum) < userUsablePoint.value)\n})\n// 默认面值最大的卡券\nwatch(\n  () => coupon,\n  (val) => {\n    couponAccountCode.value = val.availableList && val.availableList.length ? val.availableList[0].couponAccountCode : ''\n    couponAccountCode.value && emit('refresh', couponAccountCode.value)\n  }\n)\n// 选择卡券\nconst toSelectCoupon = async (code: string) => {\n  couponAccountCode.value = code\n  emit('refresh', couponAccountCode.value)\n}\n\n// 展示金额\nconst fee = computed(() => (total.value - necessaryPoint.value) / 100)\n\nfunction handleSubmit() {\n  if (submitDisabled.value) {\n    return\n  }\n  emit('submit', payMethod.value, defaultPoint.value, customPoint.value, couponAccountCode.value)\n}\n</script>\n<style lang=\"scss\" scoped>\n@import './index.scss';\n</style>\n","import Component from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-life/pages/goods-settle/order-pay/index.vue'\nwx.createComponent(Component)","<!-- 该页面暂时未使用 -->\n<template>\n  <view class=\"goods-list-page\">\n    <sp-header>\n      <view class=\"header-content\">\n        <image class=\"back-img\" :src=\"iconBackSquare\" mode=\"scaleToFill\" @click=\"toBack\" />\n        <text class=\"title\">{{ title }}</text>\n      </view>\n    </sp-header>\n    <view class=\"wrap-goods-list\">\n      <sp-goods-card v-for=\"item in goods\" :key=\"item.id\" :goods-detail=\"item\" />\n    </view>\n  </view>\n</template>\n\n<script lang=\"ts\" setup name=\"GoodsList\">\nimport { onLoad, onReachBottom } from '@dcloudio/uni-app'\nimport { reactive, inject, ref } from 'vue'\n\ntype OnLoadOption<T> = Record<keyof T, string | undefined>\n\ninterface LoadOptions {\n  id: string\n  title: string\n}\n\nonLoad((options: OnLoadOption<LoadOptions>) => {\n  id.value = options.id || ''\n  title.value = options.title || ''\n})\n\nonReachBottom(toLower)\n\nconst id = ref('')\nconst title = ref('')\nconst goods: Goods.Item[] = reactive([])\nconst pageNo = ref(1)\nconst pageSize = ref(10)\n\nconst gdp = inject('$gdp') as GeneratorDynamicPicFunc<string[]>\nconst [iconBackSquare] = gdp(['icon-back-square.png'])\n\n// 未完成\nfunction getMoreGoods() {\n  goods.push()\n}\n\n// 未完成\nfunction toLower() {\n  pageNo.value++\n  getMoreGoods()\n}\n\nfunction toBack() {\n  uni.navigateBack({ delta: 1 })\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.goods-list-page {\n  padding-top: 88rpx;\n\n  .header-content {\n    width: 100vw;\n    height: 88rpx;\n    text-align: center;\n    position: relative;\n    background-color: white;\n\n    .back-img {\n      width: 48rpx;\n      height: 48rpx;\n      position: absolute;\n      top: 20rpx;\n      left: 16rpx;\n    }\n\n    .title {\n      font-size: 34rpx;\n      font-weight: 600;\n      color: #292c2e;\n      line-height: 88rpx;\n    }\n  }\n\n  .wrap-goods-list {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    padding: 32rpx;\n    margin-bottom: 76rpx;\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-life/pages/goods-list/index.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"ask-everyone-list\">\n    <view class=\"ask-everyone-list-head\">\n      <ask-everyone-head :total=\"questionCount\" :title=\"headTitle\" :img=\"headImg\" />\n    </view>\n    <template v-if=\"questionList.length > 0\">\n      <view class=\"ask-everyone-list-body\">\n        <ask-everyone-list-item\n          v-for=\"(item, index) in questionList\"\n          :key=\"index\"\n          :question-item=\"item.questionVO\"\n          :answer-item=\"item.answerVOList\"\n          @go-to-detail=\"goToDetail\"\n          @reflash=\"deleteItem\"\n        />\n      </view>\n      <view v-if=\"questionList.length === questionList.length\" class=\"ask-everyone-list-nomore\">-- 没有更多了 --</view>\n    </template>\n    <view v-if=\"questionList.length === 0\" class=\"ask-everyone-list-none\">\n      <view class=\"ask-everyone-list-none-img\">\n        <image class=\"ask-everyone-list-none-img-content\" :src=\"noneQuestion\" />\n      </view>\n      <view class=\"ask-everyone-list-none-text\">当前暂无问答</view>\n    </view>\n    <view class=\"ask-everyone-list-bottom\">\n      <view class=\"ask-everyone-list-bottom-btn\" @click=\"goPublishQuestion\">去提问</view>\n    </view>\n  </view>\n</template>\n<script lang=\"ts\" setup name=\"AskEveryoneList\">\nimport { inject, computed, ref, reactive } from 'vue'\nimport { getAskEveryoneList } from '@api/question'\nimport { onLoad, onReachBottom, onShow } from '@dcloudio/uni-app'\nimport AskEveryoneHead from '../../components/ask-everyone-head/ask-everyone-head.vue'\nimport AskEveryoneListItem from '../../components/ask-everyone-list-item/ask-everyone-list-item.vue'\nimport { useAppStore } from '@src/pinia/app'\n\n// 登录状态\nconst isLogin = computed(() => useAppStore().isLogin)\n\ntype OnLoadOption<T> = Record<keyof T, string | undefined>\n\ninterface LoadOptions {\n  id: string\n  title: string\n  img: string\n}\n\nonLoad((_options: OnLoadOption<LoadOptions>) => {\n  itemId.value = _options.id || '' // 问答列表的id\n  headTitle.value = _options.title || '' // 问答列表的标题\n  headImg.value = _options.img || '' // 问答列表的图片\n})\nonShow(() => {\n  questionList.length = 0\n  pageNo = 1\n  isEnd.value = false\n  getQuestionList(itemId.value)\n})\nonReachBottom(() => {\n  if (!isEnd.value) {\n    pageNo++\n    getQuestionList(itemId.value, date.value)\n  }\n})\n\nconst gdp = inject('$gdp') as GeneratorDynamicPicFunc<string>\nconst noneQuestion = gdp('none-question.png')\n\nconst itemId = ref('')\nconst headTitle = ref('')\nconst headImg = ref('')\n\n// 获取问题列表\nconst questionList: Qa.QuestionItem[] = reactive([]) // 问题列表\nconst questionCount = ref(0) // 问题数量\nconst isEnd = ref(false)\nconst date = ref(new Date().valueOf())\nlet pageNo = 1\nconst pageSize = 20\nasync function getQuestionList(id: string, time?: number) {\n  let param = {\n    pageNo,\n    pageSize\n  } as { pageNo: number; pageSize: number; createEndTime: unknown }\n  time && (param.createEndTime = time)\n  const res = (await getAskEveryoneList(id, param)) as AnyObject\n  res.data.map((item: AnyObject, index: number) => {\n    console.log(res.data[index].questionVO)\n    res.data[index].questionVO.questionDetails = item.questionVO.questionDetails.replace(/[\\r\\n]/g, ' ') //去掉回车换行\n    if (res.data[index].answerVOList.length) {\n      res.data[index].answerVOList[0].answerDetails = item?.answerVOList[0].answerDetails.replace(/[\\r\\n]/g, ' ') //去掉回车换行\n    }\n  })\n  questionList.push(...res.data)\n  questionCount.value = res.total\n  if (questionCount.value === questionList.length || questionCount.value === 0) {\n    isEnd.value = true\n  }\n  if (!time) {\n    date.value = new Date().valueOf()\n  }\n}\n// 处理隐藏问题\nfunction deleteItem(id: string) {\n  questionList.map((item: any, index: number) => {\n    if (item.questionVO.questionId == id) {\n      questionList.splice(index, 1)\n      questionCount.value--\n    }\n  })\n}\n\n// 去问答详情\nfunction goToDetail(id: string) {\n  uni.navigateTo({\n    url: `/package-life/pages/ask-everyone-detail/index?id=${id}&title=${headTitle.value}&img=${headImg.value}&questionCount=${questionCount.value}`\n  })\n}\n\n// 去提问\nfunction goPublishQuestion() {\n  if (!isLogin.value) {\n    uni.navigateTo({\n      url: '/pages/login/index'\n    })\n    return\n  }\n  uni.navigateTo({\n    url: `/package-life/pages/ask-everyone-published/index?id=${itemId.value}&title=${headTitle.value}&img=${headImg.value}`\n  })\n}\n</script>\n<style lang=\"scss\" scoped>\n.ask-everyone-list {\n  padding-bottom: 200rpx;\n\n  &-head {\n    margin-bottom: 32rpx;\n  }\n\n  &-bottom {\n    position: fixed;\n    display: flex;\n    justify-content: center;\n    width: 100%;\n    bottom: 0;\n    background: linear-gradient(180deg, rgb(255 255 255 / 90%) 0%, $uni-bg-color 100%);\n    padding-top: 20rpx;\n    padding-bottom: calc(18rpx + env(safe-area-inset-bottom));\n\n    &-btn {\n      background-color: #1a1a1aff;\n      width: 300rpx;\n      height: 80rpx;\n      line-height: 80rpx;\n      font-size: 32rpx;\n      color: $uni-text-color-inverse;\n      text-align: center;\n    }\n  }\n\n  &-nomore {\n    text-align: center;\n    font-size: 26rpx;\n    color: #909ca8;\n  }\n\n  &-none {\n    margin-top: 360rpx;\n\n    &-img {\n      margin: 0 auto;\n      height: 144rpx;\n      width: 144rpx;\n\n      &-content {\n        width: 100%;\n        height: 100%;\n      }\n    }\n\n    &-text {\n      text-align: center;\n    }\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-life/pages/ask-everyone-list/index.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"question\">\n    <view class=\"question-head\">\n      <ask-everyone-head ref=\"head\" :total=\"questionCount\" :title=\"headTitle\" :img=\"headImg\" />\n    </view>\n    <view class=\"question-body\">\n      <view class=\"question-body-question\">\n        <view class=\"question-body-question-title\">{{ questionInfo.questionDetails }}</view>\n        <view class=\"question-body-question-content\">\n          <view class=\"question-body-question-content-user\">\n            <view class=\"avatar\"><image class=\"img\" :src=\"questionInfo.userAvatar ? questionInfo.userAvatar : userPortraitImg\" /></view>\n            <view class=\"name\">{{ questionInfo.userName }}</view>\n          </view>\n          <view class=\"question-body-question-content-time\">提问于{{ formatDate(questionInfo.createTime, 'YYYY.MM.DD') }}</view>\n        </view>\n      </view>\n      <template v-if=\"answerList.length > 0\">\n        <view class=\"question-body-answer\">\n          <view class=\"question-body-answer-count\">共{{ questionInfo.showAnswerCount }}个回答</view>\n          <view v-for=\"item in answerList\" :key=\"item.answerId\" class=\"question-body-answer-item\">\n            <view class=\"question-body-answer-item-head\">\n              <view class=\"question-body-answer-item-head-user\">\n                <view class=\"question-body-answer-item-head-user-avatar\">\n                  <image :src=\"item.userAvatar ? item.userAvatar : userPortraitImg\" class=\"img\" />\n                </view>\n                <text class=\"user-name\">{{ item.userName }}</text>\n                <view class=\"question-body-answer-item-head-user-card\">\n                  <image :src=\"item.replyType === 1 ? customer : business\" class=\"img\" />\n                </view>\n              </view>\n              <view class=\"question-body-answer-item-head-time\">{{ formatDate(item.createTime, 'YYYY.MM.DD') }}</view>\n            </view>\n            <view class=\"question-body-answer-item-content\">{{ item.answerDetails }}</view>\n          </view>\n        </view>\n      </template>\n    </view>\n    <view v-if=\"answerList.length === 0\" class=\"question-none\">\n      <view class=\"question-none-img\">\n        <image class=\"question-none-img-content\" :src=\"noneQuestion\" />\n      </view>\n      <view class=\"question-none-text\">当前暂无回答</view>\n    </view>\n    <view v-if=\"questionCount > 1\" class=\"question-list\">\n      <view class=\"question-more\">--- 更多问答 ---</view>\n      <ask-everyone-list-item\n        v-for=\"(item, index) in questionList\"\n        :key=\"index\"\n        :question-item=\"item.questionVO\"\n        :answer-item=\"item.answerVOList\"\n        @reflash=\"deleteItem\"\n        @go-to-detail=\"goToDetail\"\n      />\n    </view>\n    <view class=\"question-bottom\" :style=\"style\">\n      <input\n        v-if=\"replyFlag\"\n        v-model=\"answerDetails\"\n        adjust-position=\"{{ false }}\"\n        maxlength=\"300\"\n        class=\"question-bottom-input\"\n        :placeholder=\"placeholder\"\n        @click=\"handleClick\"\n        @focus=\"toInputFocus\"\n        @blur=\"toInputBlur\"\n      />\n      <input\n        v-if=\"!replyFlag\"\n        v-model=\"answerDetails\"\n        disabled\n        adjust-position=\"{{ false }}\"\n        maxlength=\"300\"\n        class=\"question-bottom-input\"\n        :placeholder=\"placeholder\"\n        @click=\"handleClick\"\n        @focus=\"toInputFocus\"\n        @blur=\"toInputBlur\"\n      />\n      <view class=\"question-bottom-btn uni-input\" :class=\"{ 'question-bottom-btn-disable': !replyFlag }\" @click=\"answerCommit\">发送</view>\n    </view>\n  </view>\n</template>\n<script lang=\"ts\" setup name=\"AskEveryDetail\">\nimport { inject, ref, reactive } from 'vue'\nimport { getAskEveryoneDetail, getAskEveryoneList, answerPublished, answerJudge } from '@api/question'\nimport { onLoad, onReachBottom, onShow } from '@dcloudio/uni-app'\nimport AskEveryoneHead from '../../components/ask-everyone-head/ask-everyone-head.vue'\nimport { pureAssign } from '@util/common'\nimport { formatDate } from '@util/date-time'\nimport AskEveryoneListItem from '../../components/ask-everyone-list-item/ask-everyone-list-item.vue'\n\ntype OnLoadOption<T> = Record<keyof T, string | undefined>\n\ninterface LoadOptions {\n  id: string\n  title: string\n  img: string\n  questionCount: string\n  itemId: string\n}\nconst questionId = ref('')\nconst headTitle = ref('')\nconst headImg = ref('')\nconst questionCount = ref(0) // 问题数量\nonLoad((_options: OnLoadOption<LoadOptions>) => {\n  questionId.value = _options.id || '' // 问答列表的id\n  headTitle.value = _options.title || '' // 问答列表的标题\n  headImg.value = _options.img || '' // 问答列表的图片\n  questionCount.value = Number(_options.questionCount)\n})\nonShow(() => {\n  getQuestiondetail(questionId.value, date.value)\n})\nonReachBottom(() => {\n  if (!isEnd.value) {\n    pageNo++\n    getQuestiondetail(questionId.value, date.value)\n  } else if (!questionIsEnd.value) {\n    questionList.length && questionPageNo.value++\n    getQuestionList()\n  }\n})\nconst gdp = inject('$gdp') as GeneratorDynamicPicFunc<string>\nconst noneQuestion = gdp('none-question.png')\nconst customer = gdp('icon-customer.png')\nconst business = gdp('icon-business.png')\nconst userPortraitImg = gdp('icon-default-avatar.png')\n\nconst style = ref('')\n\nfunction toInputFocus(e: AnyObject) {\n  // console.log(e.detail.height)\n  style.value = 'bottom:' + e.detail.height + 'px;' + ' padding-bottom: 9px'\n}\nfunction toInputBlur() {\n  style.value = 'bottom: 0'\n}\n// 提交回答\nconst answerDetails = ref('')\nasync function answerCommit() {\n  if (!replyFlag.value) {\n    return\n  }\n  if (answerDetails.value === '' && replyFlag.value) {\n    uni.showToast({\n      title: '请输入回答',\n      icon: 'none'\n    })\n    return\n  }\n  try {\n    await answerPublished({\n      questionId: questionId.value,\n      answerDetails: answerDetails.value\n    })\n    answerDetails.value = ''\n    answerList.length = 0\n    questionList.length = 0\n    questionPageNo.value = 1\n    pageNo = 1\n    questionIsEnd.value = false\n    isEnd.value = false\n    getQuestiondetail(questionId.value)\n  } catch (error) {\n    console.log(error)\n  }\n}\n// 判断是否能回答\nconst showPop = ref(false)\nconst replyFlag = ref(false) // 是否禁用\nfunction handleClick() {\n  if (!replyFlag.value) {\n    uni.showToast({\n      title: '买过的用户才能回答哦~',\n      icon: 'none'\n    })\n    return\n  }\n  showPop.value = true\n}\nasync function toJudgeAnswer() {\n  try {\n    const res = await answerJudge(questionInfo.itemId)\n    if (res) {\n      replyFlag.value = true\n    }\n    !replyFlag.value && (placeholder.value = '买过的用户才能回答哦~')\n  } catch (error) {\n    console.log(error)\n  }\n}\n// 获取问题列表\nconst questionList: Qa.QuestionItem[] = reactive([]) // 问题列表\n\nconst questionPageSize = 20\nconst questionPageNo = ref(1)\nconst questionIsEnd = ref(false)\nconst date = ref(new Date().valueOf())\nasync function getQuestionList() {\n  try {\n    const res = await getAskEveryoneList(questionInfo.itemId, {\n      pageSize: questionPageSize,\n      pageNo: questionPageNo.value,\n      createEndTime: date.value\n    })\n    res.data.forEach((item: Qa.QuestionItem) => {\n      item.questionVO.questionDetails = item.questionVO.questionDetails.replace(/[\\r\\n]/g, ' ') //去掉回车换行\n      if (item.answerVOList.length > 0) {\n        item.answerVOList[0].answerDetails = item?.answerVOList[0].answerDetails.replace(/[\\r\\n]/g, ' ') //去掉回车换行\n      }\n    })\n    questionCount.value = res.total\n    questionList.push(...res.data)\n\n    questionList.forEach((item, index: number) => {\n      if (item.questionVO.questionId === questionInfo.questionId) {\n        questionList.splice(index, 1)\n      }\n    })\n    questionIsEnd.value = questionCount.value === questionList.length + 1 || questionCount.value === 0\n  } catch (error) {\n    console.log(error)\n  }\n}\n\n// 获取问答详情\nconst questionInfo: Qa.QuestionVO = reactive({\n  answerCount: 0,\n  createTime: 0,\n  itemId: '',\n  questionDetails: '',\n  questionId: '',\n  replyFlag: 0,\n  showAnswerCount: 0,\n  updateTime: 0,\n  userAvatar: '',\n  userId: '',\n  userName: ''\n})\nconst placeholder = ref('你的回答将匿名展示')\nconst answerList: any = reactive([]) // 回答列表\nconst answerCount = ref(0) // 问题数量\nlet pageNo = 1\nconst pageSize = 20\nconst isEnd = ref(false)\nasync function getQuestiondetail(itemId: string, time?: number) {\n  try {\n    let param = {\n      pageNo,\n      pageSize\n    } as AnyObject as { pageNo: number; pageSize: number; createEndTime: unknown }\n    time && (param.createEndTime = time)\n    const res = (await getAskEveryoneDetail(itemId, param)) as AnyObject\n    res.questionVO.questionDetails = res.questionVO.questionDetails.replace(/[\\r\\n]/g, ' ')\n    pureAssign(questionInfo, res.questionVO)\n    answerList.push(...res.answerVOPaging.data)\n    answerCount.value = res.answerVOPaging.total\n    if (answerCount.value === answerList.length || answerCount.value === 0) {\n      isEnd.value = true\n    }\n    if (!time) {\n      date.value = new Date().valueOf()\n    }\n    if (pageNo === 1) {\n      toJudgeAnswer()\n      if (isEnd.value) {\n        questionList.length = 0\n        getQuestionList()\n      }\n    }\n  } catch (error) {\n    console.log(error)\n  }\n}\n// 处理隐藏问题\nfunction deleteItem(id: string) {\n  questionList.map((item: any, index: number) => {\n    if (item.questionVO.questionId == id) {\n      questionList.splice(index, 1)\n      questionCount.value--\n    }\n  })\n}\n// 去问答详情\nfunction goToDetail(id: string) {\n  uni.navigateTo({\n    url: `/package-life/pages/ask-everyone-detail/index?id=${id}&title=${headTitle.value}&img=${headImg.value}`\n  })\n}\n</script>\n<style lang=\"scss\" scoped>\n@import './index.scss';\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-life/pages/ask-everyone-detail/index.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"question-published\">\n    <view class=\"question-published-head\">\n      <ask-everyone-head :img=\"headImg\" :title=\"headTitle\" />\n    </view>\n    <view class=\"question-published-body\">\n      <!-- #ifdef MP-WEIXIN-->\n      <textarea\n        class=\"question-published-body-content-text\"\n        placeholder-style=\"color:#BABABA;\"\n        placeholder=\"请写下你的问题，买过的人会为你解答。\"\n        maxlength=\"50\"\n        @blur=\"handleTextCount\"\n      />\n      <!-- #endif -->\n      <!-- #ifdef H5-->\n      <textarea\n        v-model=\"questionDetails\"\n        class=\"question-published-body-content-text\"\n        placeholder-style=\"color:#BABABA;\"\n        placeholder=\"请写下你的问题，买过的人会为你解答。\"\n        maxlength=\"50\"\n        @input=\"handleTextCount\"\n      />\n      <!-- #endif -->\n      <view class=\"question-published-body-content-count\">{{ questionDetails.length }} / 50</view>\n    </view>\n    <view class=\"question-published-bottom\">\n      <view class=\"question-published-bottom-btn\" @click=\"published\">提交</view>\n    </view>\n  </view>\n</template>\n<script lang=\"ts\" setup name=\"AskEveryonePublished\">\nimport { ref, watch } from 'vue'\nimport { onLoad } from '@dcloudio/uni-app'\nimport AskEveryoneHead from '../../components/ask-everyone-head/ask-everyone-head.vue'\nimport { publishQuestion } from '@api/question'\n\ntype OnLoadOption<T> = Record<keyof T, string | undefined>\n\ninterface LoadOptions {\n  id: string\n  title: string\n  img: string\n}\n\nonLoad((_options: OnLoadOption<LoadOptions>) => {\n  itemId.value = _options.id || '' // 问答列表的id\n  headTitle.value = _options.title || '' // 问答列表的标题\n  headImg.value = _options.img || '' // 问答列表的图片\n})\nconst itemId = ref('')\nconst headTitle = ref('')\nconst headImg = ref('')\n\n// 提交问题\nconst questionDetails = ref('')\nwatch(\n  () => questionDetails,\n\n  () => {\n    if (questionDetails.value.length > 50) {\n      uni.showToast({\n        title: '当前文案超出最多字数上限，将无法完全展示',\n        icon: 'none'\n      })\n    }\n  },\n  {\n    immediate: true, // 立即执行\n    deep: true // 深度监听\n  }\n)\nasync function published() {\n  if (questionDetails.value.length < 4) {\n    uni.showToast({\n      title: '至少输入4个中英文字符',\n      icon: 'none'\n    })\n    return\n  }\n  try {\n    questionDetails.value.replace(/[\\r\\n]/g, '')\n    await publishQuestion({\n      itemId: itemId.value,\n      questionDetails: questionDetails.value.substring(0, 50)\n    })\n    // uni.navigateBack({\n    //   delta: 1\n    // })\n    let pages = getCurrentPages() // 当前页面\n    let beforePage = pages[pages.length - 2] // 上一页\n    uni.navigateBack({})\n    uni.showToast({\n      title: '问题发布成功'\n    })\n  } catch (error: any) {\n    uni.showToast({\n      title: error.message,\n      icon: 'none'\n    })\n  }\n}\n// 处理输入文字\nfunction handleTextCount(e: AnyObject) {\n  if (e.detail.value.length <= 50) {\n    questionDetails.value = e.detail.value\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.question-published {\n  &-body {\n    width: 100%;\n    height: 100%;\n    margin-top: 10rpx;\n    padding: 32rpx;\n    background-color: $uni-bg-color;\n\n    &-content-text {\n      height: 160rpx;\n      font-size: 26rpx;\n      font-weight: 400;\n      color: #909ca8;\n      line-height: 38rpx;\n    }\n\n    &-content-count {\n      text-align: end;\n      font-size: 28rpx;\n      color: #d8d8d8;\n    }\n  }\n\n  &-bottom {\n    padding-bottom: calc(18rpx + env(safe-area-inset-bottom));\n    width: 100%;\n    position: fixed;\n    bottom: 0;\n\n    &-btn {\n      margin: 0 auto;\n      width: 670rpx;\n      height: 84rpx;\n      background: #1a1a1a;\n      border-radius: 1rpx;\n      border: 2rpx solid #1a1a1a;\n      line-height: 84rpx;\n      text-align: center;\n      font-size: 28rpx;\n      font-family: SourceHanSansSC-Regular, SourceHanSansSC;\n      font-weight: 400;\n      color: $uni-text-color-inverse;\n    }\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-life/pages/ask-everyone-published/index.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"page\">\n    <view class=\"fix\">\n      <!-- 搜索框 -->\n      <view class=\"search items-center\">\n        <input\n          v-model.trim=\"keyword\"\n          type=\"text\"\n          class=\"input\"\n          placeholder=\"请输入搜索关键词\"\n          placeholder-class=\"placeholder\"\n          confirm-type=\"search\"\n          @input=\"toKeywordChange\"\n          @focus=\"searchFocus\"\n          @confirm=\"search\"\n        />\n        <image v-show=\"keyword\" class=\"icon\" :src=\"clearImg\" @click=\"clearKeyword\" />\n      </view>\n      <!-- 商品排序 -->\n      <search-order v-if=\"hasSearched && goodsList.length\" @change=\"changeOrder\" />\n    </view>\n    <!-- 占位元素 -->\n    <view class=\"empty-view\" />\n    <!-- 搜索历史 -->\n    <view v-if=\"!keyword && historyList.length\" class=\"history\">\n      <view class=\"header items-center justify-between\">\n        <text class=\"title\">搜索历史</text>\n        <text class=\"clear\" @click=\"clearHistory\">清空搜索</text>\n      </view>\n      <view class=\"content\">\n        <text v-for=\"text in historyList\" :key=\"text\" class=\"history-text ellipsis\" @click=\"setKeyword(text)\">{{ text }}</text>\n      </view>\n      <view class=\"line history-line\" />\n    </view>\n    <!-- 热门搜索 -->\n    <view v-if=\"!keyword && !hasSearched && hotSearchWords.length\" class=\"recommend\">\n      <view class=\"header items-center justify-between\">\n        <text class=\"title\">热门搜索</text>\n      </view>\n      <view class=\"content\">\n        <text v-for=\"text in hotSearchWords\" :key=\"text.hotWordValue\" class=\"recommend-text ellipsis\" @click=\"setKeyword(text.hotWordValue)\">\n          {{ text.hotWordValue }}\n        </text>\n      </view>\n      <view class=\"line recommend-line\" />\n    </view>\n    <!-- 猜你想搜 -->\n    <view v-if=\"formatedAssociateWords.length && !hasSearched\" class=\"association\">\n      <view class=\"header items-center justify-between\">猜你想搜</view>\n      <view v-for=\"item in formatedAssociateWords\" :key=\"item.text\" class=\"association-item items-center\" @click=\"setKeyword(item.originalText)\">\n        <image class=\"icon\" :src=\"miniSearchImg\" />\n        <!-- #ifdef MP-WEIXIN -->\n        <rich-text :nodes=\"item.nodes\" />\n        <!-- #endif -->\n        <!-- #ifdef H5 -->\n        <view class=\"text\" v-html=\"item.text\" />\n        <!-- #endif -->\n      </view>\n    </view>\n    <!-- 搜索结果 -->\n    <view v-if=\"hasSearched && goodsList.length\" class=\"goods\">\n      <sp-recommend-goods :recommend-list=\"goodsList\" :point-ratio=\"pointRatio\" :has-title=\"false\" :no-more=\"noMore\" />\n    </view>\n    <!-- 搜索结果为空 -->\n    <view v-if=\"isShowNoData\" class=\"goods-empty flex-col items-center\">\n      <image class=\"icon\" :src=\"searchImg\" />\n      <text class=\"text\">未找到“{{ keyword }}”的相关结果</text>\n      <text class=\"desc\">您可以换个关键词试试，或随便逛一逛</text>\n    </view>\n  </view>\n</template>\n\n<script lang=\"ts\" setup name=\"GoodsSearch\">\nimport { inject, ref, computed } from 'vue'\nimport SearchOrder from './order.vue'\nimport { onLoad, onShow, onReachBottom } from '@dcloudio/uni-app'\nimport { useGoodsStore } from '@src/pinia/goods'\nimport { useSearchWord } from './search-word'\nimport { useSearchHistory } from './search-history'\nimport { useSearchGoods } from './search-goods'\n\nconst gdp = inject('$gdp') as GeneratorDynamicPicFunc<string>\nconst searchImg = gdp('group-search.png')\nconst miniSearchImg = gdp('icon-search.png')\nconst clearImg = gdp('icon-clear.png')\n\nconst goodsStore = useGoodsStore()\nconst { historyList, saveHistory, clearHistory } = useSearchHistory()\n\nconst { formatedAssociateWords, hotSearchWords, refreshAssociateWord, clearAssociateWords, refreshHotSearchWords } = useSearchWord()\n\nconst { goodsList, noMore, hasSearched, refreshGoods, refreshAllGoods, getMoreGoods, setOrder, resetSearchGoods } = useSearchGoods()\nconst isShowNoData = computed(() => keyword.value && hasSearched.value && !formatedAssociateWords.length && !goodsList.length)\n// 搜索的关键字\nconst keyword = ref('')\n\n// 进入页面获取热门搜索\nonLoad(refreshHotSearchWords)\n// 回到该页面刷新全部商品\nonShow(() => {\n  refreshAllGoods(keyword.value)\n})\n// 混动加载更多\nonReachBottom(() => {\n  getMoreGoods(keyword.value)\n})\n\n/**\n * 搜索关键词并存储搜索历史\n */\nasync function search() {\n  await refreshGoods(keyword.value)\n  saveHistory(keyword.value)\n}\n\n/**\n * 输入时触发\n */\nasync function toKeywordChange() {\n  if (keyword.value === '') {\n    resetSearchGoods()\n    clearAssociateWords()\n  } else {\n    refreshAssociateWord(keyword.value)\n  }\n}\n\n/**\n * 从搜索历史、热门搜索、猜你想搜设置keyword\n * @param word\n */\nfunction setKeyword(word: string) {\n  keyword.value = word\n  clearAssociateWords()\n  refreshGoods(keyword.value)\n  saveHistory(keyword.value)\n}\n\nconst pointRatio = computed(() => goodsStore.pointRatio)\ngoodsStore.getPointRatio()\n\nfunction clearKeyword() {\n  keyword.value = ''\n  resetSearchGoods()\n  clearAssociateWords()\n}\n\nasync function searchFocus() {\n  if (keyword.value !== '') {\n    resetSearchGoods()\n    refreshAssociateWord(keyword.value)\n  }\n}\n\nfunction changeOrder(item: { sortKey: string; sortType: number }) {\n  setOrder(item)\n  refreshGoods(keyword.value)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.fix {\n  position: fixed;\n  top: var(--window-top);\n  left: 0;\n  width: 100%;\n  padding-top: 50rpx;\n  background: #fff;\n  z-index: 10;\n}\n\n.search {\n  height: 112rpx;\n  border-radius: 2rpx;\n  border: 1rpx solid #92969a;\n  padding: 0 28rpx 0 32rpx;\n  margin: 0 40rpx 25rpx;\n\n  .input {\n    width: 100%;\n    height: 100%;\n    font-size: 30rpx;\n  }\n\n  .placeholder {\n    font-size: 30rpx;\n    color: #d8d8d8;\n  }\n\n  .icon {\n    width: 48rpx;\n    height: 48rpx;\n    margin-left: 10rpx;\n  }\n}\n\n.empty-view {\n  width: 100%;\n  height: 187rpx;\n  background: #fff;\n}\n\n.history {\n  padding: 0 40rpx;\n\n  .header {\n    height: 100rpx;\n\n    .title {\n      font-size: 26rpx;\n      color: #292c2e;\n      font-weight: bold;\n    }\n\n    .clear {\n      font-size: 26rpx;\n      color: #92969a;\n    }\n  }\n\n  .content {\n    width: 100%;\n\n    .history-text {\n      display: inline-block;\n      color: #292c2e;\n      margin: 0 48rpx 16rpx 0;\n      max-width: 100%;\n    }\n  }\n}\n\n.recommend {\n  padding: 0 40rpx;\n\n  .header {\n    height: 100rpx;\n\n    .title {\n      font-size: 26rpx;\n      color: #292c2e;\n      font-weight: bold;\n    }\n\n    .clear {\n      font-size: 26rpx;\n      color: #92969a;\n    }\n  }\n\n  .content {\n    width: 100%;\n\n    .recommend-text {\n      padding: 10rpx 28rpx;\n      border-radius: 36rpx;\n      display: inline-block;\n      color: #292c2e;\n      margin: 0 48rpx 16rpx 0;\n      max-width: 100%;\n      background-color: #f2f3f3;\n    }\n  }\n\n  .empty {\n    margin-top: 50rpx;\n    color: #92969a;\n    font-size: 26rpx;\n  }\n}\n\n.line {\n  width: 100%;\n  height: 1rpx;\n  background-color: #e4e7ea;\n}\n\n.history-line {\n  margin: 56rpx 0;\n}\n\n.recommend-line {\n  margin: 92rpx 0;\n}\n\n.association {\n  padding: 0 40rpx;\n\n  .header {\n    height: 100rpx;\n    font-size: 26rpx;\n    color: #292c2e;\n    font-weight: bold;\n  }\n\n  &-item {\n    color: #292c2e;\n    font-size: 28rpx;\n    margin-bottom: 44rpx;\n\n    .icon {\n      width: 38rpx;\n      height: 38rpx;\n      margin-right: 14rpx;\n    }\n  }\n}\n\n.goods {\n  padding-top: 132rpx;\n}\n\n.goods-empty {\n  padding: 212rpx 40rpx 0;\n\n  .icon {\n    width: 144rpx;\n    height: 144rpx;\n    margin-bottom: 64rpx;\n  }\n\n  .text {\n    color: #292c2e;\n    font-size: 40rpx;\n    font-weight: 500;\n    margin-bottom: 16rpx;\n    width: 100%;\n    word-wrap: break-word;\n    text-align: center;\n  }\n\n  .desc {\n    color: #92969a;\n    font-size: 24rpx;\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-life/pages/goods-search/index.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"goods-detail-page\">\n    <sp-header>\n      <image class=\"back-icon\" :src=\"iconBack\" mode=\"scaleToFill\" @click=\"onBack\" />\n    </sp-header>\n    <!-- 商品基本信息 -->\n    <goods-base-info\n      v-if=\"currentSku.skuBasicVO?.id\"\n      :base-info=\"baseInfo\"\n      :activity-info=\"activitySkuInfo\"\n      :img-list=\"imageInfos\"\n      :current-sku=\"currentSku\"\n      :is-free=\"isFreeShipping\"\n      :goods-detail=\"goodsDetail\"\n      @refresh=\"refreshGoodsDetail\"\n    />\n    <!-- 优惠、选择规格、参数 start -->\n    <view class=\"wrap-options\">\n      <coupon-item :item-id=\"baseInfo.id\" :item-name=\"baseInfo.name\" />\n      <view class=\"item\">\n        <text class=\"left\">选择</text>\n        <view class=\"right\" @click=\"openSelectSkuPopup('selectSku')\">\n          <text class=\"desc ellipsis\">{{ selectedAttrStr }}</text>\n          <view class=\"wrap-btn\">\n            <image class=\"icon-right\" :src=\"iconRight\" mode=\"scaleToFill\" />\n          </view>\n        </view>\n      </view>\n      <!-- 不包邮并且不是虚拟商品展示 -->\n      <view v-if=\"isDeliver && !isFreeShipping\" class=\"item\">\n        <text class=\"left\">发货</text>\n        <view class=\"right\" @click=\"checkAddress\">\n          <view class=\"freight-template\">\n            <text class=\"desc ellipsis\">{{ freightTemplate }}</text>\n            <text class=\"shipping-address ellipsis\">配送至: {{ shippingAddress }}</text>\n          </view>\n          <view class=\"wrap-btn\">\n            <image class=\"icon-right\" :src=\"iconRight\" mode=\"scaleToFill\" />\n          </view>\n        </view>\n      </view>\n      <view v-if=\"otherAttr.attrKeys\" class=\"item\">\n        <text class=\"left\">参数</text>\n        <view class=\"right\" @click=\"openGoodsParamsPopup\">\n          <text class=\"desc ellipsis\">{{ otherAttr.attrKeys }}</text>\n          <view class=\"wrap-btn\">\n            <image class=\"icon-right\" :src=\"iconRight\" mode=\"scaleToFill\" />\n          </view>\n        </view>\n      </view>\n    </view>\n    <!-- 优惠、选择规格、参数 end -->\n\n    <!-- 适用门店 -->\n    <goods-store-info v-if=\"isVirtual && storeList.length\" :item-id=\"baseInfo.id\" :store-list=\"storeList\" />\n\n    <!-- 商品评价 -->\n    <view class=\"wrap-goods-evaluation\"><goods-evaluation :goods-detail=\"goodsDetail\" :goods-evaluations=\"goodsEvaluations\" /></view>\n\n    <!-- 商品问答 -->\n    <view class=\"wrap-goods-question\">\n      <goods-question :item-id=\"id\" :name=\"baseInfo.name || ''\" :image-infos=\"imageInfos\" />\n    </view>\n\n    <!-- 商品详情内容 -->\n    <view class=\"wrap-goods-detail\">\n      <rich-text :nodes=\"goodsDetailContent\" />\n    </view>\n\n    <!-- 推荐商品 -->\n    <sp-recommend-goods :recommend-list=\"recommendItems\" :point-ratio=\"pointRatio\" :no-more=\"noMoreRecommendItems\" />\n\n    <!-- 底部按钮组 -->\n    <view class=\"footer\">\n      <view v-if=\"goodsDetail.itemBasicVO && !isInSale\" class=\"not-for-sale\">商品已下架</view>\n      <view class=\"wrap-cart\" @click=\"handleClickCart\">\n        <image class=\"shopping-cart-img\" :src=\"shoppingCart\" mode=\"scaleToFill\" />\n        <text>购物车</text>\n        <text v-if=\"cartGoodsNumber\" class=\"cart-number\">{{ cartGoodsNumber }}</text>\n      </view>\n      <view :class=\"['wrap-btn', { 'disabled-all-btn': !isInSale }]\">\n        <!-- 虚拟商品无法加入购物车 -->\n        <view v-if=\"!isVirtual\" class=\"btn add-cart\" @click=\"openSelectSkuPopup('addCart')\">加入购物车</view>\n        <!-- 如果是虚拟商品，立即购买按钮宽度100% -->\n        <view :class=\"['btn', 'btn-buy', { 'full-width': isVirtual }]\" @click=\"openSelectSkuPopup('buy')\">立即购买</view>\n      </view>\n    </view>\n    <!-- 选择sku弹窗 -->\n    <sp-select-sku\n      v-if=\"currentSku.skuBasicVO?.id\"\n      ref=\"spSelectSkuRef\"\n      :point-ratio=\"pointRatio\"\n      :sku-id=\"currentSku.skuBasicVO?.id\"\n      :goods-detail=\"goodsDetail\"\n      :immediate-change=\"true\"\n      @sku-change=\"handleSkuChange\"\n      @add-cart=\"handleAddCart\"\n      @buy=\"handleBuy\"\n    />\n    <!-- 商品参数弹窗 -->\n    <goods-attrs-popup ref=\"popupGoodsParamsRef\" :attrs=\"otherAttr.attrs\" />\n  </view>\n</template>\n<script lang=\"ts\" setup name=\"GoodsDetail\">\nimport GoodsEvaluation from './goods-evaluation.vue'\nimport GoodsQuestion from './goods-question.vue'\nimport GoodsAttrsPopup from './goods-attrs-popup.vue'\nimport GoodsBaseInfo from './base-info.vue'\nimport GoodsStoreInfo from './store.vue'\nimport CouponItem from './coupon-item.vue'\n\nimport { inject, computed, ref, Ref, reactive } from 'vue'\n\nimport { relogin } from '@api/request'\nimport { useAppStore } from '@src/pinia/app'\nimport { useGoodsStore } from '@src/pinia/goods'\nimport { useAddressStore } from '@src/pinia/address'\n\nimport { terminal } from '@util/common'\nimport { Enum } from '@src/lib/enmu'\nimport parseHtml from '@src/lib/html-parser'\nimport { onShow, onLoad, onReachBottom } from '@dcloudio/uni-app'\n\nimport { useCart } from './cart'\nimport { useOrder } from './order'\nimport { useDeliver } from './deliver'\nimport { useGoodsDetail } from './goods-detail'\n\n// 商品id\nlet id = ref('')\nconst distributer = ref('')\n\ntype PageOptions = 'id' | 'scene'\nonLoad((options: Record<PageOptions, string | undefined>) => {\n  if (options.scene) {\n    let params = decodeURIComponent(options.scene || '').split('&')\n    id.value = params[0]\n    distributer.value = params[1]\n  } else {\n    id.value = options.id || ''\n  }\n})\n\nconst { goodsDetail, currentSku, recommendItems, noMoreRecommendItems, goodsEvaluations, refreshGoodsDetail, refreshRecommendItems, getMoreRecommendItems } = useGoodsDetail()\nconst baseInfo = computed(() => goodsDetail.itemBasicVO || {})\nconst imageInfos = computed(() => {\n  // 各个端的商品主图 （H5、PC、小程序）\n  let itemDetailList = goodsDetail?.itemDetailVOList || []\n  let itemDetail = itemDetailList.find((item: Goods.ItemDetailList) => item.terminal === terminal)\n  return itemDetail?.imageList || []\n})\n// 活动中的sku信息\nconst activitySkuInfo = computed(() => {\n  const activitySkuVos = goodsDetail && goodsDetail.itemActivityVO && goodsDetail.itemActivityVO[0].activitySkuVos\n  return activitySkuVos ? activitySkuVos.find((item) => item.skuId === currentSku.skuBasicVO?.id) : undefined\n})\n\nconst appStore = useAppStore()\nconst isLogin = computed(() => appStore.isLogin)\n\nconst goodsStore = useGoodsStore()\nconst pointRatio = computed(() => goodsStore.pointRatio)\n\nconst { cartGoodsNumber, getCartNumber, addCart } = useCart()\n\n// 是否配送商品\nconst isDeliver = computed(() => baseInfo.value.type === Enum.Item.Type.Deliver)\n// 是否虚拟商品\nconst isVirtual = computed(() => baseInfo.value.type === Enum.Item.Type.Virtual)\n// 是否在售商品\nconst isInSale = computed(() => baseInfo.value.status === Enum.Item.Status.InSale)\n// 虚拟商品门店信息\nconst storeList = computed(() => baseInfo.value.extra?.storeInfo || [])\n// 商品普通属性\nconst otherAttr = computed(() => {\n  let { itemAttributeVOList = [] } = goodsDetail\n  let attrKeys: string[] = []\n  let attrs: any = []\n  itemAttributeVOList?.forEach((item) => {\n    if (item.attributeType === 3) {\n      attrKeys.push(item.attributeName)\n      attrs.push({\n        attrKey: item.attributeName,\n        attrVal: item.attributeValueList[0]\n      })\n    }\n  })\n  return {\n    attrKeys: attrKeys.join(' '),\n    attrs\n  }\n})\n// 商品详情，富文本\nconst goodsDetailContent = computed(() => {\n  let itemDetailList = goodsDetail?.itemDetailVOList || []\n  let itemDetail = itemDetailList.find((item: Goods.ItemDetailList) => item.terminal === terminal)\n  return parseHtml(itemDetail?.details || '')\n})\n// 选中的sku信息\nconst selectedAttrStr = computed(() => {\n  return '已选：' + (currentSku?.skuBasicVO?.skuAttributeValueVOList?.map((item) => item.attributeValue).join('/') || '')\n})\n\nconst isFirstEnter = ref(true)\nonShow(async () => {\n  if (isFirstEnter.value) {\n    uni.pageScrollTo({\n      scrollTop: 0,\n      duration: 50\n    })\n    isFirstEnter.value = false\n  }\n  // refreshRecommendItems({\n  //   recType: 4,\n  //   excludeItemIds: id.value\n  // })\n  isLogin.value && getCartNumber()\n  id.value && (await refreshGoodsDetail(id.value))\n  // 配送商品  获取收获地址相关信息，展示运费\n  if (isDeliver.value) {\n    getDeliverInfo(baseInfo.value.shipTemplateId)\n  }\n})\n\nonReachBottom(async () => {\n  // getMoreRecommendItems()\n})\n/**\n * 点击 “选择sku” “加入购物车” “立即购买” 触发该函数\n * @param operateType selectSku、buy、addCart\n */\nconst spSelectSkuRef: Ref<SpPopup | null> = ref(null)\nfunction openSelectSkuPopup(operateType: string) {\n  /**\n   * 在售的商品 或 选择sku操作，弹窗窗口\n   * 非在售商品，“加入购物车” “立即购买” 无法激活弹窗\n   */\n  if (isInSale.value || operateType === 'selectSku') {\n    spSelectSkuRef.value?.open(operateType)\n  }\n}\n\nconst popupGoodsParamsRef: Ref<SpPopup | null> = ref(null)\nfunction openGoodsParamsPopup() {\n  popupGoodsParamsRef.value?.open()\n}\n\nconst gdp = inject('$gdp') as GeneratorDynamicPicFunc<string[]>\nconst [iconBack, shoppingCart, iconRight] = gdp(['icon-back.png', 'shopping-cart.png', 'icon-right.png'])\n\nfunction handleSkuChange(skuId: string, sku: Goods.Sku) {\n  Object.assign(currentSku, sku)\n}\n\n/**\n * 物流配送信息\n */\nconst { isFreeShipping, freightTemplate, shippingAddress, getDeliverInfo } = useDeliver()\n\n// 去地址列表页面\nconst checkAddress = () => {\n  // 未登录先去登录页面\n  if (isLogin.value) {\n    uni.navigateTo({\n      url: `/package-mine/pages/address-list/index?isFromPage=goodsDetail&shipTemplateId=${baseInfo.value.shipTemplateId}&id=${id.value}`\n    })\n  } else {\n    relogin()\n  }\n}\n\n/**\n * 加入购物车\n * @param sku\n * @param buyNumber\n */\nfunction handleAddCart(skuId: string, buyNumber: number) {\n  const { id: itemId, type, name, mainImage } = goodsDetail?.itemBasicVO || {}\n  const data = {\n    shopCode: goodsDetail.itemContentVO.shopCode, //店铺编码\n    itemType: type,\n    itemName: name,\n    thumbnail: mainImage || '',\n    itemId,\n    skuId,\n    quantity: buyNumber,\n    snapshotPrice: Number(goodsDetail.itemPriceVO.minPrice),\n    activityId: activitySkuInfo.value?.id\n  }\n  addCart(data)\n}\n/**\n * 立即购买\n * @param sku\n * @param buyNumber\n */\nasync function handleBuy(skuId: string, buyNumber: number) {\n  const { id: itemId, type, extra } = goodsDetail?.itemBasicVO || {}\n  let params = {\n    vmId: 1,\n    itemToOrderList: [\n      {\n        itemId: itemId,\n        quantity: buyNumber,\n        skuId\n      }\n    ]\n  }\n  await useOrder().addPreviewOrder(params)\n  let orderChannel = 0\n  let goodsType = type\n  let customerInfo = extra?.customerInfo || {}\n  let query = `orderChannel=${orderChannel}&distributer=${distributer.value}&goodsType=${goodsType}&customerInfo=${JSON.stringify(customerInfo)}`\n  uni.navigateTo({ url: `/package-life/pages/goods-settle/index?${query}` })\n  //  商详地址的选择不影响购物结算规则，因此这里需要清空\n  useAddressStore().$patch({\n    selectedAddress: null\n  })\n}\n\nfunction onBack() {\n  let routers = getCurrentPages()\n  if (routers.length > 1) {\n    uni.navigateBack({ delta: 1 })\n  } else {\n    uni.switchTab({ url: '/pages/life/index' })\n  }\n}\n\nfunction handleClickCart() {\n  if (isLogin.value) {\n    uni.navigateTo({\n      url: '/package-mine/pages/shopping-cart/index'\n    })\n  } else {\n    relogin()\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import './index.scss';\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-life/pages/goods-detail/index.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"container\">\n    <!-- 头部标题栏 -->\n    <view class=\"header padding-40 font-medium\">购物结算</view>\n\n    <!-- 订单地址 -->\n    <goods-address v-if=\"!isVirtual\" @change=\"changeAddress\" />\n    <!-- 订单地址 end -->\n\n    <view class=\"wrap-buy-goods\">\n      <!-- 商品 -->\n      <goods-item v-for=\"goods in goodsList\" :key=\"goods.skuId\" :goods=\"goods\" :point-ratio=\"pointRatio\" />\n      <!-- 订单备注 -->\n      <view class=\"add-info padding-40\">\n        <view class=\"remark-box item\">\n          <view class=\"label\">备注</view>\n          <view class=\"form-item-content\">\n            <input v-model=\"remark\" class=\"remark-input\" maxlength=\"15\" placeholder=\"请输入备注信息\" placeholder-class=\"placeholder\" />\n            <icon v-show=\"remark\" type=\"clear\" size=\"16\" @click=\"remark = ''\" />\n          </view>\n        </view>\n        <template v-if=\"customerInfoArray.length\">\n          <view v-for=\"(item, index) in customerInfoArray\" :key=\"index\" class=\"item\">\n            <view class=\"label\">\n              <text class=\"required\">*</text>\n              <text>{{ item.name }}</text>\n            </view>\n            <view class=\"form-item-content\">\n              <input v-model=\"item.value\" class=\"remark-input\" :placeholder=\"item.placeholder\" placeholder-class=\"placeholder\" />\n            </view>\n          </view>\n        </template>\n      </view>\n    </view>\n    <order-pay :order-detail=\"orderDetail\" @refresh=\"refreshPreviewOrder\" @submit=\"toSubmit\" />\n  </view>\n</template>\n\n<script lang=\"ts\" setup name=\"GoodsSettle\">\nimport { computed, reactive, ref } from 'vue'\nimport GoodsAddress from './goods-address.vue'\nimport GoodsItem from './goods-item.vue'\nimport OrderPay from './order-pay/index.vue'\nimport { toCreatePreviewOrder } from '@api/order'\nimport { debounce } from '@src/lib/lodash'\nimport { useGoodsStore } from '@src/pinia/goods'\nimport { useOrder } from './order'\nimport { onLoad, onShow } from '@dcloudio/uni-app'\nimport { useAddressStore } from '@src/pinia/address'\nimport { Enum } from '@src/lib/enmu'\n\ninterface CustomInfoItem {\n  key: string\n  name: string\n  value: string\n  placeholder: string\n}\n\ntype OnLoadOption<T> = Record<keyof T, string | undefined>\n\ninterface SettleOption {\n  goodsType: string\n  customerInfo: string\n  orderChannel: string\n  distributer: string\n}\n\nconst addressStore = useAddressStore()\n// 地址相关\nconst selectedAddress = computed(() => addressStore.selectedAddress)\n\nconst goodsStore = useGoodsStore()\ngoodsStore.getPointRatio()\nconst pointRatio = computed(() => goodsStore.pointRatio)\n\nconst { orderDetail, businessId, createOrder, getBisId, refreshPreviewDetail } = useOrder()\n// 商品列表\nconst goodsList = computed(() => orderDetail?.itemList || [])\n\nconst orderGoodsList = computed(() => {\n  return goodsList.value.map((item) => {\n    return {\n      skuId: item.skuId,\n      itemId: item.itemId,\n      quantity: item.quantity\n    }\n  })\n})\n\n// 商品详情直接下单获取的分销id\nlet distributer = ''\nonLoad((options: OnLoadOption<SettleOption>) => {\n  // 初始化参数\n  const { goodsType: type, customerInfo: cinfo, orderChannel: channel, distributer: d } = options\n  goodsType.value = Number(type)\n  orderChannel.value = Number(channel)\n  distributer = d || ''\n  if (cinfo) {\n    const customer = JSON.parse(cinfo)\n    customerInfo = customer\n    const list = Object.keys(customer).map((item: string) => {\n      return {\n        key: item,\n        name: customer[item],\n        value: '',\n        placeholder: '请输入' + customer[item]\n      }\n    })\n    customerInfoArray.push(...list)\n  }\n  getBisId()\n  refreshPreviewDetail()\n})\n\nonShow(() => {\n  // 每次进入页面都先获取地址，否则新增或者删除完地址数据不能及时更新\n  addressStore.getUserAddress()\n})\n\nconst isVirtual = computed(() => goodsType.value === Enum.Item.Type.Virtual)\n\nlet userAddressIdStr = ref('')\n// 切换地址，需要带着userAddressId重新调用订单预览接口\nfunction changeAddress(addressId?: string) {\n  userAddressIdStr.value = addressId || ''\n  orderGoodsList.value.length && refreshPreviewOrder(null)\n}\n\nconst refreshPreviewOrder = debounce(async (couponAccountCode: string) => {\n  try {\n    let previewOrderParams = {\n      itemToOrderList: orderGoodsList.value,\n      vmId: 1\n    } as Order.CreateOrderPreviewParams\n    couponAccountCode && (previewOrderParams.couponAccountCode = couponAccountCode)\n    userAddressIdStr.value && (previewOrderParams.userAddressId = userAddressIdStr.value)\n    await toCreatePreviewOrder(previewOrderParams)\n    refreshPreviewDetail()\n  } catch (error) {}\n}, 300)\n\nconst orderChannel = ref(0)\n\nconst customerInfoArray: CustomInfoItem[] = reactive([])\nlet customerInfo = {}\n\nconst remark = ref('')\n\nconst goodsType = ref(0)\n\nconst toVirtualSumbit = (payMethod: string, defaultPoint: number, customPoint: number, couponAccountCode: string) => {\n  const customInfo: {\n    [key: string]: string\n  } = {}\n  customerInfoArray.forEach((item) => {\n    customInfo[item.key] = item.value\n  })\n  if (Object.values(customInfo).includes('')) {\n    uni.showToast({\n      icon: 'none',\n      title: '请完善购买信息'\n    })\n    return\n  }\n  const data = {\n    vmId: 1,\n    criteria: {\n      distributer: distributer,\n      customerInfo\n    },\n    businessId: businessId.value,\n    orderChannel: orderChannel.value,\n    remark: remark.value,\n    itemToOrderList: orderGoodsList.value,\n    couponAccountCode: couponAccountCode,\n    pointNum: payMethod === 'DEFAULT' ? defaultPoint : Number(customPoint)\n  }\n  createOrder(data)\n}\n\nconst toNormalSumbit = (payMethod: string, defaultPoint: number, customPoint: number, couponAccountCode: string) => {\n  if (!selectedAddress.value) {\n    uni.showToast({\n      icon: 'none',\n      title: '请选择地址'\n    })\n    return\n  }\n  const data = {\n    vmId: 1,\n    criteria: {\n      distributer: distributer\n    },\n    orderAddressId: selectedAddress.value.id,\n    businessId: businessId.value,\n    orderChannel: orderChannel.value,\n    remark: remark.value,\n    itemToOrderList: orderGoodsList.value,\n    couponAccountCode: couponAccountCode,\n    pointNum: payMethod === 'DEFAULT' ? defaultPoint : Number(customPoint)\n  }\n  createOrder(data)\n}\n\nconst toSubmit = (payMethod: string, defaultPoint: number, customPoint: number, couponAccountCode: string) => {\n  isVirtual.value ? toVirtualSumbit(payMethod, defaultPoint, customPoint, couponAccountCode) : toNormalSumbit(payMethod, defaultPoint, customPoint, couponAccountCode)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.padding-40 {\n  padding: 0 40rpx;\n}\n\n.container {\n  width: 100%;\n  height: 100%;\n  overflow-x: hidden;\n  background-color: #fff;\n  padding-bottom: calc(env(safe-area-inset-bottom) + 120rpx);\n\n  .header {\n    width: 100vw;\n    line-height: 132rpx;\n    color: #292c2e;\n    font-size: 56rpx;\n    font-weight: 500;\n  }\n}\n\n// 备注\n.add-info {\n  border-bottom: 1rpx solid #f2f3f3;\n\n  .item {\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    color: #909ca8;\n    margin: 35rpx 0;\n    font-size: 28rpx;\n\n    .label {\n      width: 160rpx;\n      color: #1a1a1a;\n      font-weight: 600;\n      display: flex;\n      align-items: center;\n      justify-content: flex-end;\n\n      .required {\n        color: red;\n        padding: 0 10rpx;\n      }\n    }\n\n    .form-item-content {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding-left: 24rpx;\n      width: 90%;\n    }\n  }\n\n  .remark-input {\n    font-size: 28rpx;\n    color: #1a1a1a;\n    width: 480rpx;\n  }\n\n  .placeholder {\n    font-size: 28rpx;\n    color: #bababa;\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-life/pages/goods-settle/index.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view>\n    <sp-product-assess-list v-if=\"itemId\" ref=\"productAssessListRef\" class=\"pro-list\" :item-id=\"itemId\" />\n  </view>\n</template>\n\n<script lang=\"ts\" setup name=\"ProductAssessList\">\nimport { onLoad, onReachBottom } from '@dcloudio/uni-app'\nimport { Ref, ref } from 'vue'\n\nconst productAssessListRef: Ref<SpProductAssessList | null> = ref(null)\nconst itemId = ref('')\n\nonLoad((options) => {\n  itemId.value = options.itemId || ''\n})\nonReachBottom(() => {\n  productAssessListRef.value?.onloadMore()\n})\n</script>\n\n<style scoped lang=\"scss\">\n::v-deep .pro-list {\n  .no-more {\n    background-color: #fff;\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-life/pages/product-assess-list/index.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"container\">\n    <view class=\"shop-modular\">\n      <view v-for=\"item in storeData.list\" :key=\"item.id\" class=\"shop-list\">\n        <view class=\"item-detail-info\" @click=\"openTheMap(item)\">\n          <view class=\"store-name\">{{ item.name }}</view>\n          <view class=\"store-address\">\n            <text>{{ item.address }}</text>\n          </view>\n        </view>\n        <view class=\"icon-info\" @click=\"onShowPhonePop(item)\">\n          <image :src=\"iconPhone\" mode=\"scaleToFill\" />\n        </view>\n      </view>\n    </view>\n    <view class=\"no-more\">-没有更多了-</view>\n    <uni-popup ref=\"popupRef\" type=\"bottom\">\n      <view class=\"popup-content\">\n        <view class=\"phone-number-box\">\n          <view v-for=\"phone in businessPhone\" :key=\"phone\" @click=\"onMakePhoneCall(phone)\">{{ phone }}</view>\n        </view>\n        <view class=\"popup-btn\">\n          <view class=\"btn\" @click=\"closePhonePopup\">取消</view>\n        </view>\n      </view>\n    </uni-popup>\n  </view>\n</template>\n\n<script lang=\"ts\" setup name=\"StoreList\">\nimport { ref, reactive, inject, Ref } from 'vue'\nimport { getConsumerPlaces } from '@api/goods'\nimport { useLocationStore } from '@src/pinia/location'\nimport { getFlatternDistance } from '@src/util/map'\nimport { onLoad } from '@dcloudio/uni-app'\n\ntype OnLoadOption<T> = Record<keyof T, string | undefined>\n\nonLoad((options: OnLoadOption<{ id: string }>) => {\n  id.value = options.id || ''\n  getStoreList()\n})\n\nconst businessPhone: string[] = reactive([])\n\nconst gdp = inject('$gdp') as GeneratorDynamicPicFunc<string[]>\nconst [iconPhone] = gdp(['icon-phone.png'])\n\nconst openTheMap = async (item: AnyObject) => {\n  uni.openLocation({\n    latitude: Number(item.latitude),\n    longitude: Number(item.longitude),\n    name: item.name,\n    address: item.address\n  })\n}\nconst onMakePhoneCall = (phone: string) => {\n  uni.makePhoneCall({\n    phoneNumber: phone\n  })\n}\n\nconst pageNo = ref(1)\nconst pageSize = ref(100)\nconst storeData = reactive({\n  total: 0,\n  list: [] as Goods.StoreInfo[],\n  length: 0 // list的当前长度\n})\nconst id = ref('')\n\n// 获取门店列表\nconst getStoreList = () => {\n  const params = {\n    itemId: id.value,\n    pageNo: pageNo.value,\n    pageSize: pageSize.value\n  }\n  getConsumerPlaces(params).then(async (res: AnyObject) => {\n    const resData = res?.data || []\n    storeData.total = res.total || 0\n    storeData.length = resData.length\n    try {\n      const loca = await useLocationStore().getLocation()\n      // 门店按照直线距离远近排序\n      storeData.list = resData.sort((a: StoreInfo, b: StoreInfo) => {\n        return (\n          getFlatternDistance(Number(a.latitude), Number(a.longitude), Number(loca.latitude), Number(loca.longitude)) -\n          getFlatternDistance(Number(b.latitude), Number(b.longitude), Number(loca.latitude), Number(loca.longitude))\n        )\n      })\n    } catch (error) {\n      console.log('获取定位失败')\n      storeData.list = resData\n    }\n  })\n}\n\nconst popupRef: Ref<SpPopup | null> = ref(null)\nfunction onShowPhonePop(item: AnyObject) {\n  businessPhone.length = 0\n  businessPhone.push(...item.telephone.split(','))\n  popupRef.value?.open()\n}\nfunction closePhonePopup() {\n  popupRef.value?.close()\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  padding-bottom: env(safe-area-inset-bottom);\n}\n\n.wrap-header {\n  width: 100vw;\n  height: 88rpx;\n  line-height: 88rpx;\n  position: relative;\n  text-align: center;\n  background-color: #fff;\n\n  .img {\n    position: absolute;\n    width: 48rpx;\n    height: 48rpx;\n    top: 20rpx;\n    left: 16rpx;\n  }\n}\n\n.shop-modular {\n  width: 90%;\n  margin: 0 auto 60rpx;\n\n  .shop-list {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 36rpx 0;\n    border-bottom: 1rpx solid rgb(228 231 234 / 50%);\n\n    .item-detail-info {\n      width: 90%;\n\n      .store-name {\n        font-size: 30rpx;\n        color: #292c2e;\n      }\n\n      .store-address {\n        width: 100%;\n        display: flex;\n        justify-content: flex-start;\n        align-items: center;\n        font-size: 24rpx;\n        color: #92969a;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n\n        text {\n          width: 83%;\n          overflow: hidden;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n        }\n      }\n    }\n\n    .icon-info {\n      line-height: 0;\n\n      image {\n        width: 72rpx;\n        height: 72rpx;\n      }\n    }\n  }\n\n  .more-shop {\n    width: 100%;\n    margin: 48rpx 0 10rpx;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    text {\n      color: #4e6175;\n    }\n\n    image {\n      width: 40rpx;\n      height: 40rpx;\n    }\n  }\n}\n\n.no-more {\n  text-align: center;\n  font-size: 26rpx;\n  color: #909ca8;\n  padding-bottom: 30rpx;\n}\n\n.popup-content {\n  width: 94%;\n  margin: 0 auto;\n  color: #008eff;\n  padding-bottom: env(safe-area-inset-bottom);\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  .phone-number-box {\n    border-radius: 16rpx;\n    margin-bottom: 20rpx;\n    background: #fff;\n\n    > view {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      height: 120rpx;\n      font-size: 34rpx;\n      border-bottom: 1rpx solid rgb(228 231 234 / 50%);\n    }\n\n    > view:last-child {\n      border-bottom: none;\n    }\n  }\n\n  .popup-btn {\n    background: #fff;\n\n    .btn {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      height: 120rpx;\n      font-size: 38rpx;\n    }\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-life/pages/store-list/index.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"page\">\n    <!-- 订单支付倒计时 -->\n    <view v-if=\"payLeftSeconds > 0\" class=\"pay-info flex-col items-center justify-center\">\n      <view class=\"pay-left flex-row items-center\">\n        <text>支付剩余时间</text>\n        <uni-countdown :show-day=\"false\" :show-colon=\"false\" :second=\"payLeftSeconds\" color=\"#92969A\" splitor-color=\"#92969A\" @timeup=\"setTimeup\" />\n      </view>\n      <view class=\"pay-fee items-center\">\n        <text class=\"mark\">￥</text>\n        <text class=\"fee\">{{ fee }}</text>\n      </view>\n    </view>\n    <!-- 订单超时 -->\n    <view v-else-if=\"loaded\" class=\"out-date items-center justify-center\">订单已超时</view>\n    <view v-if=\"Number(fee) > 0\" class=\"pay-type\">\n      <view v-if=\"payTypeList.length > 1\" class=\"pay-type-title\">选择支付方式</view>\n      <view v-for=\"item in payTypeList\" :key=\"item.value\" class=\"pay-item items-center justify-between\" @click=\"payType = item.value\">\n        <view class=\"items-center justify-between\">\n          <image class=\"icon\" :src=\"item.icon\" mode=\"asceptFit\" />\n          <text class=\"pay-text\">{{ item.text }}</text>\n        </view>\n        <sp-checkbox v-model=\"payType\" size=\"small\" :true-value=\"item.value\" @change=\"change\" />\n      </view>\n    </view>\n    <!-- 底部支付按钮 -->\n    <view class=\"footer\">\n      <view class=\"btn items-center justify-center\" :class=\"{ disabled: payLeftSeconds <= 0 }\" @click=\"toPay\">立即支付</view>\n    </view>\n    <!-- #ifdef H5 -->\n    <uni-popup ref=\"payPopup\" :mask-click=\"false\">\n      <view class=\"pay-confirm flex-col items-center\">\n        <view class=\"title items-center justify-center\">请确认是否已完成支付</view>\n        <view class=\"confirm-footer justify-between\">\n          <view class=\"cancel items-center justify-center\" @click=\"toRePay\">重新支付</view>\n          <view class=\"confirm items-center justify-center\" @click=\"checkPay\">已完成支付</view>\n        </view>\n      </view>\n    </uni-popup>\n    <view class=\"alipay\" v-html=\"alipay\" />\n    <!-- #endif -->\n  </view>\n</template>\n\n<script lang=\"ts\" setup name=\"Payment\">\nimport { ref, inject, nextTick, Ref } from 'vue'\nimport { getOrderInfo } from '@api/order'\nimport { getPayOrder } from '@api/pay'\nimport { formatMoney } from '@src/util/money'\nimport { isInWechat } from '@src/util/common'\nimport { onLoad, onShow } from '@dcloudio/uni-app'\n\ntype OnLoadOption<T> = Record<keyof T, string | undefined>\n\ninterface PaymentOption {\n  orderId: string\n  type: string\n  isFromPaid?: string\n}\n\nconst orderId = ref('')\nconst type = ref(0)\nconst isFromPaid = ref(false)\n\nonLoad((option: OnLoadOption<PaymentOption>) => {\n  const { orderId: id, type: t, isFromPaid: fromPaid } = option\n  orderId.value = id || ''\n  type.value = Number(t || 0)\n  // 微信支付返回\n  isFromPaid.value = !!fromPaid\n})\nonShow(() => {\n  if (!orderId.value) {\n    return\n  }\n  isFromPaid.value ? checkPay() : getOrder()\n})\n// 静态图片\nconst gdp = inject('$gdp') as GeneratorDynamicPicFunc<string>\nconst wechatImg = gdp('icon-wechat.png')\n\nconst loaded = ref(false)\n\nconst fee = ref('')\nconst payLeftSeconds = ref(0)\n\nconst payTypeList = [\n  {\n    value: 'wechat',\n    text: '微信支付',\n    icon: wechatImg\n  }\n]\n\n// #ifdef H5\nconst alipayImg = gdp('icon-alipay.png')\nif (!isInWechat) {\n  payTypeList.push({\n    value: 'alipay',\n    text: '支付宝支付',\n    icon: alipayImg\n  })\n}\nconst alipay = ref('')\n// #endif\n\nconst payType = ref('')\n\npayType.value = payTypeList[0].value\n\nfunction change(val: string, oldVal: string) {\n  console.log(val, oldVal)\n  nextTick(() => {\n    if (!val) {\n      payType.value = oldVal\n    }\n  })\n}\n\nfunction setTimeup() {\n  payLeftSeconds.value = 0\n}\n\nasync function getOrder() {\n  uni.showLoading({\n    mask: true,\n    title: '支付信息获取中'\n  })\n  try {\n    const { order } = (await getOrderInfo(orderId.value)) as AnyObject\n    if (order.payTime) {\n      uni.hideLoading()\n      uni.redirectTo({\n        url: `/package-life/pages/payment-success/index?type=${type.value}&orderId=${orderId.value}`\n      })\n      return\n    }\n    loaded.value = true\n    const { totalAmount, payLeftTime } = order\n    fee.value = Number(totalAmount) > 0 ? formatMoney(totalAmount) : '0'\n    payLeftSeconds.value = payLeftTime / 1000\n    uni.hideLoading()\n    return order\n  } catch (error) {\n    uni.hideLoading()\n  }\n}\n// #ifdef MP-WEIXIN\nasync function toPayWechat() {\n  // 支付前先静默登录再调用支付接口\n  uni.showLoading({\n    mask: true,\n    title: '支付中...'\n  })\n  uni.login({\n    success: async (res) => {\n      const code = res.code\n      try {\n        const payOrder = (await getPayOrder({\n          orderId: orderId.value,\n          agencyCode: '02',\n          channelCode: '08',\n          vmId: 1,\n          code\n        })) as AnyObject\n        if (payOrder) {\n          uni.requestPayment({\n            provider: 'wxpay',\n            orderInfo: '',\n            timeStamp: payOrder.timeStamp,\n            nonceStr: payOrder.nonceStr,\n            package: payOrder.package,\n            signType: payOrder.signType,\n            paySign: payOrder.paySign,\n            success: () => {\n              uni.hideLoading()\n              uni.redirectTo({\n                url: `/package-life/pages/payment-success/index?type=${type.value}&orderId=${orderId.value}`\n              })\n            },\n            fail: (e) => {\n              uni.hideLoading()\n              uni.showToast({\n                title: '支付异常，请重新支付',\n                icon: 'none'\n              })\n            }\n          })\n        } else {\n          uni.hideLoading()\n          // 无需第三方支付,直接跳转至支付成功\n          uni.redirectTo({\n            url: `/package-life/pages/payment-success/index?type=${type.value}&orderId=${orderId.value}`\n          })\n        }\n      } catch (error) {}\n    }\n  })\n}\n// #endif\n// #ifdef H5\nasync function toPayH5() {\n  uni.showLoading({\n    mask: true,\n    title: '支付中...'\n  })\n  try {\n    const payOrder = (await getPayOrder({\n      orderId: orderId.value,\n      agencyCode: payType.value === 'wechat' ? '02' : '01',\n      channelCode: payType.value === 'wechat' ? (isInWechat ? '05' : '07') : '15',\n      vmId: 1,\n      returnUrl: location.href + '&isFromPaid=1'\n    })) as AnyObject\n    if (payOrder) {\n      // 支付宝支付\n      if (payType.value === 'alipay') {\n        alipay.value = payOrder.body\n        nextTick(() => {\n          document.forms[0].submit()\n        })\n        return\n      }\n      // const { appId, nonce_str, prepay_id, sign } = payOrder\n      // 微信支付\n      if (isInWechat) {\n        uni.showToast({\n          icon: 'none',\n          title: '暂不支持微信公众网页支付，请在浏览器进行支付'\n        })\n      } else {\n        window.location.href = payOrder.mweb_url + '&redirect_url=' + encodeURIComponent(`${location.href}&isFromPaid=1`)\n      }\n      uni.hideLoading()\n    } else {\n      uni.hideLoading()\n      // 无需第三方支付,直接跳转至支付成功\n      uni.redirectTo({\n        url: `/package-life/pages/payment-success/index?type=${type.value}&orderId=${orderId.value}`\n      })\n    }\n  } catch (error) {\n    uni.hideLoading()\n  }\n}\n// #endif\nasync function toPay() {\n  if (payLeftSeconds.value <= 0) {\n    uni.showToast({\n      title: '订单已超时',\n      icon: 'none'\n    })\n    return\n  }\n  // #ifdef H5\n  toPayH5()\n  // #endif\n  // #ifdef MP-WEIXIN\n  toPayWechat()\n  // #endif\n}\n\nconst payPopup: Ref<SpPopup | null> = ref(null)\n\nfunction toRePay() {\n  payPopup.value?.close()\n}\n\nasync function checkPay() {\n  payPopup.value?.open()\n  const order = await getOrder()\n  if (order.payTime) {\n    uni.redirectTo({\n      url: `/package-life/pages/payment-success/index?type=${type.value}&orderId=${orderId.value}`\n    })\n  } else {\n    uni.showToast({\n      icon: 'none',\n      title: '未查到支付信息，请重新支付'\n    })\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import './index.scss';\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-life/pages/payment/index.vue'\nwx.createPage(MiniProgramPage)","<template>\n  <view class=\"page\">\n    <!-- #ifdef H5 -->\n    <sp-header>\n      <view class=\"uni-page-head success-header items-center\">\n        <view class=\"uni-page-head-hd\" @click=\"goToIndex\">\n          <svg width=\"27\" height=\"27\" viewBox=\"0 0 32 32\">\n            <path\n              d=\"M21.781 7.844l-9.063 8.594 9.063 8.594q0.25 0.25 0.25 0.609t-0.25 0.578q-0.25 0.25-0.578 0.25t-0.578-0.25l-9.625-9.125q-0.156-0.125-0.203-0.297t-0.047-0.359q0-0.156 0.047-0.328t0.203-0.297l9.625-9.125q0.25-0.25 0.578-0.25t0.578 0.25q0.25 0.219 0.25 0.578t-0.25 0.578z\"\n              fill=\"#000000\"\n            />\n          </svg>\n        </view>\n        <view class=\"uni-page-head-bd\">\n          <view class=\"uni-page-head__title title\">支付成功</view>\n        </view>\n      </view>\n    </sp-header>\n    <!-- #endif -->\n    <!-- 支付成功 -->\n    <view class=\"success flex-col items-center justify-center\">\n      <image class=\"icon\" :src=\"successImg\" />\n      <view class=\"text\">订单支付成功</view>\n      <view class=\"btn items-center justify-between\">\n        <view class=\"btn-left items-center justify-center\" @click=\"goToIndex\">返回首页</view>\n        <view class=\"btn-right items-center justify-center\" @click=\"goToOrderDetail\">查看订单</view>\n      </view>\n    </view>\n    <!--猜你喜欢-->\n    <sp-recommend-goods :recommend-list=\"recommendList\" :point-ratio=\"pointRatio\" :no-more=\"noMore\" />\n  </view>\n</template>\n\n<script lang=\"ts\" setup bane=\"PaymentSuccess\">\nimport { inject, ref, reactive, onMounted, computed } from 'vue'\nimport { getPageForParentOrder } from '@api/recommend'\nimport { useGoodsStore } from '@src/pinia/goods'\nimport { onLoad, onReachBottom } from '@dcloudio/uni-app'\n\ntype OnLoadOption<T> = Record<keyof T, string | undefined>\n\ninterface PaymentSuccessOption {\n  orderId: string\n  type: string\n}\n\nonLoad((options: OnLoadOption<PaymentSuccessOption>) => {\n  const { orderId: id, type: t } = options\n  type.value = Number(t || 0)\n  orderId.value = id || ''\n})\n\nonReachBottom(async () => {\n  if (noMore.value) {\n    return\n  }\n  pageNo.value++\n  try {\n    await getRecommendList()\n  } catch (error) {\n    pageNo.value--\n  }\n})\n\nconst gdp = inject('$gdp') as GeneratorDynamicPicFunc<string>\nconst successImg = gdp('icon-success.png')\n\nconst goodsStore = useGoodsStore()\n\nconst type = ref(0)\nconst orderId = ref('')\n\nconst recommendList: Goods.Item[] = reactive([])\nconst noMore = ref(false)\nconst pageNo = ref(1)\n\nconst pointRatio = computed(() => goodsStore.pointRatio)\ngoodsStore.getPointRatio()\n\nconst getRecommendList = async () => {\n  try {\n    const { data, total } = await getPageForParentOrder(\n      { pageNo: pageNo.value, pageSize: 10 },\n      {\n        recItemTypes: [1, 2, 3],\n        orderId: orderId.value\n      }\n    )\n    recommendList.push(...data)\n    noMore.value = data.length === 0 || total === recommendList.length\n  } catch (error) {\n    throw new Error()\n  }\n}\n\nconst goToIndex = () => {\n  if (type.value === 1) {\n    uni.switchTab({\n      url: '/pages/life/index'\n    })\n  } else {\n    uni.switchTab({\n      url: '/pages/car/car'\n    })\n  }\n}\n\nconst goToOrderDetail = () => {\n  if (type.value === 1) {\n    uni.navigateTo({\n      url: '/package-mine/pages/order-detail-life/index?orderId=' + orderId.value\n    })\n  } else {\n    uni.navigateTo({\n      url: '/package-mine/pages/order-detail-car/index?id=' + orderId.value\n    })\n  }\n}\n\nonMounted(() => {\n  orderId.value && getRecommendList()\n})\n</script>\n\n<style lang=\"scss\" scoped>\n/* #ifdef H5 */\n.page {\n  padding-top: var(--window-top);\n}\n\n.success-header {\n  padding: 0 25rpx;\n  background-color: $uni-bg-color;\n  color: black;\n\n  .title {\n    font-weight: bold;\n    text-align: center;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n}\n/* #endif */\n.success {\n  margin-bottom: 124rpx;\n}\n\n.icon {\n  margin-top: 150rpx;\n  width: 164rpx;\n  height: 164rpx;\n}\n\n.text {\n  margin-top: 38rpx;\n  font-size: 56rpx;\n  color: #292c2e;\n  font-weight: 500;\n}\n\n.btn {\n  margin-top: 104rpx;\n  font-size: 30rpx;\n  padding: 10rpx 60rpx;\n  width: 100%;\n\n  .btn-left {\n    width: 284rpx;\n    height: 96rpx;\n    border: 1rpx solid #92969a;\n    font-weight: 400;\n    color: #292c2e;\n  }\n\n  .btn-right {\n    width: 284rpx;\n    height: 96rpx;\n    border: 1rpx solid #1a1a1a;\n    background: #1a1a1a;\n    color: $uni-text-color-inverse;\n  }\n}\n</style>\n","import MiniProgramPage from '/Users/supaur/Desktop/gitProject/alpha/fe-mall-h5/src/package-life/pages/payment-success/index.vue'\nwx.createPage(MiniProgramPage)"],"wx":{"version":1,"userVersion":"1.0.6","userNotes":"上传包含sourcemap版本6","packageVersion":"4a4a66fd4ae17715a99bb03275745a36"}}